/*!
Copyright 2016-2022 Kiln Enterprises Ltd

This file may be freely used, and distributed without modification.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.
IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED
OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var Handsontable,XLSX,Flourish=function(e,t,n){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var i=r(t),o=a(n),s="http://www.w3.org/1999/xhtml",l={svg:"http://www.w3.org/2000/svg",xhtml:s,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function d(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),l.hasOwnProperty(t)?{space:l[t],local:e}:e}function u(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===s&&t.documentElement.namespaceURI===s?t.createElement(e):t.createElementNS(n,e)}}function c(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function m(e){var t=d(e);return(t.local?c:u)(t)}function p(){}function _(e){return null==e?p:function(){return this.querySelector(e)}}function h(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function f(){return[]}function y(e){return null==e?f:function(){return this.querySelectorAll(e)}}function g(e){return function(){return this.matches(e)}}function v(e){return function(t){return t.matches(e)}}var b=Array.prototype.find;function M(){return this.firstElementChild}var w=Array.prototype.filter;function L(){return this.children}function k(e){return new Array(e.length)}function Y(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function D(e){return function(){return e}}function x(e,t,n,a,r,i){for(var o,s=0,l=t.length,d=i.length;s<d;++s)(o=t[s])?(o.__data__=i[s],a[s]=o):n[s]=new Y(e,i[s]);for(;s<l;++s)(o=t[s])&&(r[s]=o)}function T(e,t,n,a,r,i,o){var s,l,d,u=new Map,c=t.length,m=i.length,p=new Array(c);for(s=0;s<c;++s)(l=t[s])&&(p[s]=d=o.call(l,l.__data__,s,t)+"",u.has(d)?r[s]=l:u.set(d,l));for(s=0;s<m;++s)d=o.call(e,i[s],s,i)+"",(l=u.get(d))?(a[s]=l,l.__data__=i[s],u.delete(d)):n[s]=new Y(e,i[s]);for(s=0;s<c;++s)(l=t[s])&&u.get(p[s])===l&&(r[s]=l)}function S(e){return e.__data__}function H(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function E(e){return function(){this.removeAttribute(e)}}function j(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A(e,t){return function(){this.setAttribute(e,t)}}function C(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function O(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function F(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function P(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function N(e){return function(){this.style.removeProperty(e)}}function R(e,t,n){return function(){this.style.setProperty(e,t,n)}}function W(e,t,n){return function(){var a=t.apply(this,arguments);null==a?this.style.removeProperty(e):this.style.setProperty(e,a,n)}}function z(e,t){return e.style.getPropertyValue(t)||P(e).getComputedStyle(e,null).getPropertyValue(t)}function U(e){return function(){delete this[e]}}function I(e,t){return function(){this[e]=t}}function q(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function B(e){return e.trim().split(/^|\s+/)}function J(e){return e.classList||new V(e)}function V(e){this._node=e,this._names=B(e.getAttribute("class")||"")}function $(e,t){for(var n=J(e),a=-1,r=t.length;++a<r;)n.add(t[a])}function G(e,t){for(var n=J(e),a=-1,r=t.length;++a<r;)n.remove(t[a])}function K(e){return function(){$(this,e)}}function Z(e){return function(){G(this,e)}}function X(e,t){return function(){(t.apply(this,arguments)?$:G)(this,e)}}function Q(){this.textContent=""}function ee(e){return function(){this.textContent=e}}function te(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ne(){this.innerHTML=""}function ae(e){return function(){this.innerHTML=e}}function re(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function ie(){this.nextSibling&&this.parentNode.appendChild(this)}function oe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function se(){return null}function le(){var e=this.parentNode;e&&e.removeChild(this)}function de(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ue(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ce(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function me(e){return function(){var t=this.__on;if(t){for(var n,a=0,r=-1,i=t.length;a<i;++a)n=t[a],e.type&&n.type!==e.type||n.name!==e.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function pe(e,t,n){return function(){var a,r=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(r)for(var o=0,s=r.length;o<s;++o)if((a=r[o]).type===e.type&&a.name===e.name)return this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),void(a.value=t);this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function _e(e,t,n){var a=P(e),r=a.CustomEvent;"function"==typeof r?r=new r(t,n):(r=a.document.createEvent("Event"),n?(r.initEvent(t,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(t,!1,!1)),e.dispatchEvent(r)}function he(e,t){return function(){return _e(this,e,t)}}function fe(e,t){return function(){return _e(this,e,t.apply(this,arguments))}}Y.prototype={constructor:Y,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}},V.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var ye=[null];function ge(e,t){this._groups=e,this._parents=t}function ve(){return new ge([[document.documentElement]],ye)}function be(e){return"string"==typeof e?new ge([[document.querySelector(e)]],[document.documentElement]):new ge([[e]],ye)}function Me(e){return be(m(e).call(document.documentElement))}function we(e){return"string"==typeof e?new ge([document.querySelectorAll(e)],[document.documentElement]):new ge([null==e?[]:h(e)],ye)}function Le(e){if(!(e.length<=2))return"set"===e[0]?e[2]=""+e[2]:"send"===e[0]&&"event"===e[1]&&("string"==typeof e[2]||e[2]instanceof String?e.length>=5&&(e[4]=""+e[4]):"eventLabel"in e[2]&&(e[2].eventLabel=""+e[2].eventLabel)),e}function ke(e,t){if(!window.location.hostname.match(/\.flourish\.studio$/))return window.ga=function(e){if(!e||"function"!=typeof e){var t=Array.prototype.slice.call(arguments,0);if("send"==e)for(var n=0;n<t.length;n++)"object"==typeof t[n]&&"hitCallback"in t[n]&&t[n].hitCallback()}};var n,a,r,i,o,s;n=window,a=document,r="script",i="ga",n.GoogleAnalyticsObject=i,n.ga=n.ga||function(){var e=Array.prototype.slice.call(arguments);(n.ga.q=n.ga.q||[]).push(Le(e))},n.ga.l=1*new Date,o=a.createElement(r),s=a.getElementsByTagName(r)[0],o.async=1,o.src="https://www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s);var l={cookieDomain:"flourish.studio"};void 0===t?(l.storage="none",l.storeGac=!1):l.userId=t.id,ga("create","UA-44635456-19","auto",l),ga("set","transport","beacon"),void 0!==t&&(ga("set","dimension1",t.id),t.company_type?ga("set","dimension3","other"==t.company_type?"corporate":t.company_type):ga("set","dimension3",t.has_active_subscription?"personal":"free"));var d=new Date;return ga("set","dimension2",d.toISOString()),ga("send","pageview",e),function(){arguments.length>=4&&"event"===arguments[1]&&(window._mfq=window._mfq||[],window._mfq.push(["setVariable",arguments[2],arguments[3]])),window.ga.apply(window.ga,Le(Array.prototype.slice.call(arguments)))}}function Ye(e,t){be("form#form-"+t).on("submit",(function(n){var a=this;n.preventDefault(),setTimeout(i,1e3);var r=!1;function i(){r||(r=!0,a.submit())}e("send","event","user",t,{hitCallback:i})}))}
/*! Raven.js 3.27.2 (6d91db933) | github.com/getsentry/raven-js */ge.prototype=ve.prototype={constructor:ge,select:function(e){"function"!=typeof e&&(e=_(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o,s=t[r],l=s.length,d=a[r]=new Array(l),u=0;u<l;++u)(i=s[u])&&(o=e.call(i,i.__data__,u,s))&&("__data__"in i&&(o.__data__=i.__data__),d[u]=o);return new ge(a,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);return null==t?[]:h(t)}}(e):y(e);for(var t=this._groups,n=t.length,a=[],r=[],i=0;i<n;++i)for(var o,s=t[i],l=s.length,d=0;d<l;++d)(o=s[d])&&(a.push(e.call(o,o.__data__,d,s)),r.push(o));return new ge(a,r)},selectChild:function(e){return this.select(null==e?M:function(e){return function(){return b.call(this.children,e)}}("function"==typeof e?e:v(e)))},selectChildren:function(e){return this.selectAll(null==e?L:function(e){return function(){return w.call(this.children,e)}}("function"==typeof e?e:v(e)))},filter:function(e){"function"!=typeof e&&(e=g(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o=t[r],s=o.length,l=a[r]=[],d=0;d<s;++d)(i=o[d])&&e.call(i,i.__data__,d,o)&&l.push(i);return new ge(a,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,S);var n=t?T:x,a=this._parents,r=this._groups;"function"!=typeof e&&(e=D(e));for(var i=r.length,o=new Array(i),s=new Array(i),l=new Array(i),d=0;d<i;++d){var u=a[d],c=r[d],m=c.length,p=h(e.call(u,u&&u.__data__,d,a)),_=p.length,f=s[d]=new Array(_),y=o[d]=new Array(_),g=l[d]=new Array(m);n(u,c,f,y,g,p,t);for(var v,b,M=0,w=0;M<_;++M)if(v=f[M]){for(M>=w&&(w=M+1);!(b=y[w])&&++w<_;);v._next=b||null}}return(o=new ge(o,a))._enter=s,o._exit=l,o},enter:function(){return new ge(this._enter||this._groups.map(k),this._parents)},exit:function(){return new ge(this._exit||this._groups.map(k),this._parents)},join:function(e,t,n){var a=this.enter(),r=this,i=this.exit();return a="function"==typeof e?e(a):a.append(e+""),null!=t&&(r=t(r)),null==n?i.remove():n(i),a&&r?a.merge(r).order():r},merge:function(e){if(!(e instanceof ge))throw new Error("invalid merge");for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l,d=t[s],u=n[s],c=d.length,m=o[s]=new Array(c),p=0;p<c;++p)(l=d[p]||u[p])&&(m[p]=l);for(;s<a;++s)o[s]=t[s];return new ge(o,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var a,r=e[t],i=r.length-1,o=r[i];--i>=0;)(a=r[i])&&(o&&4^a.compareDocumentPosition(o)&&o.parentNode.insertBefore(a,o),o=a);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=H);for(var n=this._groups,a=n.length,r=new Array(a),i=0;i<a;++i){for(var o,s=n[i],l=s.length,d=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(d[u]=o);d.sort(t)}return new ge(r,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a=e[t],r=0,i=a.length;r<i;++r){var o=a[r];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,a=t.length;n<a;++n)for(var r,i=t[n],o=0,s=i.length;o<s;++o)(r=i[o])&&e.call(r,r.__data__,o,i);return this},attr:function(e,t){var n=d(e);if(arguments.length<2){var a=this.node();return n.local?a.getAttributeNS(n.space,n.local):a.getAttribute(n)}return this.each((null==t?n.local?j:E:"function"==typeof t?n.local?F:O:n.local?C:A)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?N:"function"==typeof t?W:R)(e,t,null==n?"":n)):z(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?U:"function"==typeof t?q:I)(e,t)):this.node()[e]},classed:function(e,t){var n=B(e+"");if(arguments.length<2){for(var a=J(this.node()),r=-1,i=n.length;++r<i;)if(!a.contains(n[r]))return!1;return!0}return this.each(("function"==typeof t?X:t?K:Z)(n,t))},text:function(e){return arguments.length?this.each(null==e?Q:("function"==typeof e?te:ee)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ne:("function"==typeof e?re:ae)(e)):this.node().innerHTML},raise:function(){return this.each(ie)},lower:function(){return this.each(oe)},append:function(e){var t="function"==typeof e?e:m(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:m(e),a=null==t?se:"function"==typeof t?t:_(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)}))},remove:function(){return this.each(le)},clone:function(e){return this.select(e?ue:de)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var a,r,i=ce(e+""),o=i.length;if(!(arguments.length<2)){for(s=t?pe:me,a=0;a<o;++a)this.each(s(i[a],t,n));return this}var s=this.node().__on;if(s)for(var l,d=0,u=s.length;d<u;++d)for(a=0,l=s[d];a<o;++a)if((r=i[a]).type===l.type&&r.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?fe:he)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var a,r=e[t],i=0,o=r.length;i<o;++i)(a=r[i])&&(yield a)}},function(t){if("object"==typeof e&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Raven=t()}}((function(){return function e(t,n,a){function r(o,s){if(!n[o]){if(!t[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var u=n[o]={exports:{}};t[o][0].call(u.exports,(function(e){var n=t[o][1][e];return r(n||e)}),u,u.exports,e,t,n,a)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(e,t,n){function a(e){this.name="RavenConfigError",this.message=e}a.prototype=new Error,a.prototype.constructor=a,t.exports=a},{}],2:[function(e,t,n){var a=e(5);t.exports={wrapMethod:function(e,t,n){var r=e[t],i=e;if(t in e){var o="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=a.safeJoin(e," "),l={level:o,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(a.safeJoin(e.slice(1)," ")||"console.assert"),l.extra.arguments=e.slice(1),n&&n(s,l)):n&&n(s,l),r&&Function.prototype.apply.call(r,i,e)}}}}},{5:5}],3:[function(e,t,n){(function(n){var a=e(6),r=e(7),i=e(8),o=e(1),s=e(5),l=s.isErrorEvent,d=s.isDOMError,u=s.isDOMException,c=s.isError,m=s.isObject,p=s.isPlainObject,_=s.isUndefined,h=s.isFunction,f=s.isString,y=s.isArray,g=s.isEmptyObject,v=s.each,b=s.objectMerge,M=s.truncate,w=s.objectFrozen,L=s.hasKey,k=s.joinRegExp,Y=s.urlencode,D=s.uuid4,x=s.htmlTreeAsString,T=s.isSameException,S=s.isSameStacktrace,H=s.parseUrl,E=s.fill,j=s.supportsFetch,A=s.supportsReferrerPolicy,C=s.serializeKeysForMessage,O=s.serializeException,F=s.sanitize,P=e(2).wrapMethod,N="source protocol user pass host port path".split(" "),R=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function W(){return+new Date}var z="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},U=z.document,I=z.navigator;function q(e,t){return h(t)?function(n){return t(n,e)}:t}function B(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!_(U),this._hasNavigator=!_(I),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:A()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=W(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}B.prototype={VERSION:"3.27.2",debug:!1,TraceKit:a,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var r=n._globalOptions;t&&v(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:r[e]=t})),n.setDSN(e),r.ignoreErrors.push(/^Script error\.?$/),r.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),r.ignoreErrors=k(r.ignoreErrors),r.ignoreUrls=!!r.ignoreUrls.length&&k(r.ignoreUrls),r.whitelistUrls=!!r.whitelistUrls.length&&k(r.whitelistUrls),r.includePaths=k(r.includePaths),r.maxBreadcrumbs=Math.max(0,Math.min(r.maxBreadcrumbs||100,100));var i={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},o=r.autoBreadcrumbs;"[object Object]"==={}.toString.call(o)?o=b(i,o):!1!==o&&(o=i),r.autoBreadcrumbs=o;var s={tryCatch:!0},l=r.instrument;return"[object Object]"==={}.toString.call(l)?l=b(s,l):!1!==l&&(l=s),r.instrument=l,a.collectWindowErrors=!!r.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(a.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),a=n.path.lastIndexOf("/"),r=n.path.substr(1,a);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(a+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+r+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return h(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var a=this;if(_(t)&&!h(e))return e;if(h(e)&&(t=e,e=void 0),!h(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function r(){var r=[],i=arguments.length,o=!e||e&&!1!==e.deep;for(n&&h(n)&&n.apply(this,arguments);i--;)r[i]=o?a.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,r)}catch(t){throw a._ignoreNextOnError(),a.captureException(t,e),t}}for(var i in t)L(t,i)&&(r[i]=t[i]);return r.prototype=t.prototype,t.__raven_wrapper__=r,r.__raven__=!0,r.__orig__=t,r},uninstall:function(){return a.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=b({trimHeadFrames:0},t||{}),l(e)&&e.error)e=e.error;else{if(d(e)||u(e)){var n=e.name||(d(e)?"DOMError":"DOMException"),r=e.message?n+": "+e.message:n;return this.captureMessage(r,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(c(e));else{if(!p(e))return this.captureMessage(e,b(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var i=a.computeStackTrace(e);this._handleStackInfo(i,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),a=b(e,{message:"Non-Error exception captured with keys: "+C(n),fingerprint:[i(n)],extra:e.extra||{}});return a.extra.__serialized__=O(t),a},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,r=b({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var i=a.computeStackTrace(n),o=y(i.stack)&&i.stack[1];o&&"Raven.captureException"===o.func&&(o=i.stack[2]);var s=o&&o.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===r.message){r.fingerprint=null==r.fingerprint?e:r.fingerprint,(t=b({trimHeadFrames:0},t)).trimHeadFrames+=1;var l=this._prepareFrames(i,t);r.stacktrace={frames:l.reverse()}}return r.fingerprint&&(r.fingerprint=y(r.fingerprint)?r.fingerprint:[r.fingerprint]),this._send(r),this}}},captureBreadcrumb:function(e){var t=b({timestamp:W()/1e3},e);if(h(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(m(n)&&!g(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(r(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=q(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=q(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=q(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(U){if(!(e=b({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new o("Missing eventId");if(!e.dsn)throw new o("Missing DSN");var t=encodeURIComponent,n=[];for(var a in e)if("user"===a){var r=e.user;r.name&&n.push("name="+t(r.name)),r.email&&n.push("email="+t(r.email))}else n.push(t(a)+"="+t(e[a]));var i=this._getGlobalServer(this._parseDSN(e.dsn)),s=U.createElement("script");s.async=!0,s.src=i+"/api/embed/error-page/?"+n.join("&"),(U.head||U.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,a;if(this._hasDocument){for(a in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),U.createEvent?(n=U.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=U.createEventObject()).eventType=e,t)L(t,a)&&(n[a]=t[a]);if(U.createEvent)U.dispatchEvent(n);else try{U.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var a;t._lastCapturedEvent=n;try{a=x(n.target)}catch(e){a="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:a})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var a=n&&n.tagName;if(a&&("INPUT"===a||"TEXTAREA"===a||n.isContentEditable)){var r=e._keypressTimeout;r||e._breadcrumbEventHandler("input")(t),clearTimeout(r),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=H(this._location.href),a=H(t),r=H(e);this._lastHref=t,n.protocol===a.protocol&&n.host===a.host&&(t=a.relative),n.protocol===r.protocol&&n.host===r.host&&(e=r.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,a){for(var r=new Array(arguments.length),i=0;i<r.length;++i)r[i]=arguments[i];var o=r[0];return h(o)&&(r[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},o)),t.apply?t.apply(this,r):t(r[0],r[1])}}var a=this._globalOptions.autoBreadcrumbs;function r(n){var r=z[n]&&z[n].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(E(r,"addEventListener",(function(t){return function(r,i,o,s){try{i&&i.handleEvent&&(i.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:i&&i.name||"<anonymous>"}}},i.handleEvent))}catch(e){}var l,d,u;return a&&a.dom&&("EventTarget"===n||"Node"===n)&&(d=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),l=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?d(e):"keypress"===t?u(e):void 0}}),t.call(this,r,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:i&&i.name||"<anonymous>"}}},i,l),o,s)}}),t),E(r,"removeEventListener",(function(e){return function(t,n,a,r){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,a,r)}}),t))}E(z,"setTimeout",n,t),E(z,"setInterval",n,t),z.requestAnimationFrame&&E(z,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var i=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],o=0;o<i.length;o++)r(i[o])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function a(t,n){t in n&&h(n[t])&&E(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in z){var r=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;E(r,"open",(function(t){return function(n,a){return f(a)&&-1===a.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:a,status_code:null}),t.apply(this,arguments)}}),n),E(r,"send",(function(t){return function(){var n=this;function r(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var i=["onload","onerror","onprogress"],o=0;o<i.length;o++)a(i[o],n);return"onreadystatechange"in n&&h(n.onreadystatechange)?E(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,r)})):n.onreadystatechange=r,t.apply(this,arguments)}}),n)}t.xhr&&j()&&E(z,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),a=0;a<n.length;++a)n[a]=arguments[a];var r,i=n[0],o="GET";if("string"==typeof i?r=i:"Request"in z&&i instanceof z.Request?(r=i.url,i.method&&(o=i.method)):r=""+i,-1!==r.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(o=n[1].method);var s={method:o,url:r,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(U.addEventListener?(U.addEventListener("click",e._breadcrumbEventHandler("click"),!1),U.addEventListener("keypress",e._keypressEventHandler(),!1)):U.attachEvent&&(U.attachEvent("onclick",e._breadcrumbEventHandler("click")),U.attachEvent("onkeypress",e._keypressEventHandler())));var i=z.chrome,o=!(i&&i.app&&i.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(t.location&&o){var s=z.onpopstate;z.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var l=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};E(z.history,"pushState",l,n),E(z.history,"replaceState",l,n)}if(t.console&&"console"in z&&console.log){var d=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};v(["debug","info","warn","error","log"],(function(e,t){P(console,t,d)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],a=e[2];t[n]=a}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;v(this._plugins,(function(t,n){var a=n[0],r=n[1];a.apply(e,[e].concat(r))}))},_parseDSN:function(e){var t=R.exec(e),n={},a=7;try{for(;a--;)n[N[a]]=t[a]||""}catch(t){throw new o("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new o("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,a=[];if(e.stack&&e.stack.length&&(v(e.stack,(function(t,r){var i=n._normalizeFrame(r,e.url);i&&a.push(i)})),t&&t.trimHeadFrames))for(var r=0;r<t.trimHeadFrames&&r<a.length;r++)a[r].in_app=!1;return a=a.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,a,r,i){var o,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(r&&r.length?(n=r[0].filename||n,r.reverse(),o={frames:r}):n&&(o={frames:[{filename:n,lineno:a,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=b({exception:{values:[{type:e,value:t,stacktrace:o}]},transaction:n},i),d=l.exception.values[0];null==d.type&&""===d.value&&(d.value="Unrecoverable error caught"),!l.exception.mechanism&&l.mechanism&&(l.exception.mechanism=l.mechanism,delete l.mechanism),l.exception.mechanism=b({type:"generic",handled:!0},l.exception.mechanism||{}),this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=M(e.message,t)),e.exception){var n=e.exception.values[0];n.value=M(n.value,t)}var a=e.request;return a&&(a.url&&(a.url=M(a.url,this._globalOptions.maxUrlLength)),a.Referer&&(a.Referer=M(a.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,a,r=["to","from","url"],i=0;i<e.values.length;++i)if((n=e.values[i]).hasOwnProperty("data")&&m(n.data)&&!w(n.data)){a=b({},n.data);for(var o=0;o<r.length;++o)t=r[o],a.hasOwnProperty(t)&&a[t]&&(a[t]=M(a[t],this._globalOptions.maxUrlLength));e.values[i].data=a}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&I.userAgent&&(e.headers={"User-Agent":I.userAgent}),z.location&&z.location.href&&(e.url=z.location.href),this._hasDocument&&U.referrer&&(e.headers||(e.headers={}),e.headers.Referer=U.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&W()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?S(e.stacktrace,t.stacktrace):e.exception||t.exception?T(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=j()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=W()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},a=this._getHttpData();a&&(n.request=a),e.trimHeadFrames&&delete e.trimHeadFrames,(e=b(n,e)).tags=b(b({},this._globalContext.tags),e.tags),e.extra=b(b({},this._globalContext.extra),e.extra),e.extra["session:duration"]=W()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||g(e[t]))&&delete e[t]})),h(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!g(e)&&(h(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return F(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return D()},_sendProcessedPayload:function(e,t){var n=this,a=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var r={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(r.sentry_secret=this._globalSecret);var i=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:i?(i.type?i.type+": ":"")+i.value:e.message,event_id:e.event_id,level:e.level||"error"});var o=this._globalEndpoint;(a.transport||this._makeRequest).call(this,{url:o,auth:r,data:e,options:a,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:o}),t&&t()},onError:function(a){n._logDebug("error","Raven transport failed to send: ",a),a.request&&n._setBackoffState(a.request),n._triggerEvent("failure",{data:e,src:o}),a=a||new Error("Raven send failed (no additional details provided)"),t&&t(a)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+Y(e.auth),n=null,a={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(a=this._evaluateHash(e.options.fetchParameters)),j()){a.body=r(e.data);var i=b({},this._fetchDefaults),o=b(i,a);return n&&(o.headers=n),z.fetch(t,o).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=z.XMLHttpRequest&&new z.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&v(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(r(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var a=e[n];t[n]="function"==typeof a?a():a}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){_(t)?delete this._globalContext[e]:this._globalContext[e]=b(this._globalContext[e]||{},t)}},B.prototype.setUser=B.prototype.setUserContext,B.prototype.setReleaseContext=B.prototype.setRelease,t.exports=B}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,2:2,5:5,6:6,7:7,8:8}],4:[function(e,t,n){(function(n){var a=e(3),r="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},i=r.Raven,o=new a;o.noConflict=function(){return r.Raven=i,o},o.afterLoad(),t.exports=o,t.exports.Client=a}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{3:3}],5:[function(e,t,n){(function(n){var a=e(7),r="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{};function i(e){return void 0===e}function o(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function l(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(){if(!("fetch"in r))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,a;if(i(e.length))for(n in e)m(e,n)&&t.call(null,n,e[n]);else if(a=e.length)for(n=0;n<a;n++)t.call(null,n,e[n])}function c(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"…"}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],a=0,r=e.length;a<r;a++)s(t=e[a])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function _(e){var t,n,a,r,i,o=[];if(!e||!e.tagName)return"";if(o.push(e.tagName.toLowerCase()),e.id&&o.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)o.push("."+n[i]);var l=["type","name","title","alt"];for(i=0;i<l.length;i++)a=l[i],(r=e.getAttribute(a))&&o.push("["+a+'="'+r+'"]');return o.join("")}function h(e,t){return!!(!!e^!!t)}function f(e,t){if(h(e,t))return!1;var n,a,r=e.frames,i=t.frames;if(void 0===r||void 0===i)return!1;if(r.length!==i.length)return!1;for(var o=0;o<r.length;o++)if(n=r[o],a=i[o],n.filename!==a.filename||n.lineno!==a.lineno||n.colno!==a.colno||n.function!==a.function)return!1;return!0}function y(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function g(e){if("string"==typeof e){return c(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function v(e,t){return 0===t?g(e):o(e)?Object.keys(e).reduce((function(n,a){return n[a]=v(e[a],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return v(e,t-1)})):g(e)}t.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:i,isFunction:function(e){return"function"==typeof e},isPlainObject:o,isString:s,isArray:l,isEmptyObject:function(e){if(!o(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:d,supportsReferrerPolicy:function(){if(!d())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var a=e(t)||t;return n&&n(a)||a}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:c,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:m,joinRegExp:p,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=r.crypto||r.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],a=0,r=0,i=" > ".length;e&&a++<5&&!("html"===(t=_(e))||a>1&&r+n.length*i+t.length>=80);)n.push(t),r+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:_,isSameException:function(e,t){return!h(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,a=t.stacktrace,(!i(n)||!i(a))&&f(e.stacktrace,t.stacktrace)));var n,a},isSameStacktrace:f,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",a=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+a}},fill:function(e,t,n,a){if(null!=e){var r=e[t];e[t]=n(r),e[t].__raven__=!0,e[t].__orig__=r,a&&a.push([e,t,r])}},safeJoin:function(e,t){if(!l(e))return"";for(var n=[],a=0;a<e.length;a++)try{n.push(String(e[a]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,r){if(!o(t))return t;r="number"!=typeof(n="number"!=typeof n?3:n)?51200:r;var i=v(t,n);return y(a(i))>r?e(t,n-1):i},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var a=e.slice(0,n).join(", ");if(!(a.length>t))return n===e.length?a:a+"…"}return""},sanitize:function(e,t){if(!l(t)||l(t)&&0===t.length)return e;var n,r=p(t);try{n=JSON.parse(a(e))}catch(t){return e}return function e(t){return l(t)?t.map((function(t){return e(t)})):o(t)?Object.keys(t).reduce((function(n,a){return r.test(a)?n[a]="********":n[a]=e(t[a]),n}),{}):t}(n)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{7:7}],6:[function(e,t,n){(function(n){var a=e(5),r={collectWindowErrors:!0,debug:!1},i="undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{},o=[].slice,s="?",l=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function d(){return"undefined"==typeof document||null==document.location?"":document.location.href}r.report=function(){var e,t,n=[],u=null,c=null,m=null;function p(e,t){var a=null;if(!t||r.collectWindowErrors){for(var i in n)if(n.hasOwnProperty(i))try{n[i].apply(null,[e].concat(o.call(arguments,2)))}catch(e){a=e}if(a)throw a}}function _(t,n,i,o,u){var c=a.isErrorEvent(u)?u.error:u,_=a.isErrorEvent(t)?t.message:t;if(m)r.computeStackTrace.augmentStackTraceWithInitialElement(m,n,i,_),h();else if(c&&a.isError(c))p(r.computeStackTrace(c),!0);else{var f,y={url:n,line:i,column:o},g=void 0;if("[object String]"==={}.toString.call(_))(f=_.match(l))&&(g=f[1],_=f[2]);y.func=s,p({name:g,message:_,url:d(),stack:[y]},!0)}return!!e&&e.apply(this,arguments)}function h(){var e=m,t=u;u=null,m=null,c=null,p.apply(null,[e,!1].concat(t))}function f(e,t){var n=o.call(arguments,1);if(m){if(c===e)return;h()}var a=r.computeStackTrace(e);if(m=a,c=e,u=n,setTimeout((function(){c===e&&h()}),a.incomplete?2e3:0),!1!==t)throw e}return f.subscribe=function(a){!function(){if(t)return;e=i.onerror,i.onerror=_,t=!0}(),n.push(a)},f.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},f.uninstall=function(){!function(){if(!t)return;i.onerror=e,t=!1,e=void 0}(),n=[]},f}(),r.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){var t,n,a,r=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,o=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,c=e.stack.split("\n"),m=[];/^(.*) is undefined$/.exec(e.message);for(var p=0,_=c.length;p<_;++p){if(n=r.exec(c[p])){var h=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),a={url:h?null:n[2],func:n[1]||s,args:h?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=i.exec(c[p]))a={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=o.exec(c[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=l.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==p||n[5]||void 0===e.columnNumber||(m[0].column=e.columnNumber+1),a={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!a.func&&a.line&&(a.func=s),a.url&&"blob:"===a.url.substr(0,5)){var f=new XMLHttpRequest;if(f.open("GET",a.url,!1),f.send(null),200===f.status){var y=f.responseText||"",g=(y=y.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(g){var v=g[1];"~"===v.charAt(0)&&(v=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+v.slice(1)),a.url=v.slice(0,-4)}}}m.push(a)}return m.length?{name:e.name,message:e.message,url:d(),stack:m}:null}}function t(e,t,n,a){var r={url:t,line:n};if(r.url&&r.line){if(e.incomplete=!1,r.func||(r.func=s),e.stack.length>0&&e.stack[0].url===r.url){if(e.stack[0].line===r.line)return!1;if(!e.stack[0].line&&e.stack[0].func===r.func)return e.stack[0].line=r.line,!1}return e.stack.unshift(r),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,i){for(var o,l,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,c=[],m={},p=!1,_=n.caller;_&&!p;_=_.caller)if(_!==a&&_!==r.report){if(l={url:null,func:s,line:null,column:null},_.name?l.func=_.name:(o=u.exec(_.toString()))&&(l.func=o[1]),void 0===l.func)try{l.func=o.input.substring(0,o.input.indexOf("{"))}catch(e){}m[""+_]?p=!0:m[""+_]=!0,c.push(l)}i&&c.splice(0,i);var h={name:e.name,message:e.message,url:d(),stack:c};return t(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function a(t,a){var i=null;a=null==a?0:+a;try{if(i=e(t))return i}catch(e){if(r.debug)throw e}try{if(i=n(t,a+1))return i}catch(e){if(r.debug)throw e}return{name:t.name,message:t.message,url:d()}}return a.augmentStackTraceWithInitialElement=t,a.computeStackTraceFromStackProp=e,a}(),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{5:5}],7:[function(e,t,n){function a(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var n=[],r=[];return null==t&&(t=function(e,t){return n[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,a(n,t)).join(".")+"]"}),function(i,o){if(n.length>0){var s=a(n,this);~s?n.splice(s+1):n.push(this),~s?r.splice(s,1/0,i):r.push(i),~a(n,o)&&(o=t.call(this,i,o))}else n.push(o);return null==e?o instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(o):o:e.call(this,i,o)}}(t.exports=function(e,t,n,a){return JSON.stringify(e,r(t,a),n)}).getSerialize=r},{}],8:[function(e,t,n){function a(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,r,i,o){return a((s=a(a(t,e),a(r,o)))<<(l=i)|s>>>32-l,n);var s,l}function i(e,t,n,a,i,o,s){return r(t&n|~t&a,e,t,i,o,s)}function o(e,t,n,a,i,o,s){return r(t&a|n&~a,e,t,i,o,s)}function s(e,t,n,a,i,o,s){return r(t^n^a,e,t,i,o,s)}function l(e,t,n,a,i,o,s){return r(n^(t|~a),e,t,i,o,s)}function d(e,t){var n,r,d,u,c;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var m=1732584193,p=-271733879,_=-1732584194,h=271733878;for(n=0;n<e.length;n+=16)r=m,d=p,u=_,c=h,m=i(m,p,_,h,e[n],7,-680876936),h=i(h,m,p,_,e[n+1],12,-389564586),_=i(_,h,m,p,e[n+2],17,606105819),p=i(p,_,h,m,e[n+3],22,-1044525330),m=i(m,p,_,h,e[n+4],7,-176418897),h=i(h,m,p,_,e[n+5],12,1200080426),_=i(_,h,m,p,e[n+6],17,-1473231341),p=i(p,_,h,m,e[n+7],22,-45705983),m=i(m,p,_,h,e[n+8],7,1770035416),h=i(h,m,p,_,e[n+9],12,-1958414417),_=i(_,h,m,p,e[n+10],17,-42063),p=i(p,_,h,m,e[n+11],22,-1990404162),m=i(m,p,_,h,e[n+12],7,1804603682),h=i(h,m,p,_,e[n+13],12,-40341101),_=i(_,h,m,p,e[n+14],17,-1502002290),m=o(m,p=i(p,_,h,m,e[n+15],22,1236535329),_,h,e[n+1],5,-165796510),h=o(h,m,p,_,e[n+6],9,-1069501632),_=o(_,h,m,p,e[n+11],14,643717713),p=o(p,_,h,m,e[n],20,-373897302),m=o(m,p,_,h,e[n+5],5,-701558691),h=o(h,m,p,_,e[n+10],9,38016083),_=o(_,h,m,p,e[n+15],14,-660478335),p=o(p,_,h,m,e[n+4],20,-405537848),m=o(m,p,_,h,e[n+9],5,568446438),h=o(h,m,p,_,e[n+14],9,-1019803690),_=o(_,h,m,p,e[n+3],14,-187363961),p=o(p,_,h,m,e[n+8],20,1163531501),m=o(m,p,_,h,e[n+13],5,-1444681467),h=o(h,m,p,_,e[n+2],9,-51403784),_=o(_,h,m,p,e[n+7],14,1735328473),m=s(m,p=o(p,_,h,m,e[n+12],20,-1926607734),_,h,e[n+5],4,-378558),h=s(h,m,p,_,e[n+8],11,-2022574463),_=s(_,h,m,p,e[n+11],16,1839030562),p=s(p,_,h,m,e[n+14],23,-35309556),m=s(m,p,_,h,e[n+1],4,-1530992060),h=s(h,m,p,_,e[n+4],11,1272893353),_=s(_,h,m,p,e[n+7],16,-155497632),p=s(p,_,h,m,e[n+10],23,-1094730640),m=s(m,p,_,h,e[n+13],4,681279174),h=s(h,m,p,_,e[n],11,-358537222),_=s(_,h,m,p,e[n+3],16,-722521979),p=s(p,_,h,m,e[n+6],23,76029189),m=s(m,p,_,h,e[n+9],4,-640364487),h=s(h,m,p,_,e[n+12],11,-421815835),_=s(_,h,m,p,e[n+15],16,530742520),m=l(m,p=s(p,_,h,m,e[n+2],23,-995338651),_,h,e[n],6,-198630844),h=l(h,m,p,_,e[n+7],10,1126891415),_=l(_,h,m,p,e[n+14],15,-1416354905),p=l(p,_,h,m,e[n+5],21,-57434055),m=l(m,p,_,h,e[n+12],6,1700485571),h=l(h,m,p,_,e[n+3],10,-1894986606),_=l(_,h,m,p,e[n+10],15,-1051523),p=l(p,_,h,m,e[n+1],21,-2054922799),m=l(m,p,_,h,e[n+8],6,1873313359),h=l(h,m,p,_,e[n+15],10,-30611744),_=l(_,h,m,p,e[n+6],15,-1560198380),p=l(p,_,h,m,e[n+13],21,1309151649),m=l(m,p,_,h,e[n+4],6,-145523070),h=l(h,m,p,_,e[n+11],10,-1120210379),_=l(_,h,m,p,e[n+2],15,718787259),p=l(p,_,h,m,e[n+9],21,-343485551),m=a(m,r),p=a(p,d),_=a(_,u),h=a(h,c);return[m,p,_,h]}function u(e){var t,n="",a=32*e.length;for(t=0;t<a;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var a=8*e.length;for(t=0;t<a;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function m(e){var t,n,a="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=a.charAt(t>>>4&15)+a.charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function _(e){return function(e){return u(d(c(e),8*e.length))}(p(e))}function h(e,t){return function(e,t){var n,a,r=c(e),i=[],o=[];for(i[15]=o[15]=void 0,r.length>16&&(r=d(r,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^r[n],o[n]=1549556828^r[n];return a=d(i.concat(c(t)),512+8*t.length),u(d(o.concat(a),640))}(p(e),p(t))}t.exports=function(e,t,n){return t?n?h(t,e):function(e,t){return m(h(e,t))}(t,e):n?_(e):m(_(e))}},{}]},{},[4])(4)}));var De=Raven;function xe(e){window.location.href.match(/^https?:\/\/(localhost|[a-zA-Z0-9-.]+\.local)(:\d+)?(\/|$)/)?console.log("Not installing error logging on development server"):(De.config("https://30a96ee1f96d4d91b927a276b25703ce@sentry.io/150033").install(),e&&De.setUserContext({id:e.id}))}
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.2.2/LICENSE */var Te=Object.hasOwnProperty,Se=Object.setPrototypeOf,He=Object.isFrozen,Ee=Object.getPrototypeOf,je=Object.getOwnPropertyDescriptor,Ae=Object.freeze,Ce=Object.seal,Oe=Object.create,Fe="undefined"!=typeof Reflect&&Reflect,Pe=Fe.apply,Ne=Fe.construct;Pe||(Pe=function(e,t,n){return e.apply(t,n)}),Ae||(Ae=function(e){return e}),Ce||(Ce=function(e){return e}),Ne||(Ne=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var Re,We=Ke(Array.prototype.forEach),ze=Ke(Array.prototype.pop),Ue=Ke(Array.prototype.push),Ie=Ke(String.prototype.toLowerCase),qe=Ke(String.prototype.match),Be=Ke(String.prototype.replace),Je=Ke(String.prototype.indexOf),Ve=Ke(String.prototype.trim),$e=Ke(RegExp.prototype.test),Ge=(Re=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ne(Re,t)});function Ke(e){return function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return Pe(e,t,a)}}function Ze(e,t){Se&&Se(e,null);for(var n=t.length;n--;){var a=t[n];if("string"==typeof a){var r=Ie(a);r!==a&&(He(t)||(t[n]=r),a=r)}e[a]=!0}return e}function Xe(e){var t=Oe(null),n=void 0;for(n in e)Pe(Te,e,[n])&&(t[n]=e[n]);return t}function Qe(e,t){for(;null!==e;){var n=je(e,t);if(n){if(n.get)return Ke(n.get);if("function"==typeof n.value)return Ke(n.value)}e=Ee(e)}return function(e){return console.warn("fallback value for",e),null}}var et=Ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),tt=Ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),nt=Ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),at=Ae(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),rt=Ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),it=Ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ot=Ae(["#text"]),st=Ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),lt=Ae(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),dt=Ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ut=Ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ct=Ce(/\{\{[\s\S]*|[\s\S]*\}\}/gm),mt=Ce(/<%[\s\S]*|[\s\S]*%>/gm),pt=Ce(/^data-[\-\w.\u00B7-\uFFFF]/),_t=Ce(/^aria-[\-\w]+$/),ht=Ce(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ft=Ce(/^(?:\w+script|data):/i),yt=Ce(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function vt(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var bt=function(){return"undefined"==typeof window?null:window},Mt=function(e,t){if("object"!==(void 0===e?"undefined":gt(e))||"function"!=typeof e.createPolicy)return null;var n=null,a="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(a)&&(n=t.currentScript.getAttribute(a));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var wt,Lt,kt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt(),n=function(t){return e(t)};if(n.version="2.2.8",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var a=t.document,r=t.document,i=t.DocumentFragment,o=t.HTMLTemplateElement,s=t.Node,l=t.Element,d=t.NodeFilter,u=t.NamedNodeMap,c=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,m=t.Text,p=t.Comment,_=t.DOMParser,h=t.trustedTypes,f=l.prototype,y=Qe(f,"cloneNode"),g=Qe(f,"nextSibling"),v=Qe(f,"childNodes"),b=Qe(f,"parentNode");if("function"==typeof o){var M=r.createElement("template");M.content&&M.content.ownerDocument&&(r=M.content.ownerDocument)}var w=Mt(h,a),L=w&&ee?w.createHTML(""):"",k=r,Y=k.implementation,D=k.createNodeIterator,x=k.createDocumentFragment,T=a.importNode,S={};try{S=Xe(r).documentMode?r.documentMode:{}}catch(e){}var H={};n.isSupported="function"==typeof b&&Y&&void 0!==Y.createHTMLDocument&&9!==S;var E=ct,j=mt,A=pt,C=_t,O=ft,F=yt,P=ht,N=null,R=Ze({},[].concat(vt(et),vt(tt),vt(nt),vt(rt),vt(ot))),W=null,z=Ze({},[].concat(vt(st),vt(lt),vt(dt),vt(ut))),U=null,I=null,q=!0,B=!0,J=!1,V=!1,$=!1,G=!1,K=!1,Z=!1,X=!1,Q=!0,ee=!1,te=!0,ne=!0,ae=!1,re={},ie=Ze({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),oe=null,se=Ze({},["audio","video","img","source","image","track"]),le=null,de=Ze({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),ue="http://www.w3.org/1998/Math/MathML",ce="http://www.w3.org/2000/svg",me="http://www.w3.org/1999/xhtml",pe=me,_e=null,he=r.createElement("form"),fe=function(e){_e&&_e===e||(e&&"object"===(void 0===e?"undefined":gt(e))||(e={}),e=Xe(e),N="ALLOWED_TAGS"in e?Ze({},e.ALLOWED_TAGS):R,W="ALLOWED_ATTR"in e?Ze({},e.ALLOWED_ATTR):z,le="ADD_URI_SAFE_ATTR"in e?Ze(Xe(de),e.ADD_URI_SAFE_ATTR):de,oe="ADD_DATA_URI_TAGS"in e?Ze(Xe(se),e.ADD_DATA_URI_TAGS):se,U="FORBID_TAGS"in e?Ze({},e.FORBID_TAGS):{},I="FORBID_ATTR"in e?Ze({},e.FORBID_ATTR):{},re="USE_PROFILES"in e&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,B=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,V=e.SAFE_FOR_TEMPLATES||!1,$=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,X=e.RETURN_DOM_FRAGMENT||!1,Q=!1!==e.RETURN_DOM_IMPORT,ee=e.RETURN_TRUSTED_TYPE||!1,K=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,ae=e.IN_PLACE||!1,P=e.ALLOWED_URI_REGEXP||P,pe=e.NAMESPACE||pe,V&&(B=!1),X&&(Z=!0),re&&(N=Ze({},[].concat(vt(ot))),W=[],!0===re.html&&(Ze(N,et),Ze(W,st)),!0===re.svg&&(Ze(N,tt),Ze(W,lt),Ze(W,ut)),!0===re.svgFilters&&(Ze(N,nt),Ze(W,lt),Ze(W,ut)),!0===re.mathMl&&(Ze(N,rt),Ze(W,dt),Ze(W,ut))),e.ADD_TAGS&&(N===R&&(N=Xe(N)),Ze(N,e.ADD_TAGS)),e.ADD_ATTR&&(W===z&&(W=Xe(W)),Ze(W,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&Ze(le,e.ADD_URI_SAFE_ATTR),ne&&(N["#text"]=!0),$&&Ze(N,["html","head","body"]),N.table&&(Ze(N,["tbody"]),delete U.tbody),Ae&&Ae(e),_e=e)},ye=Ze({},["mi","mo","mn","ms","mtext"]),ge=Ze({},["foreignobject","desc","title","annotation-xml"]),ve=Ze({},tt);Ze(ve,nt),Ze(ve,at);var be=Ze({},rt);Ze(be,it);var Me=function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:me,tagName:"template"});var n=Ie(e.tagName),a=Ie(t.tagName);if(e.namespaceURI===ce)return t.namespaceURI===me?"svg"===n:t.namespaceURI===ue?"svg"===n&&("annotation-xml"===a||ye[a]):Boolean(ve[n]);if(e.namespaceURI===ue)return t.namespaceURI===me?"math"===n:t.namespaceURI===ce?"math"===n&&ge[a]:Boolean(be[n]);if(e.namespaceURI===me){if(t.namespaceURI===ce&&!ge[a])return!1;if(t.namespaceURI===ue&&!ye[a])return!1;var r=Ze({},["title","style","font","a","script"]);return!be[n]&&(r[n]||!ve[n])}return!1},we=function(e){Ue(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=L}catch(t){e.remove()}}},Le=function(e,t){try{Ue(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){Ue(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!W[e])if(Z||X)try{we(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ke=function(e){var t=void 0,n=void 0;if(K)e="<remove></remove>"+e;else{var a=qe(e,/^[\r\n\t ]+/);n=a&&a[0]}var i=w?w.createHTML(e):e;if(pe===me)try{t=(new _).parseFromString(i,"text/html")}catch(e){}t&&t.documentElement||((t=Y.createDocument(pe,"template",null)).documentElement.innerHTML=i);var o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),$?t.documentElement:o},Ye=function(e){return D.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,(function(){return d.FILTER_ACCEPT}),!1)},De=function(e){return!(e instanceof m||e instanceof p)&&!("string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof c&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI&&"function"==typeof e.insertBefore)},xe=function(e){return"object"===(void 0===s?"undefined":gt(s))?e instanceof s:e&&"object"===(void 0===e?"undefined":gt(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Te=function(e,t,a){H[e]&&We(H[e],(function(e){e.call(n,t,a,_e)}))},Se=function(e){var t=void 0;if(Te("beforeSanitizeElements",e,null),De(e))return we(e),!0;if(qe(e.nodeName,/[\u0080-\uFFFF]/))return we(e),!0;var a=Ie(e.nodeName);if(Te("uponSanitizeElement",e,{tagName:a,allowedTags:N}),!xe(e.firstElementChild)&&(!xe(e.content)||!xe(e.content.firstElementChild))&&$e(/<[/\w]/g,e.innerHTML)&&$e(/<[/\w]/g,e.textContent))return we(e),!0;if(!N[a]||U[a]){if(ne&&!ie[a]){var r=b(e)||e.parentNode,i=v(e)||e.childNodes;if(i&&r)for(var o=i.length-1;o>=0;--o)r.insertBefore(y(i[o],!0),g(e))}return we(e),!0}return e instanceof l&&!Me(e)?(we(e),!0):"noscript"!==a&&"noembed"!==a||!$e(/<\/no(script|embed)/i,e.innerHTML)?(V&&3===e.nodeType&&(t=e.textContent,t=Be(t,E," "),t=Be(t,j," "),e.textContent!==t&&(Ue(n.removed,{element:e.cloneNode()}),e.textContent=t)),Te("afterSanitizeElements",e,null),!1):(we(e),!0)},He=function(e,t,n){if(te&&("id"===t||"name"===t)&&(n in r||n in he))return!1;if(B&&$e(A,t));else if(q&&$e(C,t));else{if(!W[t]||I[t])return!1;if(le[t]);else if($e(P,Be(n,F,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Je(n,"data:")||!oe[e]){if(J&&!$e(O,Be(n,F,"")));else if(n)return!1}else;}return!0},Ee=function(e){var t=void 0,a=void 0,r=void 0,i=void 0;Te("beforeSanitizeAttributes",e,null);var o=e.attributes;if(o){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(i=o.length;i--;){var l=t=o[i],d=l.name,u=l.namespaceURI;if(a=Ve(t.value),r=Ie(d),s.attrName=r,s.attrValue=a,s.keepAttr=!0,s.forceKeepAttr=void 0,Te("uponSanitizeAttribute",e,s),a=s.attrValue,!s.forceKeepAttr&&(Le(d,e),s.keepAttr))if($e(/\/>/i,a))Le(d,e);else{V&&(a=Be(a,E," "),a=Be(a,j," "));var c=e.nodeName.toLowerCase();if(He(c,r,a))try{u?e.setAttributeNS(u,d,a):e.setAttribute(d,a),ze(n.removed)}catch(e){}}}Te("afterSanitizeAttributes",e,null)}},je=function e(t){var n=void 0,a=Ye(t);for(Te("beforeSanitizeShadowDOM",t,null);n=a.nextNode();)Te("uponSanitizeShadowNode",n,null),Se(n)||(n.content instanceof i&&e(n.content),Ee(n));Te("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var o=void 0,l=void 0,d=void 0,u=void 0,c=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!xe(e)){if("function"!=typeof e.toString)throw Ge("toString is not a function");if("string"!=typeof(e=e.toString()))throw Ge("dirty is not a string, aborting")}if(!n.isSupported){if("object"===gt(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(xe(e))return t.toStaticHTML(e.outerHTML)}return e}if(G||fe(r),n.removed=[],"string"==typeof e&&(ae=!1),ae);else if(e instanceof s)1===(l=(o=ke("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?o=l:o.appendChild(l);else{if(!Z&&!V&&!$&&-1===e.indexOf("<"))return w&&ee?w.createHTML(e):e;if(!(o=ke(e)))return Z?null:L}o&&K&&we(o.firstChild);for(var m=Ye(ae?e:o);d=m.nextNode();)3===d.nodeType&&d===u||Se(d)||(d.content instanceof i&&je(d.content),Ee(d),u=d);if(u=null,ae)return e;if(Z){if(X)for(c=x.call(o.ownerDocument);o.firstChild;)c.appendChild(o.firstChild);else c=o;return Q&&(c=T.call(a,c,!0)),c}var p=$?o.outerHTML:o.innerHTML;return V&&(p=Be(p,E," "),p=Be(p,j," ")),w&&ee?w.createHTML(p):p},n.setConfig=function(e){fe(e),G=!0},n.clearConfig=function(){_e=null,G=!1},n.isValidAttribute=function(e,t,n){_e||fe({});var a=Ie(e),r=Ie(t);return He(a,r,n)},n.addHook=function(e,t){"function"==typeof t&&(H[e]=H[e]||[],Ue(H[e],t))},n.removeHook=function(e){H[e]&&ze(H[e])},n.removeHooks=function(e){H[e]&&(H[e]=[])},n.removeAllHooks=function(){H={}},n}(),Yt=25,Dt=10,xt=10,Tt={};function St(e,t,n,a,r,i,o){var s=n-e/2-xt,l=n+e/2+xt,d=e/2+Math.min(0,s-r.left)+Math.max(0,l-r.right);return{pos:[d,o],shape:d-Dt<5?[-d,-15*i,Math.max(Dt,5-d),-10*i]:d+Dt>e-5?[Math.min(-10,e-d-5),-10*i,Math.min(Dt,e-d),-15*i]:[-10,-10*i,Dt,-10*i]}}function Ht(e,t,n,a,r,i,o){var s=a-t/2-xt,l=a+t/2+xt,d=t/2+Math.min(0,s-r.top)+Math.max(0,l-r.bottom);return{pos:[o,d],shape:d-Dt<5?[-15*i,-d,-10*i,Math.max(Dt,5-d)]:d+Dt>t-5?[-10*i,Math.min(-10,t-d-5),-15*i,Math.min(Dt,t-d)]:[-10*i,-10,-10*i,Dt]}}function Et(e,t,n,a,r,i){var o=Tt[e](t,n,a,r,i),s=a-Yt-o.pos[0],l=r-Yt-o.pos[1];return{left:s,top:l,right:s+t+50,bottom:l+n+50}}function jt(e,t,n){var a,r=document.createElementNS("http://www.w3.org/2000/svg",e);if(t)for(a in t)r.setAttribute(a,t[a]);var i=r.style;if(n)for(a in n)i[a]=n[a];return r}function At(){return wt||((wt=document.createElement("div")).id="flourish-popup-constrainer",(Lt=wt.style).overflow="hidden",Lt.pointerEvents="none",Lt.position="absolute",Lt.left="0",Lt.top="0",Lt.margin="0",Lt.padding="0",document.body.appendChild(wt),this._resizeConstrainer(),wt)}Tt.bottom=function(e,t){return{shape:[-10,-10,Dt,-10],pos:[e/2,t+xt]}},Tt.top=function(e,t){return{shape:[-10,xt,Dt,xt],pos:[e/2,-10]}},Tt.left=function(e,t){return{shape:[xt,Dt,xt,-10],pos:[-10,t/2]}},Tt.right=function(e,t){return{shape:[-10,Dt,-10,-10],pos:[e+xt,t/2]}},Tt.topLeft=function(e,t){return{shape:[15,xt,xt,15],pos:[-10,-10]}},Tt.bottomLeft=function(e,t){return{shape:[15,-10,xt,-15],pos:[-10,t+xt]}},Tt.topRight=function(e,t){return{shape:[-15,xt,-10,15],pos:[e+xt,-10]}},Tt.bottomRight=function(e,t){return{shape:[-15,-10,-10,-15],pos:[e+xt,t+xt]}},Tt.bottomFlexible=function(e,t,n,a,r){return St(e,0,n,0,r,1,t+xt)},Tt.topFlexible=function(e,t,n,a,r){return St(e,0,n,0,r,-1,-10)},Tt.rightFlexible=function(e,t,n,a,r){return Ht(0,t,0,a,r,1,e+xt)},Tt.leftFlexible=function(e,t,n,a,r){return Ht(0,t,0,a,r,-1,-10)};var Ct,Ot=1,Ft={container:document.body,maxWidth:"70%",point:null,html:null,directions:["bottom","top","left","right","topLeft","bottomLeft","topRight","bottomRight","bottomFlexible","topFlexible","leftFlexible","rightFlexible"],fallbackFit:"horizontal"};function Pt(){for(var e in this.unique_id=Ot++,this.is_visible=!0,Ft)this["_"+e]=Ft[e];this.handlers={click:[]}}function Nt(e){Pt.prototype[e]=function(t){return void 0===t?this["_"+e]:(this["_"+e]=t,this)}}for(var Rt in Ft)Nt(Rt);function Wt(){return new Pt}function zt(){Ct=Wt().container(document.body),qt(we(".popup"))}function Ut(){if(this.getAttribute("data-popup-head")||this.getAttribute("data-popup-body")){var e=this.getAttribute("data-popup-position"),t=this.getBoundingClientRect(),n=t.left+t.width/2,a=t.top+t.height,r=this.getAttribute("data-popup-head")||null,i=this.getAttribute("data-popup-body")||null,o="",s=["top","topFlexible"];r&&(o+=Me("h1").html(kt.sanitize(r)).node().outerHTML),i&&(o+=Me("p").html(kt.sanitize(i)).node().outerHTML),e&&("left"===e?(s=["right","rightFlexible"],n=t.left,a=t.top+t.height/2):"right"===e?(s=["left","leftFlexible"],n=t.right,a=t.top+t.height/2):"top"===e?(s=["bottom","bottomFlexible"],n=t.left+t.width/2,a=t.top):"bottom"===e&&(s=["top","topFlexible"],n=t.left+t.width/2,a=t.top+t.height)),Ct.point(n,a).html(o).directions(s).draw()}}function It(){Ct.hide()}function qt(e){e.on("mouseover",Ut).on("mouseout",It)}Pt.prototype.point=function(e,t){if(void 0===e)return this._point;if(Array.isArray(e))this._point=[e[0],e[1]];else if(void 0!==t)this._point=[e,t];else if(e instanceof HTMLElement||e instanceof SVGElement){var n=e.getBoundingClientRect();this._point=[Math.floor(n.left+n.width/2),Math.floor(n.top+n.height/2)]}else console.error("Popup: could not understand argument");return this},Pt.prototype.directions=function(e){return void 0===e?this._directions:("string"==typeof e&&(e=[e]),this._directions=e.slice(),this)},Pt.prototype.text=function(e){return this._html=function(e){return e.replace(/[&<>]/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]}))}(e),this},Pt.prototype.on=function(e,t){if(!(e in this.handlers))throw new Error("Popup.on: No such event: "+e);return this.handlers[e].push(t),this},Pt.prototype.fire=function(e,t){if(!(e in this.handlers))throw new Error("Popup.fire: No such event: "+e);for(var n=this.handlers[e],a=0;a<n.length;a++)n[a].call(this,t);return this},Pt.prototype._getElement=function(){var e=this,t="flourish-popup-"+e.unique_id,n=document.getElementById(t);if(!n){(n=document.createElement("div")).className="flourish-popup",n.id=t;var a=n.style;a.display="none",a.margin=a.padding=0,a.position="absolute",a.width="80px",a.height="40px",a.boxSizing="border-box",n.addEventListener("click",(function(t){e.fire("click",t)}),!1);var r=jt("svg",{class:"flourish-popup-svg"},{position:"absolute",top:0,left:0,bottom:0,right:0}),i=jt("filter",{id:"dropshadow-"+e.unique_id,height:"130%"});i.appendChild(jt("feGaussianBlur",{in:"SourceAlpha",stdDeviation:5})),i.appendChild(jt("feOffset",{dx:0,dy:2,result:"offsetblur"}));var o=jt("feComponentTransfer");o.appendChild(jt("feFuncA",{type:"linear",slope:.2})),i.appendChild(o);var s=jt("feMerge");i.appendChild(s),s.appendChild(jt("feMergeNode")),s.appendChild(jt("feMergeNode",{in:"SourceGraphic"})),r.appendChild(i);var l=jt("g",{filter:"url(#dropshadow-"+e.unique_id+")",fill:"white",stroke:"none"});l.appendChild(jt("rect",{x:Yt,y:Yt,rx:5})),l.appendChild(jt("path")),r.appendChild(l),n.appendChild(r);var d=document.createElement("div");d.className="flourish-popup-content",(a=d.style).position="absolute",a.top=a.left="25px",a.padding="10px",n.appendChild(d),e._getConstrainer().appendChild(n)}return e._resizeConstrainer(),n},Pt.prototype._getConstrainer=At,Pt.prototype._resizeConstrainer=function(){wt||At.call(this);var e=Lt.display;Lt.display="none",Lt.width=document.documentElement.scrollWidth+"px",Lt.height=document.documentElement.scrollHeight+"px",Lt.display=e},Pt.prototype.draw=function(){var e=this;if(e.is_visible=!0,e._point){var t=document.documentElement.getBoundingClientRect(),n=e._point[0],a=e._point[1],r=e._container.getBoundingClientRect();n<r.left?n=r.left:n>r.right&&(n=r.right),a<r.top?a=r.top:a>r.bottom&&(a=r.bottom);var i=n-t.left,o=a-t.top,s=e._getElement(),l=s.style,d=s.querySelector(".flourish-popup-svg"),u=d.querySelector("g"),c=u.querySelector("rect"),m=u.querySelector("path"),p=s.querySelector(".flourish-popup-content");l.display="block",p.style.maxWidth=function(t){return e._maxWidth.match(/^\d+(?:\.\d+)?%$/)?t.width*parseFloat(e._maxWidth)/100:e._maxWidth.match(/^\d+(?:\.\d+)?(?:px)?$/)?parseFloat(e._maxWidth):(null!=e._maxWidth&&console.error("Popup: Unknown value for maxWidth: "+e._maxWidth),t.width)}(r)+"px",e._inner_html!=e._html&&(p.innerHTML=e._inner_html=e._html);var _,h,f=p.getBoundingClientRect();do{_=Math.ceil(f.width),h=Math.ceil(f.height),l.width=_+50+"px",l.height=h+50+"px",f=p.getBoundingClientRect()}while(_!=Math.ceil(f.width)||h!=Math.ceil(f.height));c.setAttribute("width",_),c.setAttribute("height",h),d.setAttribute("width",_+50),d.setAttribute("height",h+50);for(var y,g,v=null,b=null,M=null,w=1/0,L=1/0,k=0;k<e._directions.length;k++){var Y=e._directions[k],D=Et(Y,_,h,n,a,r),x=Math.max(0,Math.floor(r.left)-D.left-15)+Math.max(0,D.right-Math.ceil(r.right)-15),T=Math.max(0,Math.floor(r.top)-D.top-15)+Math.max(0,D.bottom-Math.ceil(r.bottom)-15);if(0==x&&0==T){v=Y;break}(x<w||x==w&&T<y)&&(w=x,y=T,b=Y),(T<L||T==L&&x<g)&&(L=T,g=x,M=Y)}return v?Y=v:"horizontal"==e._fallbackFit?Y=b:"vertical"==e._fallbackFit?Y=M:(console.warn("Popup: failed to point box of size ("+_+", "+h+") at ("+n+", "+a+") within ("+r.left+", "+r.top+", "+r.right+", "+r.bottom+")"),Y=e._directions[0]),function(e,t,n,a,r,i,o,s,l,d){var u=Tt[e](a,r,s,l,d);t.left=i-Yt-u.pos[0]+"px",t.top=o-Yt-u.pos[1]+"px",n.setAttribute("d","M0,0L"+u.shape.join(",")+"Z"),n.setAttribute("transform","translate("+(u.pos[0]+Yt)+","+(u.pos[1]+Yt)+")")}(Y,l,m,_,h,i,o,n,a,r),e}console.error("Popup: cannot draw popup till point() has been specified")},Pt.prototype.hide=function(){return this.is_visible?(this.is_visible=!1,this._getElement().style.display="none",this):this},Wt.version="2.1.5";let Bt,Jt={},Vt={};const $t=e=>{const t=be(".dialog");if(e.which in Jt){var n=Jt[e.which];n.callback&&n.callback(Bt.node().value),t.remove(),e.preventDefault()}};function Gt(e,t,{buttons:n=[{text:"Okay",keyCode:13}],is_html:a=!1,upgrade:r=null,is_loading:i=!1,width:o="420px"}={}){var s=be("body").append("div").attr("class","dialog").attr("tabindex",0).on("mousedown",(function(e){for(var t=e.target,n=!1;t&&"dialog"!=t.className;)"dialog"==(t=t.parentNode).className&&(n=!0);n||s.remove()})),l=s.append("div").attr("class","dialog-inner").style("width",o).on("click",(function(e){e.stopPropagation()})),d=l.append("div").attr("class","text"+(i?" loading":""));if("string"==typeof e?d.append("h1").text(e):e instanceof HTMLElement&&d.append("h1").append((()=>e)),"string"==typeof t)Bt=a?d.append("div").classed("loading-spinner",i).html(t):d.append("p").text(t);else if(t instanceof HTMLElement)Bt=d.append((()=>t));else if("object"==typeof t){if(Bt=d.append(t.type),t.value&&(Bt.node().value=t.value),t.attributes)for(var u in t.attributes)Bt.attr(u,t.attributes[u]);Bt.node().focus()}var c=l;null!=r&&"object"==typeof r&&function(e,t,n,a){a&&e.classed("business",!0);var r=e.append("div").attr("class","text");r.append("p").text(t),r.append("ul").selectAll("li").data(n).enter().append("li").html((function(e){return e})).append("i").attr("class","fa fa-check")}(c=c.append("div").attr("class","upgrade"),r.message,r.list,r.is_business);var m=c.append("div").attr("class","btns"+(i?" loading":""));return Jt={},n.forEach((function(e){var t=m.append(e.tag_name||"div").attr("class","btn").attr("data-testid","dialog-button").style("margin-right",i?"0":"0.75em").text(e.text).on("click",(function(){e.callback&&e.callback(Bt.node().value,s),s.remove()}));e.class&&t.classed(e.class,!0),e.keyCode&&(Jt[e.keyCode]=e),e.href&&t.attr("href",e.href),e.fa_icon&&t.append("i").lower().attr("class","fa "+e.fa_icon)})),Vt={...Jt},s.node().addEventListener("keydown",$t),s.node().focus(),s}var Kt;var Zt="Flourish | ",Xt=" | Data Visualisation";function Qt(e,t,n){void 0===t&&(t=640),void 0===n&&(n=320);var a="width="+t+",height="+n+",left="+(screen.width/2-t/2)+",top="+(screen.height/2-n/2);window.open(e,"_blank",a)}function en(){var e=window.location.href,t=document.title,n=document.querySelector("meta[name='twitter:title']"),a=function(e){return 0===e.indexOf(Zt)&&e.indexOf(Xt)+Xt.length===e.length?e.slice(Zt.length,e.length-Xt.length):e}(n&&n.getAttribute("content")||t);we(".share-facebook").on("click",(function(){Qt("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(e))})),we(".share-twitter").on("click",(function(){Qt("https://twitter.com/intent/tweet?text="+encodeURIComponent(a+" "+e+" Visualised with @f_l_o_u_r_i_s_h"))})),we(".share-linkedin").on("click",(function(){Qt("https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e)+"&title="+encodeURIComponent(a)+"&summary="+encodeURIComponent("A project from Flourish – the powerful data visualisation platform"))})),we(".share-google-plus").on("click",(function(){Qt("https://plus.google.com/share?url="+encodeURIComponent(e),400,320)})),we(".share-pinterest").on("click",(function(){Qt("https://pinterest.com/pin/create/button/?url="+encodeURIComponent(e)+"&description="+encodeURIComponent("A project from https://flourish.studio – the powerful data visualisation platform"),850,700)})),we(".share-email").on("click",(function(){window.location.href="mailto:?&subject="+encodeURIComponent(t)+"&body="+encodeURIComponent("I saw this on flourish.studio and thought you'd like to see it: "+e)}))}var tn="$";function nn(){}function an(e,t){var n=new nn;if(e instanceof nn)e.each((function(e,t){n.set(t,e)}));else if(Array.isArray(e)){var a,r=-1,i=e.length;if(null==t)for(;++r<i;)n.set(r,e[r]);else for(;++r<i;)n.set(t(a=e[r],r,e),a)}else if(e)for(var o in e)n.set(o,e[o]);return n}function rn(){}nn.prototype=an.prototype={constructor:nn,has:function(e){return tn+e in this},get:function(e){return this[tn+e]},set:function(e,t){return this[tn+e]=t,this},remove:function(e){var t=tn+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===tn&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===tn&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===tn&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===tn&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===tn&&++e;return e},empty:function(){for(var e in this)if(e[0]===tn)return!1;return!0},each:function(e){for(var t in this)t[0]===tn&&e(this[t],t.slice(1),this)}};var on=an.prototype;rn.prototype={constructor:rn,has:on.has,add:function(e){return this[tn+(e+="")]=e,this},remove:on.remove,clear:on.clear,values:on.keys,size:on.size,empty:on.empty,each:on.each};var sn={value:function(){}};function ln(){for(var e,t=0,n=arguments.length,a={};t<n;++t){if(!(e=arguments[t]+"")||e in a||/[\s.]/.test(e))throw new Error("illegal type: "+e);a[e]=[]}return new dn(a)}function dn(e){this._=e}function un(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",a=e.indexOf(".");if(a>=0&&(n=e.slice(a+1),e=e.slice(0,a)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function cn(e,t){for(var n,a=0,r=e.length;a<r;++a)if((n=e[a]).name===t)return n.value}function mn(e,t,n){for(var a=0,r=e.length;a<r;++a)if(e[a].name===t){e[a]=sn,e=e.slice(0,a).concat(e.slice(a+1));break}return null!=n&&e.push({name:t,value:n}),e}function pn(e,t){var n,a,r,i,o=ln("beforesend","progress","load","error"),s=an(),l=new XMLHttpRequest,d=null,u=null,c=0;function m(e){var t,a=l.status;if(!a&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(l)||a>=200&&a<300||304===a){if(r)try{t=r.call(n,l)}catch(e){return void o.call("error",n,e)}else t=l;o.call("load",n,t)}else o.call("error",n,e)}if("undefined"!=typeof XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(e)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=l.ontimeout=m:l.onreadystatechange=function(e){l.readyState>3&&m(e)},l.onprogress=function(e){o.call("progress",n,e)},n={header:function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?s.get(e):(null==t?s.remove(e):s.set(e,t+""),n)},mimeType:function(e){return arguments.length?(a=null==e?null:e+"",n):a},responseType:function(e){return arguments.length?(i=e,n):i},timeout:function(e){return arguments.length?(c=+e,n):c},user:function(e){return arguments.length<1?d:(d=null==e?null:e+"",n)},password:function(e){return arguments.length<1?u:(u=null==e?null:e+"",n)},response:function(e){return r=e,n},get:function(e,t){return n.send("GET",e,t)},post:function(e,t){return n.send("POST",e,t)},send:function(t,r,m){return l.open(t,e,!0,d,u),null==a||s.has("accept")||s.set("accept",a+",*/*"),l.setRequestHeader&&s.each((function(e,t){l.setRequestHeader(t,e)})),null!=a&&l.overrideMimeType&&l.overrideMimeType(a),null!=i&&(l.responseType=i),c>0&&(l.timeout=c),null==m&&"function"==typeof r&&(m=r,r=null),null!=m&&1===m.length&&(m=function(e){return function(t,n){e(null==t?n:null)}}(m)),null!=m&&n.on("error",m).on("load",(function(e){m(null,e)})),o.call("beforesend",n,l),l.send(null==r?null:r),n},abort:function(){return l.abort(),n},on:function(){var e=o.on.apply(o,arguments);return e===o?n:e}},null!=t){if("function"!=typeof t)throw new Error("invalid callback: "+t);return n.get(t)}return n}function _n(e,t,n,a,r){for(var i in e.getVersionNumber=function(){return e.version_number},e.setVersionNumber=function(t){e.version_number=t},e.id=t,e.version_number=n||0,a)e[i]=a[i];if(r)for(var i in r)e[i]=r[i]}dn.prototype=ln.prototype={constructor:dn,on:function(e,t){var n,a=this._,r=un(e+"",a),i=-1,o=r.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++i<o;)if(n=(e=r[i]).type)a[n]=mn(a[n],e.name,t);else if(null==t)for(n in a)a[n]=mn(a[n],e.name,null);return this}for(;++i<o;)if((n=(e=r[i]).type)&&(n=cn(a[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new dn(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,a,r=new Array(n),i=0;i<n;++i)r[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(a=this._[e]).length;i<n;++i)a[i].value.apply(t,r)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)}};var hn={};function fn(e){e.running||(e.running=!0,yn(e,(function(){e.running=!1})))}function yn(e,t){e.request=function(e,t){var n="method"in e?e.method:"POST",a="request_type"in e?e.request_type:"application/json",r="response_type"in e?e.response_type:"application/json",i=e.url,o=e.payload,s=e.callback;!o&&gn(n)&&(o=function(){return{}});if(o){if("function"!=typeof o)throw new Error("Internal error: processRequestThen: payload must be a function, not "+typeof o,o);"object"==typeof(o=o())&&gn(n)&&(window.Flourish&&window.Flourish.csrf_token||console.trace("window.Flourish.csrf_token missing"),o.csrf_token=window.Flourish.csrf_token),"string"!=typeof o&&(o=JSON.stringify(o))}var l=pn(i);a&&"GET"!==n&&l.header("Content-Type",a);r&&l.mimeType(r);return l.on("error",(function(e){var n;try{n=JSON.parse(e.target.responseText),s(n.error)}catch(t){s("Internal error: "+e.target.responseText)}t()})),l.on("load",(function(e){var n=e.responseText;"application/json"===r&&(n=JSON.parse(n));try{s(void 0,n)}catch(e){console.error(e.stack)}t()})),l.send(n,o),l}(e.items.shift(),(function(){e.request=null,0==e.items.length?t():yn(e,t)}))}function gn(e){return["POST","PUT","DELETE"].includes(e)}function vn(e,t){void 0===t&&(t="default"),t in hn||(hn[t]={items:[],running:!1,name:t}),hn[t].items.push(e),fn(hn[t])}function bn(e,t){for(var n in t)e[n]=t[n];return e}function Mn(e,t,n,a){"function"==typeof n&&(a=n,n=!1),n&&bn(e,t),vn({url:e.api_prefix+"/"+e.id,payload:function(){return{version_number:e.getVersionNumber(),fields:t}},callback:function(r,i){if(r)return a(r);n||bn(e,t),e.setVersionNumber(i.version_number),a(void 0)}})}function wn(e,t){e.delete_requested=!0,vn({url:e.api_prefix+"/"+e.id,method:"DELETE",payload:function(){return{version_number:e.getVersionNumber()}},callback:function(n,a){if(n)return t(n);e.setVersionNumber(a.version_number),e.is_deleted=!0,t(void 0,a)}})}var Ln={update:function(e,t){vn({url:"/api/user",method:"POST",payload:function(){return{fields:e}},callback:t})},isUsernameAvailable:function(e,t){vn({url:"/api/user/username?u="+encodeURIComponent(e),method:"GET",callback:t})},getReviewCount:function(e){vn({url:"/api/reviews/count",method:"GET",callback:e})},logHistory:function(e){vn({url:"/api/history",method:"POST",payload:function(){return e},callback:function(){}})},addApiKey:function(e){vn({url:"/api/user/api_keys",method:"PUT",callback:e})},getApiKeys:function(e){vn({url:"/api/user/api_keys",method:"GET",callback:e})},deleteApiKey:function(e,t){vn({url:"/api/user/api_keys/"+e,method:"DELETE",callback:t})},fetchProjects:function(e,t,n,a,r,i,o,s){var l="";t&&(l+="&folder="+encodeURIComponent(t)),n&&(l+="&sort="+encodeURIComponent(n)),a&&(l+="&filter="+encodeURIComponent(a)),r&&(l+="&offset="+encodeURIComponent(r)),i&&(l+="&limit="+encodeURIComponent(i)),o&&(l+="&search="+encodeURIComponent(o)),s&&(l+="&is_recent=true"),vn({url:"/api/user/projects?"+l,method:"GET",callback:e})},addTag:function(e,t){vn({url:"/api/user/tag/"+encodeURIComponent(e),method:"PUT",callback:t})},renameTag:function(e,t,n){vn({url:"/api/user/tag/"+encodeURIComponent(e)+"/"+encodeURIComponent(t),method:"PUT",callback:n})},removeTag:function(e,t){vn({url:"/api/user/tag/"+encodeURIComponent(e),method:"DELETE",callback:t})},fetchFolders:function(e){vn({url:"/api/user/folders",method:"GET",callback:e})},setSamlProviderId:function(e,t,n){vn({url:"/api/user/"+encodeURIComponent(e)+"/change_saml_provider_id",method:"POST",payload:function(){return{saml_provider_id:t}},callback:n})}};function kn(e){we(".upgrade").on("click",(function(t){t.preventDefault(),Yn(e,"Upgrade to access this feature","","upgrade-projects",!0)}))}function Yn(e,t,n,a,r){var i=[],o=[];r?(i.push(["Upgrade to a business account so you can:"]),o.push(["Add custom logos, colours and styles to keep projects on-brand","Remove Flourish logo","Manage your team with collaboration and approval features","And <a href='https://flourish.studio/pricing' target='_blank'>many other benefits</a>"])):(i.push(["Upgrade your account to:"]),o.push(["Keep your data and projects private","Download projects","Get priority support"]));var s=Math.floor(Math.random()*i.length),l=Math.floor(Math.random()*o.length),d="title"+s+"-list"+l,u="upgrade-click",c=[];r?c.push({text:"Email us",class:"convert",tag_name:"a",href:"mailto:sales@flourish.studio?subject=Business%20upgrade%20enquiry",keyCode:13,callback:function(){e.analytics("send","event",u,a,d),Ln.logHistory({category:"upgrade",action:"clicked",detail:a})}}):c.push({text:"Upgrade now",class:"convert",keyCode:13,callback:function(){e.analytics("send","event",u,a,d),Ln.logHistory({category:"upgrade",action:"clicked",detail:a}),setTimeout((function(){window.location.href="/choose-subscription"}),1e3)}}),c.push({text:"Maybe later",keyCode:27,class:"secondary",callback:function(){e.analytics("send","event","upgrade-close",a,d),Ln.logHistory({category:"upgrade",action:"closed",detail:a})}}),e.analytics("send","event","upgrade-open",a,d),Ln.logHistory({category:"upgrade",action:"viewed",detail:a}),Gt(t,n,{buttons:c,is_html:!0,upgrade:{message:i[s],list:o[l],is_business:r}})}var Dn,xn,Tn=0,Sn=0,Hn=0,En=0,jn=0,An=0,Cn="object"==typeof performance&&performance.now?performance:Date,On="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Fn(){return jn||(On(Pn),jn=Cn.now()+An)}function Pn(){jn=0}function Nn(){this._call=this._time=this._next=null}function Rn(e,t,n){var a=new Nn;return a.restart(e,t,n),a}function Wn(){jn=(En=Cn.now())+An,Tn=Sn=0;try{!function(){Fn(),++Tn;for(var e,t=Dn;t;)(e=jn-t._time)>=0&&t._call.call(null,e),t=t._next;--Tn}()}finally{Tn=0,function(){var e,t,n=Dn,a=1/0;for(;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Dn=t);xn=e,Un(a)}(),jn=0}}function zn(){var e=Cn.now(),t=e-En;t>1e3&&(An-=t,En=e)}function Un(e){Tn||(Sn&&(Sn=clearTimeout(Sn)),e-jn>24?(e<1/0&&(Sn=setTimeout(Wn,e-Cn.now()-An)),Hn&&(Hn=clearInterval(Hn))):(Hn||(En=Cn.now(),Hn=setInterval(zn,1e3)),Tn=1,On(Wn)))}function In(e,t,n){var a=new Nn;return t=null==t?0:+t,a.restart((n=>{a.stop(),e(n+t)}),t,n),a}Nn.prototype=Rn.prototype={constructor:Nn,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?Fn():+n)+(null==t?0:+t),this._next||xn===this||(xn?xn._next=this:Dn=this,xn=this),this._call=e,this._time=n,Un()},stop:function(){this._call&&(this._call=null,this._time=1/0,Un())}};var qn=ln("start","end","cancel","interrupt"),Bn=[];function Jn(e,t,n,a,r,i){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var a,r=e.__transition;function i(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(i){var d,u,c,m;if(1!==n.state)return l();for(d in r)if((m=r[d]).name===n.name){if(3===m.state)return In(o);4===m.state?(m.state=6,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[d]):+d<t&&(m.state=6,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[d])}if(In((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,a=new Array(c=n.tween.length),d=0,u=-1;d<c;++d)(m=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(a[++u]=m);a.length=u+1}}function s(t){for(var r=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,o=a.length;++i<o;)a[i].call(e,r);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var a in n.state=6,n.timer.stop(),delete r[t],r)return;delete e.__transition}r[t]=n,n.timer=Rn(i,0,n.time)}(e,n,{name:t,index:a,group:r,on:qn,tween:Bn,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function Vn(e,t){var n=Gn(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function $n(e,t){var n=Gn(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Gn(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Kn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Zn(e,t){var n=Object.create(e.prototype);for(var a in t)n[a]=t[a];return n}function Xn(){}var Qn=.7,ea=1/Qn,ta="\\s*([+-]?\\d+)\\s*",na="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",aa="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ra=/^#([0-9a-f]{3,8})$/,ia=new RegExp("^rgb\\("+[ta,ta,ta]+"\\)$"),oa=new RegExp("^rgb\\("+[aa,aa,aa]+"\\)$"),sa=new RegExp("^rgba\\("+[ta,ta,ta,na]+"\\)$"),la=new RegExp("^rgba\\("+[aa,aa,aa,na]+"\\)$"),da=new RegExp("^hsl\\("+[na,aa,aa]+"\\)$"),ua=new RegExp("^hsla\\("+[na,aa,aa,na]+"\\)$"),ca={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ma(){return this.rgb().formatHex()}function pa(){return this.rgb().formatRgb()}function _a(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ra.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?ha(t):3===n?new ba(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?fa(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?fa(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=ia.exec(e))?new ba(t[1],t[2],t[3],1):(t=oa.exec(e))?new ba(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=sa.exec(e))?fa(t[1],t[2],t[3],t[4]):(t=la.exec(e))?fa(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=da.exec(e))?ka(t[1],t[2]/100,t[3]/100,1):(t=ua.exec(e))?ka(t[1],t[2]/100,t[3]/100,t[4]):ca.hasOwnProperty(e)?ha(ca[e]):"transparent"===e?new ba(NaN,NaN,NaN,0):null}function ha(e){return new ba(e>>16&255,e>>8&255,255&e,1)}function fa(e,t,n,a){return a<=0&&(e=t=n=NaN),new ba(e,t,n,a)}function ya(e){return e instanceof Xn||(e=_a(e)),e?new ba((e=e.rgb()).r,e.g,e.b,e.opacity):new ba}function va(e,t,n,a){return 1===arguments.length?ya(e):new ba(e,t,n,null==a?1:a)}function ba(e,t,n,a){this.r=+e,this.g=+t,this.b=+n,this.opacity=+a}function Ma(){return"#"+La(this.r)+La(this.g)+La(this.b)}function wa(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function La(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function ka(e,t,n,a){return a<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Da(e,t,n,a)}function Ya(e){if(e instanceof Da)return new Da(e.h,e.s,e.l,e.opacity);if(e instanceof Xn||(e=_a(e)),!e)return new Da;if(e instanceof Da)return e;var t=(e=e.rgb()).r/255,n=e.g/255,a=e.b/255,r=Math.min(t,n,a),i=Math.max(t,n,a),o=NaN,s=i-r,l=(i+r)/2;return s?(o=t===i?(n-a)/s+6*(n<a):n===i?(a-t)/s+2:(t-n)/s+4,s/=l<.5?i+r:2-i-r,o*=60):s=l>0&&l<1?0:o,new Da(o,s,l,e.opacity)}function Da(e,t,n,a){this.h=+e,this.s=+t,this.l=+n,this.opacity=+a}function xa(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Ta(e){return function(){return e}}function Sa(e){return 1==(e=+e)?Ha:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(a){return Math.pow(e+a*t,n)}}(t,n,e):Ta(isNaN(t)?n:t)}}function Ha(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ta(isNaN(e)?t:e)}Kn(Xn,_a,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:ma,formatHex:ma,formatHsl:function(){return Ya(this).formatHsl()},formatRgb:pa,toString:pa}),Kn(ba,va,Zn(Xn,{brighter:function(e){return e=null==e?ea:Math.pow(ea,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?Qn:Math.pow(Qn,e),new ba(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ma,formatHex:Ma,formatRgb:wa,toString:wa})),Kn(Da,(function(e,t,n,a){return 1===arguments.length?Ya(e):new Da(e,t,n,null==a?1:a)}),Zn(Xn,{brighter:function(e){return e=null==e?ea:Math.pow(ea,e),new Da(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?Qn:Math.pow(Qn,e),new Da(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,a=n+(n<.5?n:1-n)*t,r=2*n-a;return new ba(xa(e>=240?e-240:e+120,r,a),xa(e,r,a),xa(e<120?e+240:e-120,r,a),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var Ea=function e(t){var n=Sa(t);function a(e,t){var a=n((e=va(e)).r,(t=va(t)).r),r=n(e.g,t.g),i=n(e.b,t.b),o=Ha(e.opacity,t.opacity);return function(t){return e.r=a(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return a.gamma=e,a}(1);function ja(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Aa=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ca=new RegExp(Aa.source,"g");function Oa(e,t){var n,a,r,i=Aa.lastIndex=Ca.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=Aa.exec(e))&&(a=Ca.exec(t));)(r=a.index)>i&&(r=t.slice(i,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:ja(n,a)})),i=Ca.lastIndex;return i<t.length&&(r=t.slice(i),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,a=0;a<t;++a)s[(n=l[a]).i]=n.x(e);return s.join("")})}var Fa,Pa,Na,Ra,Wa=180/Math.PI,za={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ua(e,t,n,a,r,i){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*a)&&(n-=e*l,a-=t*l),(s=Math.sqrt(n*n+a*a))&&(n/=s,a/=s,l/=s),e*a<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:r,translateY:i,rotate:Math.atan2(t,e)*Wa,skewX:Math.atan(l)*Wa,scaleX:o,scaleY:s}}function Ia(e,t,n,a){function r(e){return e.length?e.pop()+" ":""}return function(i,o){var s=[],l=[];return i=e(i),o=e(o),function(e,a,r,i,o,s){if(e!==r||a!==i){var l=o.push("translate(",null,t,null,n);s.push({i:l-4,x:ja(e,r)},{i:l-2,x:ja(a,i)})}else(r||i)&&o.push("translate("+r+t+i+n)}(i.translateX,i.translateY,o.translateX,o.translateY,s,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(r(n)+"rotate(",null,a)-2,x:ja(e,t)})):t&&n.push(r(n)+"rotate("+t+a)}(i.rotate,o.rotate,s,l),function(e,t,n,i){e!==t?i.push({i:n.push(r(n)+"skewX(",null,a)-2,x:ja(e,t)}):t&&n.push(r(n)+"skewX("+t+a)}(i.skewX,o.skewX,s,l),function(e,t,n,a,i,o){if(e!==n||t!==a){var s=i.push(r(i)+"scale(",null,",",null,")");o.push({i:s-4,x:ja(e,n)},{i:s-2,x:ja(t,a)})}else 1===n&&1===a||i.push(r(i)+"scale("+n+","+a+")")}(i.scaleX,i.scaleY,o.scaleX,o.scaleY,s,l),i=o=null,function(e){for(var t,n=-1,a=l.length;++n<a;)s[(t=l[n]).i]=t.x(e);return s.join("")}}}var qa=Ia((function(e){return"none"===e?za:(Fa||(Fa=document.createElement("DIV"),Pa=document.documentElement,Na=document.defaultView),Fa.style.transform=e,e=Na.getComputedStyle(Pa.appendChild(Fa),null).getPropertyValue("transform"),Pa.removeChild(Fa),Ua(+(e=e.slice(7,-1).split(","))[0],+e[1],+e[2],+e[3],+e[4],+e[5]))}),"px, ","px)","deg)"),Ba=Ia((function(e){return null==e?za:(Ra||(Ra=document.createElementNS("http://www.w3.org/2000/svg","g")),Ra.setAttribute("transform",e),(e=Ra.transform.baseVal.consolidate())?Ua((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):za)}),", ",")",")");function Ja(e,t){var n,a;return function(){var r=$n(this,e),i=r.tween;if(i!==n)for(var o=0,s=(a=n=i).length;o<s;++o)if(a[o].name===t){(a=a.slice()).splice(o,1);break}r.tween=a}}function Va(e,t,n){var a,r;if("function"!=typeof n)throw new Error;return function(){var i=$n(this,e),o=i.tween;if(o!==a){r=(a=o).slice();for(var s={name:t,value:n},l=0,d=r.length;l<d;++l)if(r[l].name===t){r[l]=s;break}l===d&&r.push(s)}i.tween=r}}function $a(e,t,n){var a=e._id;return e.each((function(){var e=$n(this,a);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Gn(e,a).value[t]}}function Ga(e,t){var n;return("number"==typeof t?ja:t instanceof _a?Ea:(n=_a(t))?(t=n,Ea):Oa)(e,t)}function Ka(e){return function(){this.removeAttribute(e)}}function Za(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Xa(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttribute(e);return o===i?null:o===a?r:r=t(a=o,n)}}function Qa(e,t,n){var a,r,i=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===a?r:r=t(a=o,n)}}function er(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttribute(e)}}function tr(e,t,n){var a,r,i;return function(){var o,s,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===a&&s===r?i:(r=s,i=t(a=o,l));this.removeAttributeNS(e.space,e.local)}}function nr(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ar(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function rr(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&ar(e,r)),n}return r._value=t,r}function ir(e,t){var n,a;function r(){var r=t.apply(this,arguments);return r!==a&&(n=(a=r)&&nr(e,r)),n}return r._value=t,r}function or(e,t){return function(){Vn(this,e).delay=+t.apply(this,arguments)}}function sr(e,t){return t=+t,function(){Vn(this,e).delay=t}}function lr(e,t){return function(){$n(this,e).duration=+t.apply(this,arguments)}}function dr(e,t){return t=+t,function(){$n(this,e).duration=t}}function ur(e,t){if("function"!=typeof t)throw new Error;return function(){$n(this,e).ease=t}}function cr(e,t,n){var a,r,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Vn:$n;return function(){var o=i(this,e),s=o.on;s!==a&&(r=(a=s).copy()).on(t,n),o.on=r}}var mr=ve.prototype.constructor;function pr(e){return function(){this.style.removeProperty(e)}}function _r(e,t,n){return function(a){this.style.setProperty(e,t.call(this,a),n)}}function hr(e,t,n){var a,r;function i(){var i=t.apply(this,arguments);return i!==r&&(a=(r=i)&&_r(e,i,n)),a}return i._value=t,i}function fr(e){return function(t){this.textContent=e.call(this,t)}}function yr(e){var t,n;function a(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&fr(a)),t}return a._value=e,a}var gr=0;function vr(e,t,n,a){this._groups=e,this._parents=t,this._name=n,this._id=a}function br(){return++gr}var Mr=ve.prototype;vr.prototype={constructor:vr,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=_(e));for(var a=this._groups,r=a.length,i=new Array(r),o=0;o<r;++o)for(var s,l,d=a[o],u=d.length,c=i[o]=new Array(u),m=0;m<u;++m)(s=d[m])&&(l=e.call(s,s.__data__,m,d))&&("__data__"in s&&(l.__data__=s.__data__),c[m]=l,Jn(c[m],t,n,m,c,Gn(s,n)));return new vr(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=y(e));for(var a=this._groups,r=a.length,i=[],o=[],s=0;s<r;++s)for(var l,d=a[s],u=d.length,c=0;c<u;++c)if(l=d[c]){for(var m,p=e.call(l,l.__data__,c,d),_=Gn(l,n),h=0,f=p.length;h<f;++h)(m=p[h])&&Jn(m,t,n,h,p,_);i.push(p),o.push(l)}return new vr(i,o,t,n)},filter:function(e){"function"!=typeof e&&(e=g(e));for(var t=this._groups,n=t.length,a=new Array(n),r=0;r<n;++r)for(var i,o=t[r],s=o.length,l=a[r]=[],d=0;d<s;++d)(i=o[d])&&e.call(i,i.__data__,d,o)&&l.push(i);return new vr(a,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,a=t.length,r=n.length,i=Math.min(a,r),o=new Array(a),s=0;s<i;++s)for(var l,d=t[s],u=n[s],c=d.length,m=o[s]=new Array(c),p=0;p<c;++p)(l=d[p]||u[p])&&(m[p]=l);for(;s<a;++s)o[s]=t[s];return new vr(o,this._parents,this._name,this._id)},selection:function(){return new mr(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=br(),a=this._groups,r=a.length,i=0;i<r;++i)for(var o,s=a[i],l=s.length,d=0;d<l;++d)if(o=s[d]){var u=Gn(o,t);Jn(o,e,n,d,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new vr(a,this._parents,e,n)},call:Mr.call,nodes:Mr.nodes,node:Mr.node,size:Mr.size,empty:Mr.empty,each:Mr.each,on:function(e,t){var n=this._id;return arguments.length<2?Gn(this.node(),n).on.on(e):this.each(cr(n,e,t))},attr:function(e,t){var n=d(e),a="transform"===n?Ba:Ga;return this.attrTween(e,"function"==typeof t?(n.local?tr:er)(n,a,$a(this,"attr."+e,t)):null==t?(n.local?Za:Ka)(n):(n.local?Qa:Xa)(n,a,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var a=d(e);return this.tween(n,(a.local?rr:ir)(a,t))},style:function(e,t,n){var a="transform"==(e+="")?qa:Ga;return null==t?this.styleTween(e,function(e,t){var n,a,r;return function(){var i=z(this,e),o=(this.style.removeProperty(e),z(this,e));return i===o?null:i===n&&o===a?r:r=t(n=i,a=o)}}(e,a)).on("end.style."+e,pr(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var a,r,i;return function(){var o=z(this,e),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=z(this,e)),o===l?null:o===a&&l===r?i:(r=l,i=t(a=o,s))}}(e,a,$a(this,"style."+e,t))).each(function(e,t){var n,a,r,i,o="style."+t,s="end."+o;return function(){var l=$n(this,e),d=l.on,u=null==l.value[o]?i||(i=pr(t)):void 0;d===n&&r===u||(a=(n=d).copy()).on(s,r=u),l.on=a}}(this._id,e)):this.styleTween(e,function(e,t,n){var a,r,i=n+"";return function(){var o=z(this,e);return o===i?null:o===a?r:r=t(a=o,n)}}(e,a,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(null==t)return this.tween(a,null);if("function"!=typeof t)throw new Error;return this.tween(a,hr(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}($a(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,yr(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var a,r=Gn(this.node(),n).tween,i=0,o=r.length;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((null==t?Ja:Va)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?or:sr)(t,e)):Gn(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?lr:dr)(t,e)):Gn(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(ur(t,e)):Gn(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;$n(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,a=n._id,r=n.size();return new Promise((function(i,o){var s={value:o},l={value:function(){0==--r&&i()}};n.each((function(){var n=$n(this,a),r=n.on;r!==e&&((t=(e=r).copy())._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),n.on=t})),0===r&&i()}))},[Symbol.iterator]:Mr[Symbol.iterator]};var wr={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Lr(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function kr(e,t,n,a){if(0!=we(e).size()){void 0===a&&(a={}),a.max_width||(a.max_width=240),a.aspect_ratio||(a.aspect_ratio=.85),a.hasOwnProperty("duration")||(a.duration=500),a.hasOwnProperty("fixed_height")||(a.fixed_height=0),a.hasOwnProperty("gutter_h")||(a.gutter_h=a.gutter||15),a.hasOwnProperty("gutter_v")||(a.gutter_v=a.gutter||15),we(t).classed("visible",(function(){return"all"==n||null==n||be(this).classed(n)}));var r=be(e),i=r.node(),o=be(e).selectAll(".visible"),s=o.size(),l=i.getBoundingClientRect().width,d=Math.ceil(l/a.max_width),u=Math.ceil(s/d),c=(l-(d-1)*a.gutter_h)/d,m=c*a.aspect_ratio+a.fixed_height;return o.each((function(e,t){var n=Math.floor(t/d),r=t%d,i=r*c+r*a.gutter_h,o=n*m+n*a.gutter_v;be(this).style("display","block").style("position","absolute").transition().duration(a.duration).style("opacity",1).style("width",c+"px").style("height",m+"px").style("left",i+"px").style("top",o+"px")})),"all"!=n&&null!=n&&we(t+":not(."+n+")").transition().duration(a.duration).style("opacity",0).transition().duration(0).style("display","none"),r.style("height",u*(m+a.gutter_v)+"px"),{width:c,height:m}}console.warn("Parent not specified or not found")}function Yr(){var e={duration:0,aspect_ratio:.9,max_width:220};kr("#projects .project-list",".project",null,e),kr("#templates .project-list",".project",null,e)}ve.prototype.interrupt=function(e){return this.each((function(){!function(e,t){var n,a,r,i=e.__transition,o=!0;if(i){for(r in t=null==t?null:t+"",i)(n=i[r]).name===t?(a=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[r]):o=!1;o&&delete e.__transition}}(this,e)}))},ve.prototype.transition=function(e){var t,n;e instanceof vr?(t=e._id,e=e._name):(t=br(),(n=wr).time=Fn(),e=null==e?null:e+"");for(var a=this._groups,r=a.length,i=0;i<r;++i)for(var o,s=a[i],l=s.length,d=0;d<l;++d)(o=s[d])&&Jn(o,e,t,d,s,n||Lr(o,t));return new vr(a,this._parents,e,t)};var Dr,xr,Tr,Sr={favourite:function(e,t){vn({url:"/api/template/"+e+"/favourite",method:"POST",callback:t})},unfavourite:function(e,t){vn({url:"/api/template/"+e+"/unfavourite",method:"POST",callback:t})}};function Hr(e){var t={};!function(e,n,a){for(;a=n.exec(e);)t[decodeURIComponent(a[1])]=decodeURIComponent(a[2])}(window.location.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),e&&(("full"in t||"fit"in t)&&be("body").classed("full-width",!0),"full"in t&&be(".flourish-embed").attr("data-height","100vh"))}function Er(e,t,n,a,r){be(a).on("click",(function(a){var i=be(this),o=i.attr("href"),s=i.node().form;function l(){o?window.location=o:s&&s.submit()}(o||s)&&(a.stopPropagation(),a.preventDefault()),!r||r.can_make_new_projects||"template"!==t?(setTimeout(l,1e3),e("send","event",{eventCategory:t,eventAction:"create-new",eventLabel:n,hitCallback:l})):Yn({analytics:e},"Upgrade to create visualisations","You've reached the maximum number of visualisations allowed with your account.","upgrade-duplicate",!0)}))}function jr(){window.location.hash||(we(".collapsible-api-docs").style("display","none"),be("#api-section-menu").style("display","none"),be("#show-template-api-docs").style("display","block")),be("#show-template-api-docs").on("click",(function(){we(".collapsible-api-docs").style("display","block"),be("#api-section-menu").style("display","block"),be("#show-template-api-docs").style("display","none")})),we(".api-docs-container .api-copy-property").on("click",(function(){var e=document.createElement("textarea");e.value=this.getAttribute("data-text"),e.setAttribute("readonly",""),e.style.position="absolute",e.style.opacity="0",e.style.left="-9999px",document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),be(this).style("color","green").attr("class","api-copy-property fa fa-check").transition().delay(500).duration(0).style("color",null).attr("class","api-copy-property fa fa-clipboard")}))}function Ar(){var e=window.location;"about:srcdoc"==e.href&&(e=window.parent.location);var t={};return function(e,n,a){for(;a=n.exec(e);)t[decodeURIComponent(a[1])]=decodeURIComponent(a[2])}(e.search.substring(1).replace(/\+/g,"%20"),/([^&=]+)=?([^&]*)/g),t}var Cr,Or="100%",Fr="400px",Pr="300px",Nr="600px",Rr=/^\d+$/;function Wr(e){return"number"==typeof e||Rr.test(e)}function zr(e,t,n,a,r,i){var o;if(Wr(n)&&(n+="px"),Wr(a)&&(a+="px"),"amp"==r)o="<amp-iframe sandbox='allow-scripts allow-same-origin allow-forms allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation' layout=responsive resizable noloading title='Interactive or visual content' src='"+e+"?auto=1' width="+parseInt(n||Fr,10)+" height="+parseInt(a||Pr,10)+"><amp-img layout=fixed height=64 width=64 src='"+Tr+"resources/bosh.svg' placeholder style='margin: auto'></amp-img><div overflow style='position: absolute; bottom: 0; width: 100%; text-align: center; background: #eee; font-family: sans-serif;'>Show more</div></amp-iframe>",i||(o+="<p><a href='"+Tr+t+"/?utm_source=embed&utm_campaign="+t+"'><amp-img layout=fixed height=16 width=105 src='"+Tr+"resources/made_with_flourish.svg' alt='Made with Flourish'></amp-img></a></p>");else if("iframe"==r)o="<iframe src='"+e+"' title='Interactive or visual content' class='flourish-embed-iframe' frameborder='0' scrolling='no' style='width:"+(n||Or)+";height:"+(a||Nr)+";' sandbox='allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation'></iframe>",i||(o+="<div style='width:100%!;margin-top:4px!important;text-align:right!important;'><a class='flourish-credit' href='"+Tr+t+"/?utm_source=embed&utm_campaign="+t+"' target='_top' style='text-decoration:none!important'><img alt='Made with Flourish' src='"+Tr+"resources/made_with_flourish.svg' style='width:105px!important;height:16px!important;border:none!important;margin:0!important;'> </a></div>");else{var s=i?t+"?"+xr.user.id:t,l="flourish-embed";Cr&&(l+=" flourish-"+Cr),o='<div class="'+l+'" data-src="'+s+'"',n&&"100%"!==n&&(o+=' data-width="'+n+'"'),a&&(o+=' data-height="'+a+'"'),o+='><script src="'+Tr+'resources/embed.js"><\/script></div>'}return o}function Ur(e,t,n,a,r){var i=n||{},o=i.width||Or,s=i.height||"",l=i.format||"script";xr=r,Tr=e,Cr=i.category;var d=window.location.href.match(/\/(visualisation|story)\/(\d*)\//),u=d[1]+"/"+d[2],c=xr&&xr.user&&xr.user.can_remove_flourish_attribution,m="<div id='embed-form'><input onclick='this.select()' type='text' name='embed' value='"+zr(t,u,o,s,l,c)+"'><div class='embed-options collapsed'><p class='embed-as'><label><input type='radio' name='format' value='script'"+(l&&"script"!=l?"":" checked")+"> Script (recommended)</label><label><input type='radio' name='format' value='amp'"+("amp"==l?" checked":"")+"> AMP</label><label><input type='radio' name='format' value='iframe'"+("iframe"==l?" checked":"")+"> Iframe <i class='popup fa fa-question-circle help-tip' data-popup-body='Not responsive. Only recommended if your CMS doesn’t support scripts' data-popup-position='top'></i></label></p><p><label class='narrow'>Width</label><input type='text' name='width' value='"+o+"' class='narrow'><label class='narrow'>Height</label><input type='text' name='height' placeholder='auto' value='"+s+"' class='narrow'></p>";function p(){var e=be("#embed-form input[name=width]"),n=be("#embed-form input[name=height]"),a=be("#embed-form input[name=hide_credit]"),r=e.property("value"),i=n.property("value"),o=be("#embed-form input[name=format]:checked").node().value,s=!a.empty()&&a.property("checked");"auto"==r&&e.property("value",r=Or),"auto"==i&&n.property("value",i=""),be("input[name=embed]").attr("value",zr(t,u,r,i,o,s))}c&&(m+="<p class='hide-credits'><label><input type='checkbox' name='hide_credit' checked> Hide Flourish credit</label></p>"),m+="</div><button name='toggle-collapse' value='.embed-options'>More options <em class='fa fa-caret-down'></em></button></div>",a?a.html(m):Gt("Embed this visualisation","<p>Copy and paste the code below into your page:</p>"+m,{is_html:!0}),be("#embed-form button[name=toggle-collapse]").on("click",(function(){var e=be(this.value),t=!e.classed("collapsed");e.classed("collapsed",t),be(this).select("em").attr("class","fa fa-caret-"+(t?"down":"up"))}),!0),we("#embed-form input[name='format']").on("click",(function(){var e=be("#embed-form input[name=width]"),t=be("#embed-form input[name=height]"),n="amp"==be(this).property("value"),a="iframe"==be(this).property("value");n||e.property("value")!=Fr||e.property("value",Or),n||t.property("value")!=Pr||t.property("value",""),a||t.property("value")!=Nr||t.property("value",""),n&&e.property("value")==Or&&e.property("value",Fr),n&&!t.property("value")&&t.property("value",Pr),a&&!t.property("value")&&t.property("value",Nr),t.property("placeholder",a?Nr:"auto"),p()})),we("#embed-form input[type=text]").on("change",(function(){p()})),be("#embed-form input[name='hide_credit']").on("change",(function(){p()})),be("#embed-form .upgrade-btn").on("click",(function(){Yn(xr,"This is a premium feature","To hide the Flourish credit you need to upgrade your account.","upgrade-hide-credit",!0)})),zt()}function Ir(e,t,n,a){var r=document.querySelector(".action-buttons .embed");r&&(Ar()["embed-ui"]&&Ur(e,t,n,!1,a),r.addEventListener("click",(function(){Ct.hide(),Ur(e,t,n,!1,a)})))}function qr(e,t,n){this.story=e,_n(this,t,void 0,n,{getVersionNumber:function(){return this.story.version_number},setVersionNumber:function(e){this.story.version_number=e}}),this.api_prefix="/api/slide"}function Br(e,t){_n(this,e,void 0,t),this.api_prefix="/api/video"}function Jr(e,t,n,a,r){_n(this,e,t,n),this.api_prefix="/api/story",this.slides=a,this.slides_by_id={};for(var i=0;i<a.length;i++){var o=a[i];o.story=this,this.slides_by_id[o.id]=o}this.status=r}qr.prototype.save=function(e,t){Mn(this,e,!0,t)},qr.prototype.delete=function(e){wn(this,e)},qr.prototype.move=function(e,t){var n=this;vn({url:"/api/slide/"+n.id+"/move",payload:function(){return{version_number:n.getVersionNumber(),index:e}},callback:function(e,a){if(e)return t(e);n.setVersionNumber(a.version_number),t()}})},Br.prototype.poll=function(e){vn({url:`${this.api_prefix}/${this.id}`,method:"GET",callback:(t,n)=>{if(t)return e&&e(t);for(var a in n)this[a]=n[a];e&&e(null,this)}})},Br.prototype.getProgress=function(){const e=this.chunks_done.length+3;return 100*((this.chunks_init?1:0)+this.chunks_done.reduce(((e,t)=>e+(t?1:0)))+(this.output_init?1:0)+(this.output_done?1:0))/e},Br.prototype.delete=function(e){vn({url:`${this.api_prefix}/${this.id}`,method:"DELETE",callback:t=>{if(t)return e&&e(t);e&&e()}})},Jr.prototype.save=function(e,t){Mn(this,e,t)},Jr.prototype.delete=function(e){wn(this,e)},Jr.prototype.addSlide=function(e,t,n){var a=this;vn({url:"/api/slide",method:"PUT",payload:function(){return{version_number:a.version_number,story_id:a.id,index:e,fields:t}},callback:function(r,i){if(r)return n(r);a.version_number=i.version_number;var o=new qr(a,i.id,t);o.index=e,a.slides_by_id[i.id]=o,a.slides.slice(e).forEach((function(e){e.index++})),a.slides.splice(e,0,o),n(void 0,o)}})},Jr.prototype.deleteSlide=function(e,t){var n=this,a=n.slides_by_id[e],r=n.slides.indexOf(a);n.slides_by_id[e]&&(n.slides_by_id[e].delete((function(e,a){if(e)return t(e);n.version_number=a.version_number,t()})),delete n.slides_by_id[a.id],n.slides.splice(r,1),n.slides.slice(r).forEach((function(e){e.index--})))},Jr.prototype.moveSlide=function(e,t,n){var a=this,r=e.index;e.move(t,(function(e){if(e)return n(e);n()})),a.slides.splice(r,1),a.slides.splice(t,0,e),a.slides.forEach((function(e,t){e.index=t}))},Jr.prototype.duplicate=function(e){vn({url:this.api_prefix+"/"+this.id+"/duplicate",callback:e})},Jr.prototype.publish=function(e,t,n){var a=this;vn({url:this.api_prefix+"/"+this.id+"/publish",payload:function(){return{password:t,anyone_can_duplicate:n}},callback:function(t,n){if(t)return e(t);a.version_number=n.version_number,a.embed_url=n.embed_url,a.showcase_url=n.showcase_url,a.is_password_protected=n.is_password_protected,a.anyone_can_duplicate=n.anyone_can_duplicate,e(void 0,n)}})},Jr.prototype.unpublish=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/unpublish",callback:function(n,a){if(n)return e(n);t.version_number=a.version_number,t.embed_url=a.embed_url,t.showcase_url=a.showcase_url,e(void 0,a)}})},Jr.prototype.sendForReview=function(e,t,n){var a=this;vn({url:"/api/reviews",payload:function(){return{project_id:a.id,project_type:"story",reviewers:e,message:t}},callback:function(e,t){a.status=t,n(e,t)}})},Jr.prototype.approve=function(e,t){var n=this;vn({url:"/api/review/"+e+"/approve",callback:function(e,a){return n.status=a,t(e,a)}})},Jr.prototype.decline=function(e,t,n){var a=this;vn({url:"/api/review/"+e+"/decline",payload:function(){return{message:t}},callback:function(e,t){a.status=t,n(e,t)}})},Jr.prototype.cancelReview=function(e,t){var n=this;vn({url:"/api/review/"+e+"/cancel",callback:function(e,a){n.status=a,t(e,a)}})},Jr.prototype.generateVideo=function(e,t){vn({url:`/api/story/${this.id}/video`,method:"POST",payload:()=>e,callback:(e,n)=>{if(e)return t(e);const{id:a,...r}=n;t(null,new Br(a,r))}})},Jr.prototype.getDuration=function(){let e=0;for(const t of this.slides)e+=t.duration||this.default_slide_duration;return e},Jr.setAsStaffPick=function(e,t){vn({url:"/api/story/"+e+"/set_staff_pick",method:"POST",callback:t})},Jr.unsetAsStaffPick=function(e,t){vn({url:"/api/story/"+e+"/unset_staff_pick",method:"POST",callback:t})},Jr.setTag=function(e,t,n){vn({url:"/api/story/"+e+"/folder/"+encodeURIComponent(t),method:"PUT",callback:n})},Jr.removeTag=function(e,t,n){vn({url:"/api/story/"+e+"/tag/"+encodeURIComponent(t),method:"DELETE",callback:n})};var Vr={},$r={};function Gr(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function Kr(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var a in e)a in t||n.push(t[a]=a)})),n}function Zr(e,t){var n=e+"",a=n.length;return a<t?new Array(t-a+1).join(0)+n:n}function Xr(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),r=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+Zr(-e,6):e>9999?"+"+Zr(e,6):Zr(e,4)}(e.getUTCFullYear())+"-"+Zr(e.getUTCMonth()+1,2)+"-"+Zr(e.getUTCDate(),2)+(r?"T"+Zr(t,2)+":"+Zr(n,2)+":"+Zr(a,2)+"."+Zr(r,3)+"Z":a?"T"+Zr(t,2)+":"+Zr(n,2)+":"+Zr(a,2)+"Z":n||t?"T"+Zr(t,2)+":"+Zr(n,2)+"Z":"")}var Qr=function(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function a(e,t){var a,r=[],i=e.length,o=0,s=0,l=i<=0,d=!1;function u(){if(l)return $r;if(d)return d=!1,Vr;var t,a,r=o;if(34===e.charCodeAt(r)){for(;o++<i&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=i?l=!0:10===(a=e.charCodeAt(o++))?d=!0:13===a&&(d=!0,10===e.charCodeAt(o)&&++o),e.slice(r+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(a=e.charCodeAt(t=o++)))d=!0;else if(13===a)d=!0,10===e.charCodeAt(o)&&++o;else if(a!==n)continue;return e.slice(r,t)}return l=!0,e.slice(r,i)}for(10===e.charCodeAt(i-1)&&--i,13===e.charCodeAt(i-1)&&--i;(a=u())!==$r;){for(var c=[];a!==Vr&&a!==$r;)c.push(a),a=u();t&&null==(c=t(c,s++))||r.push(c)}return r}function r(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function i(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?Xr(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,r,i=a(e,(function(e,a){if(n)return n(e,a-1);r=e,n=t?function(e,t){var n=Gr(e);return function(a,r){return t(n(a),r,e)}}(e,t):Gr(e)}));return i.columns=r||[],i},parseRows:a,format:function(t,n){return null==n&&(n=Kr(t)),[n.map(o).join(e)].concat(r(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=Kr(e)),r(e,t).join("\n")},formatRows:function(e){return e.map(i).join("\n")},formatRow:i,formatValue:o}}(","),ei=Qr.parseRows,ti=Qr.format,ni=Qr.formatRows,ai=new Date,ri=new Date;function ii(e,t,n,a){function r(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return r.floor=function(t){return e(t=new Date(+t)),t},r.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},r.round=function(e){var t=r(e),n=r.ceil(e);return e-t<n-e?t:n},r.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},r.range=function(n,a,i){var o,s=[];if(n=r.ceil(n),i=null==i?1:Math.floor(i),!(n<a&&i>0))return s;do{s.push(o=new Date(+n)),t(n,i),e(n)}while(o<n&&n<a);return s},r.filter=function(n){return ii((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,a){if(e>=e)if(a<0)for(;++a<=0;)for(;t(e,-1),!n(e););else for(;--a>=0;)for(;t(e,1),!n(e););}))},n&&(r.count=function(t,a){return ai.setTime(+t),ri.setTime(+a),e(ai),e(ri),Math.floor(n(ai,ri))},r.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?r.filter(a?function(t){return a(t)%e==0}:function(t){return r.count(0,t)%e==0}):r:null}),r}var oi=864e5,si=6048e5,li=ii((function(e){e.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/oi}),(function(e){return e.getDate()-1})),di=li;function ui(e){return ii((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/si}))}li.range;var ci=ui(0),mi=ui(1),pi=ui(2),_i=ui(3),hi=ui(4),fi=ui(5),yi=ui(6);ci.range,mi.range,pi.range,_i.range,hi.range,fi.range,yi.range;var gi=ii((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));gi.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ii((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var vi=gi;gi.range;var bi=ii((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/oi}),(function(e){return e.getUTCDate()-1})),Mi=bi;function wi(e){return ii((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/si}))}bi.range;var Li=wi(0),ki=wi(1),Yi=wi(2),Di=wi(3),xi=wi(4),Ti=wi(5),Si=wi(6);Li.range,ki.range,Yi.range,Di.range,xi.range,Ti.range,Si.range;var Hi=ii((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Hi.every=function(e){return isFinite(e=Math.floor(e))&&e>0?ii((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Ei=Hi;function ji(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ai(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ci(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}Hi.range;var Oi,Fi,Pi,Ni={"-":"",_:" ",0:"0"},Ri=/^\s*\d+/,Wi=/^%/,zi=/[\\^$*+?|[\]().{}]/g;function Ui(e,t,n){var a=e<0?"-":"",r=(a?-e:e)+"",i=r.length;return a+(i<n?new Array(n-i+1).join(t)+r:r)}function Ii(e){return e.replace(zi,"\\$&")}function qi(e){return new RegExp("^(?:"+e.map(Ii).join("|")+")","i")}function Bi(e){for(var t={},n=-1,a=e.length;++n<a;)t[e[n].toLowerCase()]=n;return t}function Ji(e,t,n){var a=Ri.exec(t.slice(n,n+1));return a?(e.w=+a[0],n+a[0].length):-1}function Vi(e,t,n){var a=Ri.exec(t.slice(n,n+1));return a?(e.u=+a[0],n+a[0].length):-1}function $i(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.U=+a[0],n+a[0].length):-1}function Gi(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.V=+a[0],n+a[0].length):-1}function Ki(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.W=+a[0],n+a[0].length):-1}function Zi(e,t,n){var a=Ri.exec(t.slice(n,n+4));return a?(e.y=+a[0],n+a[0].length):-1}function Xi(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),n+a[0].length):-1}function Qi(e,t,n){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),n+a[0].length):-1}function eo(e,t,n){var a=Ri.exec(t.slice(n,n+1));return a?(e.q=3*a[0]-3,n+a[0].length):-1}function to(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.m=a[0]-1,n+a[0].length):-1}function no(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.d=+a[0],n+a[0].length):-1}function ao(e,t,n){var a=Ri.exec(t.slice(n,n+3));return a?(e.m=0,e.d=+a[0],n+a[0].length):-1}function ro(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.H=+a[0],n+a[0].length):-1}function io(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.M=+a[0],n+a[0].length):-1}function oo(e,t,n){var a=Ri.exec(t.slice(n,n+2));return a?(e.S=+a[0],n+a[0].length):-1}function so(e,t,n){var a=Ri.exec(t.slice(n,n+3));return a?(e.L=+a[0],n+a[0].length):-1}function lo(e,t,n){var a=Ri.exec(t.slice(n,n+6));return a?(e.L=Math.floor(a[0]/1e3),n+a[0].length):-1}function uo(e,t,n){var a=Wi.exec(t.slice(n,n+1));return a?n+a[0].length:-1}function co(e,t,n){var a=Ri.exec(t.slice(n));return a?(e.Q=+a[0],n+a[0].length):-1}function mo(e,t,n){var a=Ri.exec(t.slice(n));return a?(e.s=+a[0],n+a[0].length):-1}function po(e,t){return Ui(e.getDate(),t,2)}function _o(e,t){return Ui(e.getHours(),t,2)}function ho(e,t){return Ui(e.getHours()%12||12,t,2)}function fo(e,t){return Ui(1+di.count(vi(e),e),t,3)}function yo(e,t){return Ui(e.getMilliseconds(),t,3)}function go(e,t){return yo(e,t)+"000"}function vo(e,t){return Ui(e.getMonth()+1,t,2)}function bo(e,t){return Ui(e.getMinutes(),t,2)}function Mo(e,t){return Ui(e.getSeconds(),t,2)}function wo(e){var t=e.getDay();return 0===t?7:t}function Lo(e,t){return Ui(ci.count(vi(e)-1,e),t,2)}function ko(e){var t=e.getDay();return t>=4||0===t?hi(e):hi.ceil(e)}function Yo(e,t){return e=ko(e),Ui(hi.count(vi(e),e)+(4===vi(e).getDay()),t,2)}function Do(e){return e.getDay()}function xo(e,t){return Ui(mi.count(vi(e)-1,e),t,2)}function To(e,t){return Ui(e.getFullYear()%100,t,2)}function So(e,t){return Ui((e=ko(e)).getFullYear()%100,t,2)}function Ho(e,t){return Ui(e.getFullYear()%1e4,t,4)}function Eo(e,t){var n=e.getDay();return Ui((e=n>=4||0===n?hi(e):hi.ceil(e)).getFullYear()%1e4,t,4)}function jo(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ui(t/60|0,"0",2)+Ui(t%60,"0",2)}function Ao(e,t){return Ui(e.getUTCDate(),t,2)}function Co(e,t){return Ui(e.getUTCHours(),t,2)}function Oo(e,t){return Ui(e.getUTCHours()%12||12,t,2)}function Fo(e,t){return Ui(1+Mi.count(Ei(e),e),t,3)}function Po(e,t){return Ui(e.getUTCMilliseconds(),t,3)}function No(e,t){return Po(e,t)+"000"}function Ro(e,t){return Ui(e.getUTCMonth()+1,t,2)}function Wo(e,t){return Ui(e.getUTCMinutes(),t,2)}function zo(e,t){return Ui(e.getUTCSeconds(),t,2)}function Uo(e){var t=e.getUTCDay();return 0===t?7:t}function Io(e,t){return Ui(Li.count(Ei(e)-1,e),t,2)}function qo(e){var t=e.getUTCDay();return t>=4||0===t?xi(e):xi.ceil(e)}function Bo(e,t){return e=qo(e),Ui(xi.count(Ei(e),e)+(4===Ei(e).getUTCDay()),t,2)}function Jo(e){return e.getUTCDay()}function Vo(e,t){return Ui(ki.count(Ei(e)-1,e),t,2)}function $o(e,t){return Ui(e.getUTCFullYear()%100,t,2)}function Go(e,t){return Ui((e=qo(e)).getUTCFullYear()%100,t,2)}function Ko(e,t){return Ui(e.getUTCFullYear()%1e4,t,4)}function Zo(e,t){var n=e.getUTCDay();return Ui((e=n>=4||0===n?xi(e):xi.ceil(e)).getUTCFullYear()%1e4,t,4)}function Xo(){return"+0000"}function Qo(){return"%"}function es(e){return+e}function ts(e){return Math.floor(+e/1e3)}function ns(e){throw new TypeError("Expected a value of type string but got a value of type "+typeof e)}function as(e){return function(t){return"string"!=typeof t&&ns(t),(t=t.trim())?e(t):null}}Oi=function(e){var t=e.dateTime,n=e.date,a=e.time,r=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,d=qi(r),u=Bi(r),c=qi(i),m=Bi(i),p=qi(o),_=Bi(o),h=qi(s),f=Bi(s),y=qi(l),g=Bi(l),v={a:function(e){return o[e.getDay()]},A:function(e){return i[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:po,e:po,f:go,g:So,G:Eo,H:_o,I:ho,j:fo,L:yo,m:vo,M:bo,p:function(e){return r[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:es,s:ts,S:Mo,u:wo,U:Lo,V:Yo,w:Do,W:xo,x:null,X:null,y:To,Y:Ho,Z:jo,"%":Qo},b={a:function(e){return o[e.getUTCDay()]},A:function(e){return i[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:Ao,e:Ao,f:No,g:Go,G:Zo,H:Co,I:Oo,j:Fo,L:Po,m:Ro,M:Wo,p:function(e){return r[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:es,s:ts,S:zo,u:Uo,U:Io,V:Bo,w:Jo,W:Vo,x:null,X:null,y:$o,Y:Ko,Z:Xo,"%":Qo},M={a:function(e,t,n){var a=p.exec(t.slice(n));return a?(e.w=_[a[0].toLowerCase()],n+a[0].length):-1},A:function(e,t,n){var a=c.exec(t.slice(n));return a?(e.w=m[a[0].toLowerCase()],n+a[0].length):-1},b:function(e,t,n){var a=y.exec(t.slice(n));return a?(e.m=g[a[0].toLowerCase()],n+a[0].length):-1},B:function(e,t,n){var a=h.exec(t.slice(n));return a?(e.m=f[a[0].toLowerCase()],n+a[0].length):-1},c:function(e,n,a){return k(e,t,n,a)},d:no,e:no,f:lo,g:Xi,G:Zi,H:ro,I:ro,j:ao,L:so,m:to,M:io,p:function(e,t,n){var a=d.exec(t.slice(n));return a?(e.p=u[a[0].toLowerCase()],n+a[0].length):-1},q:eo,Q:co,s:mo,S:oo,u:Vi,U:$i,V:Gi,w:Ji,W:Ki,x:function(e,t,a){return k(e,n,t,a)},X:function(e,t,n){return k(e,a,t,n)},y:Xi,Y:Zi,Z:Qi,"%":uo};function w(e,t){return function(n){var a,r,i,o=[],s=-1,l=0,d=e.length;for(n instanceof Date||(n=new Date(+n));++s<d;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(r=Ni[a=e.charAt(++s)])?a=e.charAt(++s):r="e"===a?" ":"0",(i=t[a])&&(a=i(n,r)),o.push(a),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function L(e,t){return function(n){var a,r,i=Ci(1900,void 0,1);if(k(i,e,n+="",0)!=n.length)return null;if("Q"in i)return new Date(i.Q);if("s"in i)return new Date(1e3*i.s+("L"in i?i.L:0));if(t&&!("Z"in i)&&(i.Z=0),"p"in i&&(i.H=i.H%12+12*i.p),void 0===i.m&&(i.m="q"in i?i.q:0),"V"in i){if(i.V<1||i.V>53)return null;"w"in i||(i.w=1),"Z"in i?(r=(a=Ai(Ci(i.y,0,1))).getUTCDay(),a=r>4||0===r?ki.ceil(a):ki(a),a=Mi.offset(a,7*(i.V-1)),i.y=a.getUTCFullYear(),i.m=a.getUTCMonth(),i.d=a.getUTCDate()+(i.w+6)%7):(r=(a=ji(Ci(i.y,0,1))).getDay(),a=r>4||0===r?mi.ceil(a):mi(a),a=di.offset(a,7*(i.V-1)),i.y=a.getFullYear(),i.m=a.getMonth(),i.d=a.getDate()+(i.w+6)%7)}else("W"in i||"U"in i)&&("w"in i||(i.w="u"in i?i.u%7:"W"in i?1:0),r="Z"in i?Ai(Ci(i.y,0,1)).getUTCDay():ji(Ci(i.y,0,1)).getDay(),i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(r+5)%7:i.w+7*i.U-(r+6)%7);return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Ai(i)):ji(i)}}function k(e,t,n,a){for(var r,i,o=0,s=t.length,l=n.length;o<s;){if(a>=l)return-1;if(37===(r=t.charCodeAt(o++))){if(r=t.charAt(o++),!(i=M[r in Ni?t.charAt(o++):r])||(a=i(e,n,a))<0)return-1}else if(r!=n.charCodeAt(a++))return-1}return a}return v.x=w(n,v),v.X=w(a,v),v.c=w(t,v),b.x=w(n,b),b.X=w(a,b),b.c=w(t,b),{format:function(e){var t=w(e+="",v);return t.toString=function(){return e},t},parse:function(e){var t=L(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},utcParse:function(e){var t=L(e+="",!0);return t.toString=function(){return e},t}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),Fi=Oi.format,Pi=Oi.parse,Oi.utcFormat,Oi.utcParse;var rs=new Date(1972,3,27,19,45,5),is={"%b %d":[{regex:/^june\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,5,e.split(/\s/)[1])}},{regex:/^july\s(3[01]|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,6,e.split(/\s/)[1])}},{regex:/^sept\s(30|[12][0-9]|0?[1-9])$/i,toDate:function(e){return new Date(null,8,e.split(/\s/)[1])}}],"%d %b":[{regex:/^(0?[1-9]|[1-9][0-9])\sjune$/i,toDate:function(e){return new Date(null,5,e.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\sjuly$/i,toDate:function(e){return new Date(null,6,e.split(/\s/)[0])}},{regex:/^(0?[1-9]|[1-9][0-9])\ssept$/i,toDate:function(e){return new Date(null,8,e.split(/\s/)[0])}}]};function os(e){return function(t){var n=null;return e.forEach((function(e){t.match(e.regex)&&(n=e.toDate(t))})),n}}function ss(e,t){var n,a=Pi(e),r=Fi(e);return n=as("function"==typeof t?function(e){return t(e,null!==a(e))}:function(e){return null!==a(e)}),Object.freeze({test:n,parse:as((function(t){return a(t)||(is[e]?os(is[e])(t):null)})),format:function(e){return r(e)},type:"datetime",description:e,id:"datetime$"+e,example:r(rs)})}var ls=Object.freeze([ss("%Y-%m-%dT%H:%M:%S.%LZ"),ss("%d/%m/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),ss("%d/%m/%y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),ss("%m/%d/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),ss("%m/%d/%y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),ss("%Y/%m/%d",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),ss("%d-%m-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&n[2]>=1e3})),ss("%d-%m-%y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12&&!isNaN(n[2])})),ss("%m-%d-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&n[2]>=1e3})),ss("%m-%d-%y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>0&&n[1]<=31&&!isNaN(n[2])})),ss("%Y-%m-%d",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>=1e3&&n[1]>0&&n[1]<=12&&n[2]>0&&n[2]<=31})),ss("%d %b %Y",(function(e,t){if(!t)return!1;var n=e.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),ss("%d %B %Y",(function(e,t){if(!t)return!1;var n=e.split(" ").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),ss("%d %b %y"),ss("%d %B %y"),ss("%d-%b-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),ss("%d-%B-%Y",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[2]>=1e3})),ss("%d-%b-%y"),ss("%d-%B-%y"),ss("%m/%Y",(function(e,t){if(!t)return!1;var n=e.split("/").map(parseFloat);return n[0]>0&&n[0]<=12&&n[1]>=1e3})),ss("%m/%y"),ss("%b %Y",(function(e,t){return!!t&&e.split(" ").map(parseFloat)[1]>=1e3})),ss("%B %Y",(function(e,t){return!!t&&e.split(" ").map(parseFloat)[1]>=1e3})),ss("%b %y"),ss("%B %y"),ss("%d %b",(function(e,t){return!!t||!!os(is["%d %b"])(e)})),ss("%d %B"),ss("%b %d",(function(e,t){return!!t||!!os(is["%b %d"])(e)})),ss("%B %d"),ss("%d-%m",(function(e,t){if(!t)return!1;var n=e.split("-").map(parseFloat);return n[0]>0&&n[0]<=31&&n[1]>0&&n[1]<=12})),ss("%m-%d"),ss("%d/%m"),ss("%m/%d"),ss("%Y",(function(e,t){if(!t)return!1;var n=parseFloat(e);return n>1499&&n<2200})),ss("%B"),ss("%b"),ss("%X"),ss("%I:%M %p"),ss("%H:%M"),ss("%H:%M:%S"),ss("%-I%p"),ss("Q%q %Y",(function(e,t){return!!t&&6===e.replace(/\s/g,"").length})),ss("%Y Q%q",(function(e,t){return!!t&&6===e.replace(/\s/g,"").length}))]);function ds(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,a=e.slice(0,n);return[a.length>1?a[0]+a.slice(2):a,+e.slice(n+1)]}var us,cs=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ms(e){if(!(t=cs.exec(e)))throw new Error("invalid format: "+e);var t;return new ps({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ps(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function _s(e,t){var n=ds(e,t);if(!n)return e+"";var a=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+a:a.length>r+1?a.slice(0,r+1)+"."+a.slice(r+1):a+new Array(r-a.length+2).join("0")}ms.prototype=ps.prototype,ps.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var hs={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return _s(100*e,t)},r:_s,s:function(e,t){var n=ds(e,t);if(!n)return e+"";var a=n[0],r=n[1],i=r-(us=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ds(e,Math.max(0,t+i-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function fs(e){return e}var ys=Array.prototype.map,gs=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vs(e){var t,n,a=void 0===e.grouping||void 0===e.thousands?fs:(t=ys.call(e.grouping,Number),n=e.thousands+"",function(e,a){for(var r=e.length,i=[],o=0,s=t[0],l=0;r>0&&s>0&&(l+s+1>a&&(s=Math.max(1,a-l)),i.push(e.substring(r-=s,r+s)),!((l+=s+1)>a));)s=t[o=(o+1)%t.length];return i.reverse().join(n)}),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?fs:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(ys.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"-":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function c(e){var t=(e=ms(e)).fill,n=e.align,c=e.sign,m=e.symbol,p=e.zero,_=e.width,h=e.comma,f=e.precision,y=e.trim,g=e.type;"n"===g?(h=!0,g="g"):hs[g]||(void 0===f&&(f=12),y=!0,g="g"),(p||"0"===t&&"="===n)&&(p=!0,t="0",n="=");var v="$"===m?r:"#"===m&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",b="$"===m?i:/[%p]/.test(g)?l:"",M=hs[g],w=/[defgprs%]/.test(g);function L(e){var r,i,l,m=v,L=b;if("c"===g)L=M(e)+L,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:M(Math.abs(e),f),y&&(e=function(e){e:for(var t,n=e.length,a=1,r=-1;a<n;++a)switch(e[a]){case".":r=t=a;break;case"0":0===r&&(r=a),t=a;break;default:if(!+e[a])break e;r>0&&(r=0)}return r>0?e.slice(0,r)+e.slice(t+1):e}(e)),k&&0==+e&&"+"!==c&&(k=!1),m=(k?"("===c?c:d:"-"===c||"("===c?"":c)+m,L=("s"===g?gs[8+us/3]:"")+L+(k&&"("===c?")":""),w)for(r=-1,i=e.length;++r<i;)if(48>(l=e.charCodeAt(r))||l>57){L=(46===l?o+e.slice(r+1):e.slice(r))+L,e=e.slice(0,r);break}}h&&!p&&(e=a(e,1/0));var Y=m.length+e.length+L.length,D=Y<_?new Array(_-Y+1).join(t):"";switch(h&&p&&(e=a(D+e,D.length?_-L.length:1/0),D=""),n){case"<":e=m+e+L+D;break;case"=":e=m+D+e+L;break;case"^":e=D.slice(0,Y=D.length>>1)+m+e+L+D.slice(Y);break;default:e=D+m+e+L}return s(e)}return f=void 0===f?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,f)):Math.max(0,Math.min(20,f)),L.toString=function(){return e+""},L}return{format:c,formatPrefix:function(e,t){var n,a=c(((e=ms(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor((n=t,((n=ds(Math.abs(n)))?n[1]:NaN)/3)))),i=Math.pow(10,-r),o=gs[8+r/3];return function(e){return a(i*e)+o}}}}var bs={test:as((function(e){return/^(\+|-)?\d{1,3}(,\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e.replace(/,/g,""))})),description:"Comma thousand separator, point decimal mark",thousand_separator:",",decimal_mark:".",id:"number$comma_point",example:"12,235.56"},Ms={test:as((function(e){return/^(\+|-)?\d{1,3}(\s\d{3})*(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e.replace(/\s/g,""))})),description:"Space thousand separator, point decimal mark",thousand_separator:" ",decimal_mark:".",id:"number$space_point",example:"12 235.56"},ws={test:as((function(e){return/^(\+|-)?\d+(\.\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e)})),description:"No thousand separator, point decimal mark",thousand_separator:"",decimal_mark:".",id:"number$none_point",example:"12235.56"},Ls={test:as((function(e){return/^(\+|-)?\d{1,3}(\.\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e.replace(/\./g,"").replace(/,/,"."))})),description:"Point thousand separator, comma decimal mark",thousand_separator:".",decimal_mark:",",id:"number$point_comma",example:"12.235,56"},ks={test:as((function(e){return/^(\+|-)?\d{1,3}(\s\d{3})*(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e.replace(/\s/g,"").replace(/,/,"."))})),description:"Space thousand separator, comma decimal mark",thousand_separator:" ",decimal_mark:",",id:"number$space_comma",example:"12 235,56"},Ys={test:as((function(e){return/^(\+|-)?\d+(,\d+)?((e|E)(\+|-)?\d+)?$/.test(e.trim())})),parse:as((function(e){return parseFloat(e.replace(/,/,"."))})),description:"No thousand separator, comma decimal mark",thousand_separator:"",decimal_mark:",",id:"number$none_comma",example:"12235,56"},Ds=Object.freeze([bs,Ms,Ls,ks,ws,Ys]);Ds.forEach((function(e){e.type="number",e.format=function(e){var t,n,a=vs({decimal:e.decimal_mark,thousands:e.thousand_separator,grouping:[3],currency:["",""]});return function(e,r){return r||(r=",.2f"),r!==n&&(n=r,t=a.format(n)),t(e)}}(e),Object.freeze(e)}));var xs,Ts=Object.freeze({test:function(e){return"string"==typeof e||ns(e)},parse:function(e){return"string"==typeof e?e:ns(e)},format:function(e){if("string"==typeof e)return e},type:"string",description:"Arbitrary string",id:"string$arbitrary_string"}),Ss=Object.freeze({datetime:ls,number:Ds}),Hs=Object.freeze(["datetime","number","string"]),Es=Object.freeze({n_max:250,n_failing_values:0,failure_fraction:.05,sort:!0}),js=Object.freeze(Object.keys(Es));function As(e,t){return e.index-t.index}function Cs(e,t){return t.n_success-e.n_success||As(e,t)}function Os(e){return(""+e).trim()}function Fs(e){return void 0===e?function(e){return Os(e)}:"function"==typeof e?function(t,n){return Os(e(t,n))}:function(t){return Os(t[""+e])}}function Ps(e){e?Array.isArray(e)||(e=[e]):e=Hs;var t=e.reduce((function(e,t){var n=Ss[t];return n&&Array.prototype.push.apply(e,n),e}),[]),n=-1!==e.indexOf("string"),a=js.reduce((function(e,t){return e[t]=Es[t],e}),{}),r=function(e,r){r=Fs(r);var i=e.map(r).filter((function(e){return e}));if(!i.length)return n?[Ts]:[];var o=Math.min(a.n_max,i.length),s=Math.floor(o*a.failure_fraction),l=a.n_failing_values,d=a.sort?Cs:As,u=t.slice().reduce((function(e,t,n){for(var a=u=0,r=[],d=!1,u=0;u<o;u++){var c=i[u];if(!t.test(c)&&(++a>s?d=!0:-1===r.indexOf(c)&&(r.push(c),r.length>l&&(d=!0)),d))break}return d||e.push({interp:t,n_success:o-a,index:n}),e}),[]).sort(d).map((function(e){return e.interp}));return n&&u.push(Ts),u};return js.forEach((function(e){var t;r[(t=e,t.replace(/_(\w)/g,(function(e,t){return t.toUpperCase()})))]=function(t){return void 0===t?a[e]:(a[e]=t,r)}})),r}function Ns(e,t,n,a){var r=[],i=[],o=0,s=[],l={};function d(e,t){if(!l[e])return{};var n=l[e];return n[t]?n[t]:{}}for(var u in s.column_names={},s.metadata={},n){var c={},m=n[u];if(m){for(let e=0;e<m.length;e++){const t=m[e].type_id,n=m[e].output_format_id,a=n&&"auto"!==n?n:t;c[m[e].index]={type_id:t,output_format_id:a}}l[u]=c}}for(var p in e)if(null!==e[p]&&(void 0!==e[p].columns||void 0!==e[p].column)){var _=e[p];if(_.template_data_binding=a[p],_.key=p,_.data_table_id in t){var h=t[_.data_table_id];if(0!=h.length){if("columns"in _&&null!=_.columns){var f=h[0].length;_.columns=_.columns.filter((function(e){return e<f})),s.column_names[p]=_.columns.map((function(e){return h[0][e]})),s.metadata[p]=_.columns.map((function(e){const{type_id:t,output_format_id:n}=d(_.data_table_id,e);return t?{type:t.split("$")[0],type_id:t,output_format_id:n}:null}))}else{if(!("column"in _)||null==_.column)throw new Error("Data binding includes no column(s) specification: "+JSON.stringify(_));{s.column_names[p]=h[0][_.column];const{type_id:e,output_format_id:t}=d(_.data_table_id,_.column);e&&(s.metadata[p]={type:e.split("$")[0],type_id:e,output_format_id:t})}}-1==i.indexOf(_.data_table_id)&&(i.push(_.data_table_id),o=Math.max(o,h.length-1)),r.push(_)}else console.warn("Empty data table")}else{var y=[];for(var g in t)y.push(g);console.error("Data table id "+_.data_table_id+" not in "+JSON.stringify(y))}}function v(e,t,n){if(!e.template_data_binding.data_type)return n;var a=function(e,t){const{type_id:n}=d(e,t);if(n)return Ps.getInterpretation(n)}(e.data_table_id,t);a&&"number"==a.type&&(n=Bs(n));var r=a?a.parse(n):n;return Number.isNaN(r)&&(r=null),r}for(var b=0;b<o;b++){for(var M={},w=0;w<r.length;w++){var L=t[(_=r[w]).data_table_id];b+1>=L.length||("columns"in _&&null!=_.columns?M[_.key]=_.columns.filter((function(e){return e<L[b+1].length})).map((function(e){return v(_,e,L[b+1][e])})):"column"in _&&null!=_.column&&(_.column>=L[b+1].length?M[_.key]=v(_,_.column,""):M[_.key]=v(_,_.column,L[b+1][_.column])))}s.push(M)}return s}function Rs(e,t){if(e.length<=2*t)return e;const n=function(e){let t=e;return function(){t|=0,t=t+1831565813|0;var e=Math.imul(t^t>>>15,1|t);return(((e=e+Math.imul(e^e>>>7,61|e)^e)^e>>>14)>>>0)/4294967296}}(e.length);for(;e.length>t;){const t=Math.floor(n()*e.length);e.splice(t,1)}return e}function Ws(e){for(var t=e.length;t-- >1&&(!e[t]||!e[t].length||Array.isArray(e[t])&&-1==e[t].findIndex((function(e){return null!==e&&""!==e})));)e.splice(t,1);return e}function zs(e){return e.forEach((function(e){for(var t=0;t<e.length;t++)e[t]&&"string"==typeof e[t]&&(e[t]=e[t].trim())})),e}Ps.DATETIME_IDS=Object.freeze(ls.map((function(e){return e.id}))),Ps.NUMBER_IDS=Object.freeze(Ds.map((function(e){return e.id}))),Ps.STRING_IDS=Object.freeze([Ts.id]),Ps.getInterpretation=(xs=ls.concat(Ds,Ts).reduce((function(e,t){return e[t.id]=t,e}),{}),function(e){return xs[e]}),Ps._createAccessorFunction=Fs,Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError("this is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var a=arguments[1],r=0;r<n;){var i=t[r];if(e.call(a,i,r,t))return r;r++}return-1},configurable:!0,writable:!0});var Us,Is=["#DIV/0","#N/A","#NAME?","#NULL!","#NUM!","#REF!","#VALUE!","#ERROR!"],qs=Ps().nMax(1/0).nFailingValues(8).failureFraction(.1);function Bs(e){return(e=e||"").replace(/[€£$￥%º]/g,"")}function Js(e){for(var t=e.length,n=t>0?e[0].length:0,a=[],r=0;r<n;r++){for(var i=[],o=0;o<t;o++)i.push(e[o][r]);a.push(i)}return a}function Vs(e,t,n){_n(this,"object"==typeof t?(n=t).id:t,void 0,n,{getVersionNumber:function(){return e.version_number},setVersionNumber:function(t){e.version_number=t}}),this.visualisation=e,this.api_prefix="/api/data_table"}function $s(e){return e.map((function(e){return null!=e&&"object"==typeof e&&"map"in e?$s(e):e}))}function Gs(e){this.id=e}function Ks(e){return!Array.isArray(e)&&"object"==typeof e&&null!=e}function Zs(e,t,n){for(var a in t||(t=[]),n||(n={}),e)t.push(a),"object"==typeof e[a]&&Zs(e[a],t,n),n[t.join(".")]=e[a],t.pop();return n}function Xs(e){var t={};for(var n in e){for(var a=t,r=n.indexOf("."),i=0;r>=0;r=n.indexOf(".",i=r+1)){var o=n.substring(i,r);o in a||(a[o]={}),a=a[o]}a[n.substring(i)]=e[n]}return t}function Qs(e,t){for(var n in t)Ks(e[n])&&Ks(t[n])?Qs(e[n],t[n]):e[n]=t[n];return e}function el(e){if(null==e)return e;var t={};for(var n in e)Array.isArray(e[n])?t[n]=e[n].slice():Ks(e[n])?t[n]=el(e[n]):t[n]=e[n];return t}function tl(e,t){if(typeof e!=typeof t)return!1;switch(typeof e){case"string":case"boolean":return e===t;case"number":return!(!isNaN(e)||!isNaN(t))||e===t;case"object":if(null===e)return null===t;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!tl(e[n],t[n]))return!1;return!0}if(null===t)return!1;var a;for(a in e)if(!tl(e[a],t[a]))return!1;for(a in t)if(!(a in e)&&void 0!==t[a])return!1;return!0;case"undefined":return void 0===t}}function nl(e,t){var n={};for(var a in t)e.hasOwnProperty(a)&&tl(e[a],t[a])||(Ks(e[a])&&Ks(t[a])?n[a]=nl(e[a],t[a]):n[a]=t[a]);return n}function al(e,t,n){if(_n(this,e,t,n),this.api_prefix="/api/visualisation",this.data_tables){var a=this;this.data_tables=this.data_tables.map((function(e){return new Vs(a,e)}))}}function rl(e,t,n){vn({url:e.api_prefix+"/"+e.id+"/data_bindings",method:"POST",payload:function(){return{version_number:e.version_number,data_bindings:t}},callback:function(a,r){if(a)return n(a);e.version_number=r.version_number,e.data_bindings||(e.data_bindings={}),e.template_id in e.data_bindings||(e.data_bindings[e.template_id]={});var i=e.data_bindings[e.template_id];for(var o in t)for(var s in t[o]){var l=t[o][s];i[o]||(i[o]={}),null===l?delete i[o][s]:i[o][s]=l}n(void 0)}})}function il(e,t,n){vn({url:e.api_prefix+"/"+e.id+"/settings",payload:function(){return{version_number:e.version_number,settings:t}},callback:function(a,r){if(a)return n(a);e.version_number=r.version_number,e.settings||(e.settings={}),e.template_id in e.settings||(e.settings[e.template_id]={});var i=e.settings[e.template_id];for(var o in t){var s=t[o];i[o]=s}n(void 0)}})}function ol(e,t,n,a){vn({url:e.api_prefix+"/"+e.id+"/publish",payload:function(){return{password:n,anyone_can_duplicate:a}},callback:function(n,a){if(n)return t(n);e.version_number=a.version_number,e.embed_url=a.embed_url,e.showcase_url=a.showcase_url,e.is_password_protected=a.is_password_protected,e.anyone_can_duplicate=a.anyone_can_duplicate,t(void 0,a)}})}Vs.prototype.getColumnTypes=function(e){vn({url:this.api_prefix+"/"+this.id,method:"GET",callback:function(t,n){if(t)return e(t);e(void 0,$s(n.column_types||[]))}},"load-data")},Vs.prototype.csv=function(e){this.cached_data?e(void 0,$s(this.cached_data)):this.csvPromise().then((t=>e(null,t)),(t=>e(t)))},Vs.prototype.csvPromise=async function(){if(this.cached_data)return $s(this.cached_data);const e=this;return new Promise(((t,n)=>{vn({url:this.api_prefix+"/"+this.id+"/csv",response_type:"text/csv; charset=utf-8",method:"GET",callback(a,r){if(a)return n(a);e.cached_data=ei(r),t($s(e.cached_data))}},"load-data")}))},Vs.prototype.saveData=function(e,t){var n=this,a=Ws($s(e));vn({url:this.api_prefix+"/"+this.id+"/csv",payload:function(){return{version_number:n.getVersionNumber(),data:ni(a)}},callback:function(e,r){if(e)return t(e);n.setVersionNumber(r.version_number),n.cached_data=a,t(void 0)}})},Vs.prototype.updateFromUrl=function(e,t){var n=this;vn({url:this.api_prefix+"/"+this.id+"/csv-url",payload:function(){return{live_csv_url:e,version_number:n.getVersionNumber()}},callback:function(a,r){if(a)return t(a);n.setVersionNumber(r.version_number),n.live_csv_url=e,e?n.updateFromLiveCsvUrl((function(e,a){if(e)return n.last_remote_data_error_message=e,t(e);var r=zs(Ws(ei(a.csv)));n.cached_data=r,n.setVersionNumber(a.version_number),n.t_updated=a.t_updated,n.last_remote_data_error_message=null,t(void 0,r,a.new_column_types)})):(n.t_updated=r.t_updated,n.last_remote_data_error_message=null,t(void 0,null,null))}})},Vs.prototype.updateFromLiveCsvUrl=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/update-from-live-csv-url",payload:function(){return{version_number:t.getVersionNumber()}},callback:function(n,a){if(n)return e(n);t.setVersionNumber(a.version_number),e(void 0,a)}})},Vs.prototype.save=function(e,t){return Mn(this,e,t)},Vs.prototype.delete=function(e){return wn(this,e)},Gs.prototype.getSettings=function(e){if(this.settings)e(void 0,this.settings);else{var t=this;vn({url:"/api/template/"+this.id+"/settings",method:"GET",callback:function(n,a){if(n)return e(n);t.settings=a.settings,e(void 0,t.settings)}})}},Gs.prototype.getDataBindings=function(e){vn({url:"/api/template/"+this.id+"/data_bindings",method:"GET",callback:e})},al.prototype.save=function(e,t){this.is_listed||(e.is_listed=!0),Mn(this,e,t)},al.prototype.setTemplateId=function(e,t){Mn(this,{template_id:e},t)},al.prototype.getTemplate=function(){return this.template_id?(this._template&&this.template_id==this._template.id||(this._template=new Gs(this.template_id)),this._template):null},al.prototype.settingsForCurrentTemplate=function(){return this.settings&&this.template_id in this.settings?this.settings[this.template_id]:{}},al.prototype.getState=function(e){this.template_id||e({});var t=this.settingsForCurrentTemplate();this.getTemplate().getSettings((function(n,a){if(n)throw n;for(var r={},i=0;i<a.length;i++){var o=a[i];o.property in t&&(r[o.property]=t[o.property])}e(Xs(r))}))},al.prototype.dataBindingsForCurrentTemplate=function(){return this.data_bindings&&this.template_id in this.data_bindings?this.data_bindings[this.template_id]:{}},al.prototype.refreshDataBindings=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/data_bindings",method:"GET",callback:function(n,a){if(n)return e(n);t.data_bindings=a,e()}})},al.prototype.resetToTheme=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/reset_to_theme",method:"POST",payload:function(){return{version_number:t.version_number}},callback:function(n,a){if(n)return e(n);t.version_number=a.version_number,e(void 0)}})},al.prototype.updateDataBindings=function(e,t){var n=this;if(this.is_listed)return rl(n,e,t);this.save({is_listed:!0},(function(a){return a?t(a):rl(n,e,t)}))},al.prototype.updateSettings=function(e,t){var n=this;if(this.is_listed)return il(n,e,t);this.save({is_listed:!0},(function(a){return a?t(a):il(n,e,t)}))},al.prototype.refreshSettings=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/settings",method:"GET",callback:function(n,a){if(n)return e(n);t.settings=a,e()}})},al.prototype.getThemeFontsAndColors=function(e){vn({url:this.api_prefix+"/"+this.id+"/theme-fonts-and-colors",method:"GET",callback:function(t,n){if(t)return e(t);e(void 0,n.fonts,n.colors)}})},al.prototype.getDataTables=function(e){vn({url:this.api_prefix+"/"+this.id+"/data",method:"GET",callback:function(t,n){return t?e(t):e(void 0,n.data)}})},al.prototype.dataTables=function(e){var t=this;t.data_tables?e(void 0,t.data_tables):(t.after_loading_data_tables||(t.after_loading_data_tables=[]),t.after_loading_data_tables.push(e),t.after_loading_data_tables.length>1||t.getDataTables((function(e,n){if(e){for(var a=0;a<t.after_loading_data_tables.length;a++)t.after_loading_data_tables[a](e);t.after_loading_data_tables=[]}else{t.data_tables=n.map((function(e){return new Vs(t,e)}));for(a=0;a<t.after_loading_data_tables.length;a++)t.after_loading_data_tables[a](void 0,t.data_tables);t.after_loading_data_tables=[]}})))},al.prototype.refreshDataTables=function(){this.data_tables=void 0,this.dataTablesHaveChanged()},al.prototype.prepareData=function(e){var t=this;if(!t.data_bindings)throw new Error("No data bindings loaded");var n=t.template_id;t.dataTables((function(a,r){if(a)return e(a);if(t.template_id==n){for(var i={},o={},s=0,l=0;l<r.length;l++)!function(a){o[a.id]=a.column_types,a.csv((function(l,d){if(l)throw l;t.template_id==n&&(i[a.id]=d,++s==r.length&&t.getTemplate().getDataBindings((function(n,a){if(n)throw n;var r={};a.forEach((function(e){"string"!=typeof e&&(e.dataset in r||(r[e.dataset]={}),r[e.dataset][e.key]=e)}));var s={},l=t.dataBindingsForCurrentTemplate();for(var d in l)s[d]=Ns(l[d],i,o,r[d]);for(d in r)s[d]||(s[d]=[],s[d].column_names={},s[d].metadata={});e(void 0,s)})))}))}(r[l]);0==r.length&&e(void 0,{})}}))},al.prototype.delete=function(e){wn(this,e)},al.prototype.getDataTableNames=function(){return void 0===this.data_table_names&&(this.data_table_names=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.id]=a.name}return t}(this.data_tables)),this.data_table_names},al.prototype.getDataTableIds=function(){return void 0===this.data_table_ids&&(this.data_table_ids=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.name]=a.id}return t}(this.data_tables)),this.data_table_ids},al.prototype.dataTablesHaveChanged=function(){this.data_table_names=this.data_table_ids=void 0},al.prototype.duplicate=function(e){vn({url:this.api_prefix+"/"+this.id+"/duplicate",callback:e})},al.prototype.publish=function(e,t,n){var a=this;if(this.is_listed)return ol(a,e,t,n);this.save({is_listed:!0},(function(r){return r?e(r):ol(a,e,t,n)}))},al.prototype.unpublish=function(e){var t=this;vn({url:this.api_prefix+"/"+this.id+"/unpublish",callback:function(n,a){if(n)return e(n);t.version_number=a.version_number,t.embed_url=a.embed_url,t.showcase_url=a.showcase_url,e(void 0,a)}})},al.prototype.published=function(){return!!this.showcase_url},al.prototype.sendForReview=function(e,t,n){var a=this;vn({url:"/api/reviews",payload:function(){return{project_id:a.id,project_type:"visualisation",reviewers:e,message:t}},callback:function(e,t){a.status=t,n(e,t)}})},al.prototype.approve=function(e,t){var n=this;vn({url:"/api/review/"+e+"/approve",callback:function(e,a){return n.status=a,t(e,a)}})},al.prototype.decline=function(e,t,n){var a=this;vn({url:"/api/review/"+e+"/decline",payload:function(){return{message:t}},callback:function(e,t){a.status=t,n(e,t)}})},al.prototype.cancelReview=function(e,t){var n=this;vn({url:"/api/review/"+e+"/cancel",callback:function(e,a){n.status=a,t(e,a)}})},al.list=function(e){vn({url:"/api/visualisations",method:"GET",callback:e})},al.getById=function(e,t){vn({url:"/api/visualisation/"+e,method:"GET",callback:function(n,a){if(n)return t(n);t(void 0,new al(e,a.version_number,a))}})},al.getPublishedJson=function(e,t,n){vn({url:`${t}visualisation/${e}/visualisation.json`,method:"GET",callback(e,t){if(e)return n(e);n(void 0,t)}})},al.createFromTemplate=function(e,t){vn({url:"/api/template/"+e+"/visualisations",method:"PUT",callback:t})},al.createFromVisualisation=function(e,t){vn({url:"/api/visualisation/"+e+"/duplicate",callback:t})},al.setAsStaffPick=function(e,t){vn({url:"/api/visualisation/"+e+"/set_staff_pick",method:"POST",callback:t})},al.unsetAsStaffPick=function(e,t){vn({url:"/api/visualisation/"+e+"/unset_staff_pick",method:"POST",callback:t})},al.setTag=function(e,t,n){vn({url:"/api/visualisation/"+e+"/folder/"+encodeURIComponent(t),method:"PUT",callback:n})},al.removeTag=function(e,t,n){vn({url:"/api/visualisation/"+e+"/tag/"+encodeURIComponent(t),method:"DELETE",callback:n})};var sl,ll,dl,ul,cl=-1;function ml(e){!e||window.innerWidth<620||((sl=e||[]).forEach((function(e,t){e.id||(e.id="step-"+t)})),window.Flourish=window.Flourish||{},window.Flourish.tour={start:pl,is_available:sl&&0!==sl.length},be("a[href='#tour']").on("click",(function(e){e.preventDefault(),be("#support-header").dispatch("click"),Flourish.tour.start()})))}function pl(){Us||(Us=Wt().container(document.body).point("-9999","-9999").html("")),Us.draw(),be("#flourish-popup-"+Us.unique_id).classed("tour-popup",!0),cl=-1,hl(),Ln.logHistory({category:"tour",action:"started"})}function _l(){Us.hide(),cl=-1,window.removeEventListener("resize",yl)}function hl(e){++cl<sl.length?function(e){ll=sl.filter((function(t,n){if(t.id==e)return cl=n,ul="Step "+(n+1),!0}))[0],"error"==ll.status&&(ul="Oops");dl&&(be(dl.selector).on(dl.type+".tour",null),be(dl.selector).dispatch(dl.type),dl=null);var t=ll.delay||0;ll.trigger&&be((dl={type:ll.trigger.split(" ")[0],selector:ll.trigger.substr(ll.trigger.indexOf(" ")+1)}).selector).on(dl.type+".tour",fl);setTimeout((function(){yl(),ll.events&&ll.events(ll)}),t)}(sl[cl].id):(e&&e.preventDefault(),_l())}function fl(e){be(dl.selector).on(dl.type+".tour",null),dl=null,hl(e)}function yl(){if(-1===cl)return;var e=ll.anchor?be(ll.anchor):be("body");if(e.empty())return void hl();var t=e.node().getBoundingClientRect(),n=ll.position||"bottom",a=ll.direction||("bottom"==n?"topFlexible":"bottom"),r="right"==n||"left"==n,i=r?t[n]:t.left+t.width/2,o=r?t.top+t.height/2:t[n];const s=Me("p").classed("counter",!0).text(ul),l=Me("p").html(kt.sanitize(ll.text));let d;(ll.button_text||cl<sl.length-1)&&(d=Me("button").classed("btn next",!0).text(ll.button_text||"Next"));const u=Me("a").classed("close-tour",!0).attr("href","?").text("Close tour"),c=s.node().outerHTML+l.node().outerHTML+(d?d.node().outerHTML:"")+u.node().outerHTML;if(ll.offset&&(o+=ll.offset),Us.point(i,o).html(c).directions([a,"topFlexible"]).draw(),o<0||o>.75*window.innerHeight){var m=o<0?window.scrollY+o-100:window.scrollY+(o-.75*window.innerHeight)-100;window.scrollTo(0,m)}be(".tour-popup .btn.next").on("click",(function(){hl()})),be(".tour-popup .close-tour").on("click",(function(e){e.preventDefault(),_l()}))}window.addEventListener("resize",yl);var gl,vl,bl,Ml,wl,Ll,kl,Yl,Dl,xl,Tl,Sl,Hl=[{text:"<p class='important' style='font-weight: bold'>Welcome to Flourish!</p><p>This is a visualization. You can add your own data and customize the styles and settings.</p>",anchor:".project-list .project.visualisation"},{text:"<p>This is how you make a new visualization. You can select from a range of templates to visualize your data in different ways.</p>",anchor:".create-visualisation"},{text:"This is a story: an animated presentation containing one or more visualizations. <video autoplay width='290' loop muted style='margin-top:1em' src=\"/videos/globe.mp4\"></video>",anchor:".project-list .project.story"},{text:"That’s it! If you need more help using Flourish, just hit the help button.",anchor:"#beacon-container iframe",button_text:"Done",position:"top",direction:"bottomFlexible"}],El=[{text:"<p class='important' style='font-weight: bold'>Welcome to Flourish!</p><p>This is how you make a visualization. You can add your own data and customize the styles and settings.</p>",anchor:".create-visualisation"},{text:"Once you’ve created your first visualization, you can also create stories: animated presentations containing one or more visualisations. <video autoplay width='290' loop muted style='margin-top:1em' src=\"/videos/globe.mp4\"></video>",anchor:".create-visualisation"},{text:"That’s it! If you need more help using Flourish, just hit the help button.",anchor:"#beacon-container iframe",button_text:"Done",position:"top",direction:"bottomFlexible"}],jl=-1,Al=we(".project").size(),Cl={duration:0,aspect_ratio:.9,max_width:220};function Ol(e,t,n){e.select(".fa-trash").on("click",(function(a){a.preventDefault(),a.stopPropagation(),e.on("keydown",(function(e){e.preventDefault()})),e.classed("published")?function(e,t,n){Gt("This "+t+" is published","Unpublish it first if you are sure you want to delete it.",{buttons:[{text:"Cancel",keyCode:27},{text:"Unpublish",class:"danger",callback:function(){n.unpublish((function(a){if(a)return Gt("Failed to unpublish "+t,a),void gl("send","exception",{exDescription:a.message||a,exFatal:!1});e.classed("published",!1),gl("send","event",t,"unpublish",n.id),Fl(e,t,n)}))}}]})}(e,t,n):Fl(e,t,n)}))}function Fl(e,t,n){Gt("Are you sure you want to delete the "+t+" “"+n.name+"”?","This cannot be undone",{buttons:[{text:"Cancel",keyCode:27,callback:function(){e.on("keydown",null)}},{text:"Delete",keyCode:13,class:"danger",callback:function(){n.delete((function(a){if(a)return console.error("Failed to delete "+t+" "+n.id+": "+a),Gt("Failed to delete "+t,a),void gl("send","exception",{exDescription:a.message||a,exFatal:!0});gl("send","event",t,"delete",n.id),e.remove(),Ct.hide(),Nl()}))}}]})}function Pl(e,t,n){var a,r=n.attr("data-id"),i=n.attr("data-version-number"),o=n.select(".project-name").text()||"Untitled";switch(t){case"visualisation":a=new al(r,+i,{name:o});break;case"story":a=new Jr(r,+i,{name:o},[])}Ol(n,t,a),function(e,t,n){e.select(".fa-copy").on("click",(function(e){e.preventDefault(),e.stopPropagation(),"visualisation"!==t||bl?n.duplicate((function(e,a){if(e)return console.error("Failed to duplicate "+t+" "+n.id+": "+e),Gt("Failed to duplicate "+t,e),void gl("send","exception",{exDescription:e.message||e,exFatal:!0});gl("send","event",t,"duplicate",n.id),Ct.hide(),window.location.href="/"+t+"/"+a.id+"/edit"})):(e.preventDefault(),Yn(vl,"Upgrade to duplicate visualisations","You've reached the maximum number of visualisations allowed with your account.","upgrade-projects",!0))}))}(n,t,a)}function Nl(){if("list"==xl.view){var e=be("#projects .project-list").node().getBoundingClientRect().width;Cl.max_width=e,Cl.aspect_ratio=70/e,Cl.gutter=0,Cl.gutter_h=0,Cl.gutter_v=0}else Cl.gutter=15;Ll=parseInt(Ml.attr("data-total"),10),wl=kr("#projects .project-list",".project",null,Cl);var t=Math.floor(Ml.node().offsetWidth/wl.width),n=Math.ceil(Ll/t);kl=Math.round(n*(wl.height+Cl.gutter)),kl+=be("#tag-title").node().getBoundingClientRect().height+20,kl+="px",Ml.style("height",kl)}function Rl(){if(!(window.pageYOffset<=jl)){jl=window.pageYOffset;var e=window.innerHeight+jl,t=Math.floor(Ml.node().offsetWidth/wl.width)*Math.ceil(e/(wl.height+Cl.gutter));(t-=Al)<=0||(t=Math.max(t,20),Ln.fetchProjects((function(e,t){if(e)return console.error(e);!function(e){Yl||(Yl=be("#tile-template").html());Dl||(Dl=be("#tag-template").html());e.forEach((function(e){Ul(e,null)})),wl=kr("#projects .project-list",".project",null,Cl),Ml.style("height",kl)}(t.projects_and_tags)}),Tl,xl.sort.value,xl.filter.value,Al,t,xl.search,Sl),Al+=t)}}function Wl(e){e.preventDefault(),be(this).select(".current-template-thumbnail").style("background-image","url('/images/open_folder_icon.png')"),be(this).select(".project-contents").style("background-color","#dddddd")}function zl(){be(this).select(".current-template-thumbnail").style("background-image","url('/images/folder_icon.png')"),be(this).select(".project-contents").style("background-color","")}function Ul(e,t){var n=Ml.select("."+e.project_type+"[data-id='"+e.id+"']");if(Sl&&n.attr("draggable",null),n.empty()){(n=be("#project-list-inner").append("div")).classed("project "+e.project_type,!0).attr("data-id",e.id).attr("data-version-number",e.version_number).attr("draggable",e.is_folder||Sl?null:"true"),e.is_folder?(n.html(Dl),n.select("a").attr("href","/projects?folder="+encodeURIComponent(e.tag)).attr("draggable","false"),n.attr("data-tag",e.tag).on("dragover",Wl).on("dragleave",zl).on("drop",Bl)):(n.html(Yl),n.select("a").attr("href","/"+e.project_type+"/"+e.id+"/edit")),n.select(".project-name").text(e.name||"Untitled "+e.project_type+" ("+e.id+")");var a=e.timestamp_str;return e.owner_name&&(a+=" • "+e.owner_name),e.is_published&&(a+=" • published"),n.select(".project-timestamp").text(a),n.select(".current-template-thumbnail").style("background-image","url('"+e.thumbnail+"')"),n.select(".project-type-label").text(e.project_type),e.showcase_url?n.select(".showcase").attr("href",e.showcase_url):n.select(".showcase").classed("disabled",!0),t&&be("#project-list-inner").node().insertBefore(n.node(),t.node()),qt(n.selectAll(".popup")),Pl(0,e.project_type,n),n}}function Il(e){e.preventDefault(),e.stopPropagation(),be(this).classed("dragover",!0).select("i.fa").classed("fa-folder",!1).classed("fa-folder-open",!0)}function ql(){be(this).classed("dragover",!1).select("i.fa").classed("fa-folder",!0).classed("fa-folder-open",!1)}function Bl(e){var t=be(this),n=JSON.parse(e.dataTransfer.getData("text")),a=be(this).attr("data-tag");if(a!==Tl){var r=be(".project-dragging");r.classed("visualisation")||r.classed("story")?a?Flourish[n.type].setTag(n.data_id,a,(function(e){if(e)return Gt("Failed to move project",e),gl("send","exception",{exDescription:e.message||e,exFatal:!0}),console.error(e),void t.dispatch("dragleave");r.remove(),Nl(),t.dispatch("dragleave")})):Flourish[n.type].removeTag(n.data_id,Tl,(function(e){if(e)return Gt("Failed to move project",e),gl("send","exception",{exDescription:e.message||e,exFatal:!0}),console.error(e),void t.dispatch("dragleave");r.remove(),Nl(),t.dispatch("dragleave")})):t.dispatch("dragleave")}else t.dispatch("dragleave")}function Jl(){var e=be("#user-tags"),t=be("#user-created-tags");Ln.fetchFolders((function(n,a){n?console.error("Failed to load list of folders",n):(e.select("a").classed("current",null===Tl&&!Sl),t.selectAll("[data-tag]").remove(),a.forEach((function(e){t.node().append(function(e){var t=be(document.createElement("li")).attr("data-tag",e.entity.tag).classed("tag",!0).on("dragover",Il).on("dragleave",ql).on("drop",Bl),n="/projects";n+="?folder="+encodeURIComponent(e.entity.tag),n+=xl.sort.value?"&sort="+xl.sort.value:"",n+=xl.filter.value?"&filter="+xl.filter.value:"";var a=t.append("a").attr("href",n).attr("draggable","false").classed("current",e.entity.tag===Tl);return a.append("i").attr("class","fa fa-folder"),a.append("span").text(e.entity.tag.substr(1)),t}(e).node())})))}))}function Vl(){be("#create-tag").on("click",(function(){be("#create-tag-input").style("display","inline-block"),be("#create-tag-text").style("display","none"),be("#create-tag-input").node().focus()})),be("#create-tag-input").on("keydown",(function(e){"Enter"===e.key&&this.blur()})).on("blur",(function(){var e=be(this),t=e.property("value");e.style("display","none"),be("#create-tag-text").style("display",null),t&&(e.property("value",""),Ln.addTag(""+t,(function(e,n){if(e)console.error("Error creating tag",e);else{var a={id:n.id,name:n.tag.substr(1),tag:n.tag,project_type:"tag",is_folder:!0,thumbnail:"/images/folder_icon.png",timestamp_str:"a few seconds ago"};Jl(),Tl||Sl||(!xl.search||xl.search&&t.includes(xl.search))&&(we(".project-list-empty").remove(),Ul(a,Ml.select("#project-list-inner .project:first-child")),Nl())}})))})),function(){var e=be("#tag-name");if(e.node())var t=e.node().value;e.on("keydown",(function(e){"Enter"===e.key&&(e.preventDefault(),this.blur())})).on("blur",(function(){var n=""+be(this).node().value;if(1===n.length)return Gt("Please choose a name for this folder."),void(e.node().value=t);n!==Tl&&Ln.renameTag(Tl,n,(function(t){var a;if(t)return t.match(/^duplicate key value violates unique constraint/)?a="This name is already in use":t.match(/^value too long for type/)&&(a="The new name is too long"),Gt("Failed to rename folder.",a),console.error("Error updating tag",t),void(e.node().value=Tl.substr(1));Tl=n,Jl();var r=window.location.href;r=r.replace(/(folder=)[^\&]+/,"$1"+n),history.replaceState({},"",r)}))}))}(),be("#delete-tag").on("click",(function(){we(".project-list .project").empty()?Gt("Are you sure you want to delete the current folder?","This cannot be undone",{buttons:[{text:"Cancel",keyCode:27,callback:function(){}},{text:"Delete",keyCode:13,class:"danger",callback:function(){Ln.removeTag(Tl,(function(e){e?(Gt("Failed to delete folder",e),console.error("Error removing tag",e),gl("send","exception",{exDescription:e.message||e,exFatal:!0})):window.location="/"}))}}]}):Gt("The current folder is not empty. Please delete or move your projects from this folder and try again.")}))}var $l,Gl,Kl,Zl="all";function Xl(){we(".staff-pick-toggle").on("click",(function(){var e=be(this),t=e.attr("data-project-type"),n=e.attr("data-project-id"),a=be(".published-project[data-project-type='"+t+"'][data-project-id='"+n+"']");a.classed("staff-pick")?function(e,t,n,a){var r={visualisation:al,story:Jr}[n];Gt("Unset as staff pick?","",{buttons:[{text:"Cancel",keyCode:27},{text:"Unset staff pick",keyCode:13,class:"danger",callback:function(){r.unsetAsStaffPick(a,(function(n){if(n)return console.error("Failed to unset as staff pick",n),void Gt("Failed to unset as staff pick",n);e.classed("staff-pick",!1),t.attr("data-popup-head","Make this a staff pick")}))}}]})}(a,e,t,n):function(e,t,n,a){var r={visualisation:al,story:Jr}[n];Gt("Set as staff pick?","",{buttons:[{text:"Cancel",keyCode:27},{text:"Set staff pick",keyCode:13,class:"danger",callback:function(){r.setAsStaffPick(a,(function(n){if(n)return console.error("Failed to set as staff pick",n),void Gt("Failed to set as staff pick",n);e.classed("staff-pick",!0),t.attr("data-popup-head","Flourish staff pick")}))}}]})}(a,e,t,n)}))}function Ql(e){void 0===e&&(e=1e3),kr(".published-project-list",".published-project",Zl,{fixed_height:25,duration:e}),we(".filters.btn-group .btn").classed("selected",(function(){return this.getAttribute("data-filter")==Zl}))}function ed(e){var t=document.getElementsByClassName("errors-"+e);if(0!=t.length){if(!(t.length>1))return t[0];console.error("Found "+t.length+" elements with class .errors-"+e)}else console.error("Failed to find error message element for “"+e+"”")}function td(e,t){ld("reportError called with field:",e,"and message:",t);var n=ed(e);if(n){var a=document.createElement("div");a.setAttribute("class","error"),a.appendChild(document.createTextNode(t)),n.innerHTML="",n.appendChild(a),Kl("send","event","register","error",a)}}function nd(e){var t=ed(e);t&&(t.innerHTML="")}function ad(){for(var e=document.getElementsByClassName("errors"),t=0;t<e.length;t++)e[t].innerHTML=""}function rd(){var e=this.value,t=this;return""==e?nd(this.name):e.match(/^[A-Za-z0-9_.]+$/)?void Ln.isUsernameAvailable(e,(function(n,a){if(ld("in the User.isUsernameAvailable callback with that.value",t.value,"and username",e),t.value==e){if(n?(console.warn("Error from server",n),$l=!1,Gl=!0):($l=!0,Gl=a.available),!$l&&""!=e)return td(t.name,"Username may contain only letters (A–Z, a–z), numbers (0–9), dots (.) and underscores (_)");if(!Gl)return td(t.name,"Username is already taken");nd(t.name),t.setAttribute("data-last-username-checked",e)}})):td(this.name,"Username may contain only letters (A–Z, a–z), numbers (0–9), dots (.) and underscores (_)")}function id(e){e.charCode>=65&&e.charCode<=90||e.charCode>=97&&e.charCode<=122||e.charCode>=48&&e.charCode<=57||95!=e.charCode&&46!=e.charCode&&e.preventDefault()}function od(){nd(this.name)}function sd(){this.value=this.value.replace(/^\s+|\s+$/g,""),nd(this.name)}function ld(){"app.flourish.studio"!==window.location.host&&console.log.apply(console,arguments)}var dd=["errors","message"],ud=["monthly","yearly"];function cd(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return!0;return!1}function md(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function pd(e,t,n){var a=e.elements[t];a?"checkbox"===a.type?a.checked=!!n:a.value=n:be(e).append("input").attr("type","hidden").attr("name",t).attr("value",n)}function _d(e,t){for(var n in t)t.hasOwnProperty(n)&&!cd(dd,n)&&pd(e,n,t[n])}function hd(){var e=function(){for(var e=window.location.search.substr(1).split("&"),t={},n=0;n<e.length;n++){var a=e[n].split("=",2);1==a.length?t[a[0]]="":t[a[0]]=decodeURIComponent(a[1].replace(/\+/g," "))}return t}(),t={};return e.plan&&(t.interval=e.plan),"month"===e.interval&&(t.interval="monthly"),"year"===e.interval&&(t.interval="yearly"),e.country&&(t.address_country_code=e.country),t}var fd,yd,gd,vd,bd,Md,wd,Ld={interval:"monthly",address_country_code:"US"};function kd(e){document.getElementById("further-authentication-messages").innerHTML=e}function Yd(e){var t=function(e,t,n){var a={};return t||(t=""),void 0!==n&&null==e&&(e=n),a[t+"minutes"]=null==e?null:Math.floor(e/60)%60,a[t+"hours"]=null==e?null:Math.floor(e/3600)%24,a[t+"days"]=null==e?null:Math.floor(e/86400),a}(e),n=Object.keys(t);n.sort();var a=n.filter((function(e){return t[e]>0})).map((function(e){return t[e]+" "+(1===t[e]?e.replace(/s$/,""):e)}));if(0==a.length)return"0 minutes";if(1==a.length)return a[0];var r=a.pop();return a.join(", ")+" and "+r}function Dd(e){fd.confirm.saving(),(fd.story?fd.story:fd.visualisation).save({auto_republish_interval:e},(function(e){if(e)return console.error(e),fd.confirm.error(e),void fd.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});fd.confirm.saved({mark_for_republishing:!1})}))}function xd(e,t){if(!e)return 0;var n=+e;return e<1&&(n=0),t&&n>t&&(n=t),n}function Td(e){var t=be("#auto-republish-interval-days").node().value,n=be("#auto-republish-interval-hours").node().value,a=be("#auto-republish-interval-minutes").node().value,r=function(e,t){t||(t="");var n=e[t+"minutes"],a=e[t+"hours"],r=e[t+"days"];return null==n||null==a||null==r?null:60*n+60*a*60+60*r*60*24}({days:xd(t),hours:xd(n,59),minutes:xd(a,59)});!function(e,t){return null==e||e>=t}(r,e)?Md.classed("hidden",!1).text("Invalid interval: on your plan, the minimum auto republish interval is "+Yd(e)+"."):(Md.classed("hidden",!0),Dd(r))}function Sd(){var e=fd.story||fd.visualisation;vn({method:"GET",url:e.api_prefix+"/"+e.id+"/can_auto_update",callback:function(e,t){e?console.error(e):yd.attr("hidden",t.can_auto_update?null:"hidden")}})}function Hd(e){if((fd=e).user){var t=fd.user.min_auto_republish_interval;yd=be(".auto-republish"),gd=be("input[name='auto-republish-checkbox']"),vd=be(".auto-republish-options"),bd=we(".auto-republish-interval"),Md=be(".auto-republish-interval-errors"),gd.on("change",(function(){gd.property("checked")?Td(t):Dd(null),vd.classed("hidden",!gd.property("checked"))})),bd.on("change",(function(){Td(t)}))}}function Ed(e){return e.returnValue="You are currently publishing this project. Are you sure you want to leave?"}function jd(e){return e.returnValue="You are currently unpublishing this project. Are you sure you want to leave?"}function Ad(e){return e.returnValue="You have edited this project but not republished it. Are you sure you want to leave?"}function Cd(e){wd=e;var t=be(".export-container"),n=be("body");return t.attr("data-error",null),{published:function(){var e=wd.visualisation?wd.visualisation:wd.story;t.attr("data-status","published").select(".publish-status").html("Published"),window.removeEventListener("beforeunload",Ed),be(".export-container .review").style("display","none"),be(".export-container .published-details").style("display","block"),be(".published-details-duplicate").style("display",e.anyone_can_duplicate?"block":"none"),n.classed("published",!0),n.classed("edited",!1)},publishing:function(){t.select(".publish-status").html('<span class="spinner"></span> Publishing'),window.addEventListener("beforeunload",Ed)},unpublished:function(){if(wd.visualisation&&wd.data_bindings.requiredBindingsAreUnset())return wd.confirm_published.impossible();t.attr("data-status","unpublished").select(".publish-status").html("Not published"),window.removeEventListener("beforeunload",jd),be(".export-container .review").style("display","none"),be("#story-btn").classed("disabled",!1),be("#story-btn-form").classed("disabled",!1).attr("data-popup-body","Create a story with this visualisation"),be(".published-details").style("display","none"),n.classed("published",!1),n.classed("edited",!1)},unpublishing:function(){t.select(".publish-status").html('<span class="spinner"></span> Unpublishing'),window.addEventListener("beforeunload",jd)},publishing_disabled:function(){t.attr("data-status","publishing-disabled").select(".publish-status").html("Publishing disabled"),t.select(".published-details").style("display","none"),t.select(".review").style("display","none")},edited:function(){var e=wd.visualisation?wd.visualisation:wd.story;if(e.status&&e.status.requested_by)return wd.confirm_published.awaitingReview(e.status,e.can_review,wd.user);var a=!!e.embed_url,r=e.status&&e.status.requested_by&&e.status.requested_by.id===wd.user.id;t.attr("data-status","edited").select(".publish-status").html("Unpublished changes"),window.removeEventListener("beforeunload",Ad),wd.visualisation&&wd.data_bindings.requiredBindingsAreUnset()&&(be(".publish-btn").classed("disabled",!0),be(".republish-btn").classed("disabled",!0),we(".download-btn").classed("disabled",!0)),a?(be(".published-details").style("display","block"),be(".published-details-url").style("display","block"),be(".published-details-embed").style("display","block"),be(".unpublish-btn").style("display","block"),be(".published-details-duplicate").style("display",e.anyone_can_duplicate?"block":"none")):be(".published-details").style("display","none"),r?be(".export-container .review").style("display","block"):be(".export-container .review").style("display","none"),be("#story-btn").classed("disabled",!1),be("#story-btn-form").classed("disabled",!1).attr("data-popup-body","Create a story with this visualisation"),n.classed("published",!0),n.classed("edited",!0),n.classed("impossible",!1)},impossible:function(){var e=wd.visualisation?wd.visualisation:wd.story,a=!!e.embed_url,r=void 0!==(e.status&&e.status.requested_by),i=e.status&&e.status.requested_by&&e.status.requested_by.id===wd.user.id;t.attr("data-status","impossible").select(".publish-status").text("Unpublishable changes"),be(".publish-btn").classed("disabled",!0),be(".republish-btn").classed("disabled",!0),we(".download-btn").classed("disabled",!0),be("#story-btn").classed("disabled",!0),be("#story-btn-form").classed("disabled",!0).attr("data-popup-body","You can't use this visualisation in a story while there are empty required column selections"),r&&e.can_review?(be(".export-container .review-details").style("display","block"),be(".export-container .approve-btn").style("display","inline-block"),be(".export-container .decline-btn").style("display","inline-block")):(be(".export-container .review-details").style("display","none"),be(".export-container .approve-btn").style("display","none"),be(".export-container .decline-btn").style("display","none")),i?(be(".export-container .review-details").style("display","block"),be(".export-container .can-cancel-review").style("display","block")):be(".export-container .can-cancel-review").style("display","none"),a?(be(".published-details").style("display","block"),be(".published-details-url").style("display","none"),be(".published-details-embed").style("display","none"),be(".unpublish-btn").style("display","block"),be(".published-details-duplicate").style("display",e.anyone_can_duplicate?"block":"none")):be(".published-details").style("display","none"),n.classed("published",a),n.classed("edited",!1),n.classed("impossible",!0)},awaitingReview:function(e,a,r){var i=r.id==e.requested_by.id;t.attr("data-status","review").select(".publish-status").html("Waiting for review"),be(".export-container .review").classed("can-cancel-review",!a&&i),be(".export-container .review-details span").text("Requested by "+(i?"you":e.requested_by.name)+" "+e.requested_at),be(".published-details").style("display","none"),be(".export-container .review").style("display","block"),be(".export-container .review-details").style("display","block"),a?be(".export-container .approve-btn").classed("disabled",wd.visualisation&&wd.data_bindings.requiredBindingsAreUnset()):!a&&i&&(be(".export-container .approve-btn").style("display","none"),be(".export-container .decline-btn").style("display","none"),be(".export-container .cancel-btn").style("display","inline-block")),i&&be(".export-container .can-cancel-review").style("display","block"),be("#story-btn").classed("disabled",!1),be("#story-btn-form").classed("disabled",!1).attr("data-popup-body","Create a story with this visualisation"),n.classed("review",!0),n.classed("edited published",!1)},error:function(e,n){t.attr("data-error","error").select(".publish-status").html("Failed to "+n+' <span class="try-again">please try again</span>'),window.removeEventListener("beforeunload",Ed),window.removeEventListener("beforeunload",jd)},emailVerificationRequired:function(){t.attr("data-status","email-verification-required").select(".publish-status").text("Publishing not yet allowed")}}}function Od(e){return e.returnValue="You have unsaved changes. Are you sure you want to leave?"}function Fd(e,t){var n=be(e);const a=be("#undo-data"),r=be("#redo-data");var i=0;t&&(a.on("click",(()=>t.undo())),r.on("click",(()=>t.redo())));var o,s={};function l(e,t,n){e in s&&s[e].forEach((function(e){e(t,n)}))}function d(){return i>0?--i:i=0}return o={on:function(e,t){return e in s||(s[e]=[]),s[e].push(t),o},blank:function(){0===d()&&(window.removeEventListener("beforeunload",Od),l("change","blank"))},saved:function(e){e=e||{},0===d()&&(n.attr("class","confirm-saved saved"),t&&(a.attr("disabled",!t.isUndoAvailable()||null),r.attr("disabled",!t.isRedoAvailable()||null)),window.removeEventListener("beforeunload",Od),l("change","saved",e))},saving:function(){1==++i&&(n.attr("class","confirm-saved saving").attr("data-popup-head",null),window.addEventListener("beforeunload",Od),l("change","saving"))},error:function(e){d(),n.attr("class","confirm-saved error popup").attr("data-popup-head","Failed to save"),Gt("Failed to save: please reload the page","Error: "+e,{buttons:[{text:"Reload",keyCode:13,callback:function(){window.location.reload()}}]}),window.removeEventListener("beforeunload",Od),l("change","error")}}}function Pd(e){var t=be(e.parentNode).select(".name-width-setter").text(e.value),n=be(".name-overlay"),a=window.getComputedStyle(document.querySelector(".name-width-setter")).maxWidth,r=t.node().getBoundingClientRect().width;be(e).style("width",r+"px"),a&&(a=Number(a.replace("px",""))),r<a?n.style("display","none"):n.style("display",null)}function Nd(e,t,n){var a=e.confirm;be(".project-header .name").each((function(){var r,i=be(this),o=i.select("input"),s=o.node();n&&(s.value=n.name?n.name:"Untitled "+t,i.classed("has-name",s.value!=s.getAttribute("data-initial-name")),setTimeout((function(){Pd(s)}),100)),a.blank(),n.can_edit?o.on("click",(function(){be(this.parentNode).classed("has-name")||this.select()})).on("input",(function(){i.classed("has-name",this.value.length),Pd(this)})).on("keydown",(function(){a.blank()})).on("keyup",(function(e){13==e.keyCode&&document.activeElement.blur()})).on("focus",(function(){r=this.value})).on("blur",(function(){var i=this;if(r!=i.value){0==i.value.length?(be(i).classed("has-name",!1),i.value=this.getAttribute("data-initial-name"),Pd(i)):Pd(i);var o=i.value;document.title=o+" | Flourish",a.saving(),n.save({name:o},(function(r){if(r)return i.value=n.name,console.error("Failed to save: "+r),a.error(r),void e.analytics("send","exception",{exDescription:r.message||r,exFatal:!0});e.analytics("send","event",t,"rename",n.id),a.saved()}))}})):o.attr("disabled",!0)})),window.addEventListener("resize",(function(){be(".project-header .name").each((function(){Pd(be(this).select("input").node())}))}))}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Rd={},Wd=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g;function zd(e){return e?e.replace(/^\s+|\s+$/g,""):""}function Ud(e,t){var n=e&&"string"==typeof e.type,a=n?e:t;for(var r in e){var i=e[r];Array.isArray(i)?i.forEach((function(e){Ud(e,a)})):i&&"object"==typeof i&&Ud(i,a)}return n&&Object.defineProperty(e,"parent",{configurable:!0,writable:!0,enumerable:!1,value:t||null}),e}var Id=qd;function qd(e){this.options=e||{}}qd.prototype.emit=function(e){return e},qd.prototype.visit=function(e){return this[e.type](e)},qd.prototype.mapVisit=function(e,t){var n="";t=t||"";for(var a=0,r=e.length;a<r;a++)n+=this.visit(e[a]),t&&a<r-1&&(n+=this.emit(t));return n};var Bd,Jd={exports:{}},Vd={exports:{}};!function(e){try{var t=require("util");if("function"!=typeof t.inherits)throw"";e.exports=t.inherits}catch(t){e.exports=(Bd||(Bd=1,"function"==typeof Object.create?Vd.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Vd.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Vd.exports)}}(Jd);var $d=Id,Gd=Kd;function Kd(e){$d.call(this,e)}(0,Jd.exports)(Kd,$d),Kd.prototype.compile=function(e){return e.stylesheet.rules.map(this.visit,this).join("")},Kd.prototype.comment=function(e){return this.emit("",e.position)},Kd.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},Kd.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},Kd.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},Kd.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},Kd.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},Kd.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},Kd.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit("{")+this.mapVisit(e.keyframes)+this.emit("}")},Kd.prototype.keyframe=function(e){var t=e.declarations;return this.emit(e.values.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}")},Kd.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", "):"";return this.emit("@page "+t,e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},Kd.prototype["font-face"]=function(e){return this.emit("@font-face",e.position)+this.emit("{")+this.mapVisit(e.declarations)+this.emit("}")},Kd.prototype.host=function(e){return this.emit("@host",e.position)+this.emit("{")+this.mapVisit(e.rules)+this.emit("}")},Kd.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},Kd.prototype.rule=function(e){var t=e.declarations;return t.length?this.emit(e.selectors.join(","),e.position)+this.emit("{")+this.mapVisit(t)+this.emit("}"):""},Kd.prototype.declaration=function(e){return this.emit(e.property+":"+e.value,e.position)+this.emit(";")};var Zd=Id,Xd=Qd;function Qd(e){e=e||{},Zd.call(this,e),this.indentation=e.indent}(0,Jd.exports)(Qd,Zd),Qd.prototype.compile=function(e){return this.stylesheet(e)},Qd.prototype.stylesheet=function(e){return this.mapVisit(e.stylesheet.rules,"\n\n")},Qd.prototype.comment=function(e){return this.emit(this.indent()+"/*"+e.comment+"*/",e.position)},Qd.prototype.import=function(e){return this.emit("@import "+e.import+";",e.position)},Qd.prototype.media=function(e){return this.emit("@media "+e.media,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Qd.prototype.document=function(e){var t="@"+(e.vendor||"")+"document "+e.document;return this.emit(t,e.position)+this.emit("  {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Qd.prototype.charset=function(e){return this.emit("@charset "+e.charset+";",e.position)},Qd.prototype.namespace=function(e){return this.emit("@namespace "+e.namespace+";",e.position)},Qd.prototype.supports=function(e){return this.emit("@supports "+e.supports,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Qd.prototype.keyframes=function(e){return this.emit("@"+(e.vendor||"")+"keyframes "+e.name,e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.keyframes,"\n")+this.emit(this.indent(-1)+"}")},Qd.prototype.keyframe=function(e){var t=e.declarations;return this.emit(this.indent())+this.emit(e.values.join(", "),e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(t,"\n")+this.emit(this.indent(-1)+"\n"+this.indent()+"}\n")},Qd.prototype.page=function(e){var t=e.selectors.length?e.selectors.join(", ")+" ":"";return this.emit("@page "+t,e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},Qd.prototype["font-face"]=function(e){return this.emit("@font-face ",e.position)+this.emit("{\n")+this.emit(this.indent(1))+this.mapVisit(e.declarations,"\n")+this.emit(this.indent(-1))+this.emit("\n}")},Qd.prototype.host=function(e){return this.emit("@host",e.position)+this.emit(" {\n"+this.indent(1))+this.mapVisit(e.rules,"\n\n")+this.emit(this.indent(-1)+"\n}")},Qd.prototype["custom-media"]=function(e){return this.emit("@custom-media "+e.name+" "+e.media+";",e.position)},Qd.prototype.rule=function(e){var t=this.indent(),n=e.declarations;return n.length?this.emit(e.selectors.map((function(e){return t+e})).join(",\n"),e.position)+this.emit(" {\n")+this.emit(this.indent(1))+this.mapVisit(n,"\n")+this.emit(this.indent(-1))+this.emit("\n"+this.indent()+"}"):""},Qd.prototype.declaration=function(e){return this.emit(this.indent())+this.emit(e.property+": "+e.value,e.position)+this.emit(";")},Qd.prototype.indent=function(e){return this.level=this.level||1,null!=e?(this.level+=e,""):Array(this.level).join(this.indentation||"  ")};var eu,tu,nu=Gd,au=Xd;function ru(){iu("custom","Custom",document.querySelector("textarea[name='nav_css']").value)}function iu(e,t,n){var a=be("#preview");if(a.node().classList.forEach((function(e){/^nav-style-/.test(e)&&a.classed(e,!1)})),!e)return;a.classed("nav-style-"+e,!0),t&&tu.select(".nav-style").text(t);const r=function(e,t,n=console){if(!e)return"";function a(e){e.selectors=e.selectors.map((function(e){return t+" "+e}))}let r;try{return r=Rd.parse(e),r.stylesheet.rules.forEach((function(e){"rule"==e.type?a(e):"media"==e.type&&e.rules.forEach((function(e){a(e)}))})),Rd.stringify(r).replace(/</g,"\\3c ")}catch(e){return n.warn("Discarded bad CSS.",{error:e}),""}}(n,"#preview");be("#custom-nav-css").node().innerHTML=r,eu.confirm.saving(),eu.story.save({nav_style:e,nav_css:n},(function(t){if(t)return console.error("Failed to save: "+t),eu.confirm.error(t),void eu.analytics("send","exception",{exDescription:t.message||t,exFatal:!0});eu.confirm.saved(),Ln.logHistory({category:"story",action:"updated navigation style",story_id:eu.story.id,detail:e})}))}Rd.parse=function(e,t){t=t||{};var n=1,a=1;function r(e){var t=e.match(/\n/g);t&&(n+=t.length);var r=e.lastIndexOf("\n");a=~r?e.length-r:a+e.length}function i(){var e={line:n,column:a};return function(t){return t.position=new o(e),p(),t}}function o(e){this.start=e,this.end={line:n,column:a},this.source=t.source}o.prototype.content=e;var s=[];function l(r){var i=new Error(t.source+":"+n+":"+a+": "+r);if(i.reason=r,i.filename=t.source,i.line=n,i.column=a,i.source=e,!t.silent)throw i;s.push(i)}function d(){return m(/^{\s*/)}function u(){return m(/^}/)}function c(){var t,n=[];for(p(),_(n);e.length&&"}"!=e.charAt(0)&&(t=Y()||D());)!1!==t&&(n.push(t),_(n));return n}function m(t){var n=t.exec(e);if(n){var a=n[0];return r(a),e=e.slice(a.length),n}}function p(){m(/^\s*/)}function _(e){var t;for(e=e||[];t=h();)!1!==t&&e.push(t);return e}function h(){var t=i();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;""!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,""===e.charAt(n-1))return l("End of comment missing");var o=e.slice(2,n-2);return a+=2,r(o),e=e.slice(n),a+=2,t({type:"comment",comment:o})}}function f(){var e=m(/^([^{]+)/);if(e)return zd(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(e){return e.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(e){return e.replace(/\u200C/g,",")}))}function y(){var e=i(),t=m(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(t){if(t=zd(t[0]),!m(/^:\s*/))return l("property missing ':'");var n=m(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/),a=e({type:"declaration",property:t.replace(Wd,""),value:n?zd(n[0]).replace(Wd,""):""});return m(/^[;\s]*/),a}}function g(){var e,t=[];if(!d())return l("missing '{'");for(_(t);e=y();)!1!==e&&(t.push(e),_(t));return u()?t:l("missing '}'")}function v(){for(var e,t=[],n=i();e=m(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)t.push(e[1]),m(/^,\s*/);if(t.length)return n({type:"keyframe",values:t,declarations:g()})}var b,M=k("import"),w=k("charset"),L=k("namespace");function k(e){var t=new RegExp("^@"+e+"\\s*([^;]+);");return function(){var n=i(),a=m(t);if(a){var r={type:e};return r[e]=a[1].trim(),n(r)}}}function Y(){if("@"==e[0])return function(){var e=i();if(t=m(/^@([-\w]+)?keyframes\s*/)){var t,n=t[1];if(!(t=m(/^([-\w]+)\s*/)))return l("@keyframes missing name");var a,r=t[1];if(!d())return l("@keyframes missing '{'");for(var o=_();a=v();)o.push(a),o=o.concat(_());return u()?e({type:"keyframes",name:r,vendor:n,keyframes:o}):l("@keyframes missing '}'")}}()||function(){var e=i(),t=m(/^@media *([^{]+)/);if(t){var n=zd(t[1]);if(!d())return l("@media missing '{'");var a=_().concat(c());return u()?e({type:"media",media:n,rules:a}):l("@media missing '}'")}}()||function(){var e=i(),t=m(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return e({type:"custom-media",name:zd(t[1]),media:zd(t[2])})}()||function(){var e=i(),t=m(/^@supports *([^{]+)/);if(t){var n=zd(t[1]);if(!d())return l("@supports missing '{'");var a=_().concat(c());return u()?e({type:"supports",supports:n,rules:a}):l("@supports missing '}'")}}()||M()||w()||L()||function(){var e=i(),t=m(/^@([-\w]+)?document *([^{]+)/);if(t){var n=zd(t[1]),a=zd(t[2]);if(!d())return l("@document missing '{'");var r=_().concat(c());return u()?e({type:"document",document:a,vendor:n,rules:r}):l("@document missing '}'")}}()||function(){var e=i();if(m(/^@page */)){var t=f()||[];if(!d())return l("@page missing '{'");for(var n,a=_();n=y();)a.push(n),a=a.concat(_());return u()?e({type:"page",selectors:t,declarations:a}):l("@page missing '}'")}}()||function(){var e=i();if(m(/^@host\s*/)){if(!d())return l("@host missing '{'");var t=_().concat(c());return u()?e({type:"host",rules:t}):l("@host missing '}'")}}()||function(){var e=i();if(m(/^@font-face\s*/)){if(!d())return l("@font-face missing '{'");for(var t,n=_();t=y();)n.push(t),n=n.concat(_());return u()?e({type:"font-face",declarations:n}):l("@font-face missing '}'")}}()}function D(){var e=i(),t=f();return t?(_(),e({type:"rule",selectors:t,declarations:g()})):l("selector missing")}return Ud((b=c(),{type:"stylesheet",stylesheet:{source:t.source,rules:b,parsingErrors:s}}))},Rd.stringify=function(e,t){var n=(t=t||{}).compress?new nu(t):new au(t);if(t.sourcemap){require("./source-map-support")(n);var a=n.compile(e);return n.applySourceMaps(),{code:a,map:"generator"===t.sourcemap?n.map:n.map.toJSON()}}return a=n.compile(e)};var ou=!1;function su(){we(".overlay").transition().duration(500).style("opacity",0).transition().duration(0).style("display","none"),ou=null}function lu(e,t){be(e).selectAll(".tab, .tab-content").classed("selected",(function(){return t==this.getAttribute("data-tab")})),cu(e)}function du(e,t){var n=document.getElementById(e);we(".overlay-link").each((function(){if(this.getAttribute("data-overlay")==e){var a=this.getAttribute("data-tab");be(this).on("click",(function(){!function(e,t,n){be(e).style("display","block").style("opacity",0).transition().duration(500).style("opacity",1),void 0!==t&&t(),n&&lu(e,n),cu(e),ou=e}(n,t,a)})),a&&be(n).selectAll(".tab").on("click",(function(){lu(n,this.getAttribute("data-tab"))}))}})),be(n).selectAll(".overlay-close").on("click",(function(){su()}))}function uu(){var e=be(this).select(".overlay-inner").node(),t=(this.getBoundingClientRect().height-e.getBoundingClientRect().height)/2;return Math.max(t,20)+"px"}function cu(e){be(e).style("padding-top",uu)}window.addEventListener("resize",(function(){ou&&cu(ou)})),window.addEventListener("keyup",(function(e){27==e.keyCode&&su()}));var mu=function(e=document.body){e.classList.add("loading")},pu=function(e=document.body){e.classList.remove("loading")},_u="/api/file/upload";function hu(e){(e||document).querySelectorAll("input[type=url]").forEach((function(e){fu(e)}))}function fu(e,t){var n=e.ownerDocument.createElement("button");n.type="button",n.className="upload",n.setAttribute("title","Upload a file from your computer"),n.innerHTML="⬆︎",e.insertAdjacentElement("afterend",n),t||(n.onclick=yu)}function yu(){var e=this.previousSibling,t=e.getAttribute("accept");e.disabled=!0,e.classList.toggle("uploading",!0),gu({accept:t,success:function(t){var n;e.disabled=!1,e.classList.toggle("uploading",!1),e.value=t,"createEvent"in document?(n=document.createEvent("Event")).initEvent("change",!0,!0):n=new Event("change",{bubbles:!0}),e.dispatchEvent(n)},failure:function(){e.disabled=!1,e.classList.toggle("uploading",!1)}})}function gu(e){var t=document.getElementById("file-uploader");t||((t=document.createElement("input")).type="file",t.setAttribute("id","file-uploader"),t.style.display="none",document.body.appendChild(t)),e.accept?t.setAttribute("accept",e.accept):t.removeAttribute("accept"),t.onchange=function(){var n,a,r,i;mu(),n=t.files,a=e.success,r=e.failure,function(e,t){var n={filename:e.name,content_type:e.type,size:e.size};vu(_u,n,(function(e,n){return e?t(e):t(null,JSON.parse(n.responseText))}))}(i=n[0],(function(e,t){if(e)return pu(),Gt("Upload error","There was a problem uploading your file: "+e),void console.error(e);var n=function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)e[a]=n[a]}return e}({file:i},t.fields);vu(t.upload_url,n,(function(e,n){pu(),e?(Gt("Upload error","There was a problem uploading your file ("+n.status+")."),console.error(e),r&&r()):a(t.file_url)}))})),t.parentNode.removeChild(t)},t.click()}function vu(e,t,n){var a=new XMLHttpRequest,r=new FormData;if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&"file"!==i&&r.append(i,t[i]);t.hasOwnProperty("file")&&r.append("file",t.file)}window.Flourish.csrf_token&&r.append("csrf_token",window.Flourish.csrf_token),a.onload=function(){if(a.status>=200&&a.status<300)n(null,a);else try{var t=JSON.parse(a.responseText).error;n(t,a)}catch(t){n(new Error("POST "+e+" received status code: "+a.status),a)}},a.open("POST",e,!0),a.send(r)}function bu(){return{setup:hu,addButton:fu,startUpload:gu}}function Mu(e,t){return function(...n){return new Promise(((a,r)=>{e.call(t,...n,(function(e,t){if(e)return r(e);a(t)}))}))}}const wu=[1920,1080],Lu=[{label:"Full",resolution:[1920,1080]},{label:"High",resolution:[1280,720]},{label:"Social",resolution:[1080,1080]},{label:"Medium",resolution:[960,540]},{label:"Low",resolution:[720,480]}];let ku,Yu,Du,xu=null,Tu=null,Su=!1;async function Hu(){await Eu()}async function Eu(){await Yu.delete(),Yu=null,ku.video_id=null}async function ju(){Cu(),xu=setInterval(Cu,5e3),requestAnimationFrame(Ou)}async function Au(){clearInterval(xu),xu=null}async function Cu(){if(Su)return;const e=Mu(Yu.poll.bind(Yu));Su=!0;try{await e()}finally{Su=!1}if(Yu){if(null===Tu&&(Tu=Yu.getProgress()),zu(),Yu.failed)return Du.remove(),Au(),void Gt("Failed to create video","There was a problem preparing your video for download.",{buttons:[{text:"Try again",keycode:13,class:"primary",callback:Pu},{text:"Cancel",keyCode:27,class:"secondary"}]});Yu.output_done&&Au()}}function Ou(){if(null===Yu||null===Tu)return void(xu&&requestAnimationFrame(Ou));const e=Yu.getProgress();e<100?Tu+=.004166666666666667*(e-Tu):Tu=Math.min(Tu+1.6666666666666667,100),be(".download-progress-bar").attr("value",Tu),be(".download-progress-text").text(`${Math.floor(Tu)}%`),100===Tu?(Du.remove(),function(){const e=`/video/${Yu.id}/download`,t="Your download will begin shortly",n=Me("div"),a=n.append("p");a.append("span").text("If your video hasn't started downloading yet, "),a.append("a").attr("href",e).text("click here."),Gt(t,n.node(),{buttons:[{text:"Close this window",keycode:13,class:"primary"}]}),window.location.href=e}()):requestAnimationFrame(Ou)}async function Fu(e){try{await async function(e){const t=Mu(ku.generateVideo,ku);Yu=await t({resolution:e}),ku.video_id=Yu.id,Tu=0,ju()}(e),Wu()}catch(e){Gt("Failed to create video",e)}}async function Pu(){const e=Yu.resolution;await Eu(),Fu(e)}function Nu(){const e=(30+15*ku.getDuration())/60;return e<=5?Math.ceil(e):e<=10?2*Math.ceil(e/2):5*Math.ceil(e/5)}function Ru(){const e=document.createElement("div"),t=document.createElement("label");t.setAttribute("htmlFor","video-download-resolution"),t.textContent="Select size for your video:",e.appendChild(t);const n=document.getElementById("preview"),{offsetWidth:a,offsetHeight:r}=n;let i;if(a<=wu[0]&&r<=wu[1])i={label:"Same as current preview",resolution:[a,r]};else{let e=Math.min(wu[0]/a,wu[1]/r);i={label:"Same aspect ratio as current preview",resolution:[Math.floor(a*e),Math.floor(r*e)]}}const o=document.createElement("select");o.setAttribute("id","video-download-resolution");for(const{label:e,resolution:[t,n]}of[i,...Lu]){const a=document.createElement("option");a.setAttribute("value",`${t}x${n}`),a.textContent=`${e} (${t}x${n})`,o.appendChild(a)}e.appendChild(o);const s=document.createElement("details");s.setAttribute("class","video-download-timing-info");const l=document.createElement("summary");l.textContent="How do I change the timing of my video?",s.appendChild(l);const d=document.createElement("p");d.innerHTML=ku.is_timed?"You can adjust the timing of your video by changing the duration of your slides.":"The slides in your video will show for 5 seconds by default. You can change the duration of your slides by enabling <span style='font-weight: bold; display: inline-block;'><i class='fa fa-clock-o'></i> Audio / Autoplay</span> in the slides panel.",s.appendChild(d),e.appendChild(s),Gt("Download your story as a video",e,{is_html:!0,buttons:[{text:"Download video",keycode:13,class:"primary",callback(){Fu(o.value.split("x").map(Number))}},{text:"Cancel",keyCode:27,class:"secondary"}]})}function Wu(){const e=Me("div"),t=Nu();e.append("p").text(`We're currently preparing your download. This should take approximately ${t} minutes. The download will automatically start when it is ready.`),e.append("progress").classed("download-progress-bar",!0).attr("value",0).attr("max",100),Du=Gt("Preparing your video",e.node(),{is_html:!0,buttons:[{text:"Cancel download",keycode:13,class:"danger",callback(){Au(),Gt("Are you sure you want to cancel your download?","This means next time you'll have to start the download again from the beginning.",{buttons:[{text:"Yes, cancel download",keycode:13,class:"danger",callback:Hu},{text:"No, take me back",keyCode:27,class:"secondary",callback(){ju(),Wu()}}]})}}]}),zu()}function zu(){const e=new Date-new Date(Yu.t_created);be(".download-time-elapsed").text(Yd(e/1e3))}function Uu(e,t){ku=e,Yu=t,!Yu||Yu.output_done||Yu.failed||(ju(),Wu()),be(".video-download-btn").on("click",Ru)}var Iu,qu;function Bu(e){Gt("Are you sure you want to delete the "+qu+" “"+(e.name||"Untitled")+"”?","This cannot be undone",{buttons:[{text:"Cancel",keyCode:27},{text:"Delete",keyCode:13,class:"danger",callback:function(){e.delete((function(t){if(t)return console.error("Failed to delete "+qu+":"+t),Gt("Failed to delete "+qu,t),void Iu.analytics("send","exception",{exDescription:t.message||t,exFatal:!0});function n(){window.location.href="/projects"}setTimeout(n,1e3),Iu.analytics("send","event",{eventCategory:qu,eventAction:"delete",eventLabel:e.id,hitCallback:n})}))}}]})}function Ju(e,t,n,a=null){qu=t,(Iu=e).visualisation&&Iu.data_bindings.requiredBindingsAreUnset()&&we(".download-btn").classed("disabled",!0),function(e){e.can_edit&&be(".project-settings .item-trash").on("click",(function(){e.embed_url?Gt("This "+qu+" is published","Unpublish it first if you are sure you want to delete it.",{buttons:[{text:"Cancel",keyCode:27},{text:"Unpublish",class:"danger",callback:function(){Iu.publishing.unpublish(Bu)}}]}):Bu(e)}))}(n),function(e,t){e.can_duplicate&&(be(".project-settings .item-copy").on("click",(function(){t&&!t.can_make_new_projects?Yn(Iu,"Upgrade to duplicate visualisations","You've reached the maximum number of visualisations allowed with your account.","upgrade-duplicate",!0):e.duplicate((function(t,n){if(t)return console.error("Failed to duplicate "+qu+": "+t),Gt("Failed to duplicate "+qu,t),void Iu.analytics("send","exception",{exDescription:t.message||t,exFatal:!0});function a(){window.location.href="/"+qu+"/"+n.id+"/edit"}setTimeout(a,1e3),Iu.analytics("send","event",{eventCategory:qu,eventAction:"duplicate",eventLabel:e.id,hitCallback:a})}))})),be("#duplicate-btn").on("click",(function(){t&&!t.can_make_new_projects&&Yn(Iu,"Upgrade to create new visualisations","You've reached the maximum number of visualisations allowed with your account.","upgrade-duplicate",!0)})))}(n,e.user),function(e){if(e.can_edit){var t=bu();be(".project-settings .item-save").on("click",(function(){var n=Iu.visualisation.thumbnail_url||"",a=Iu.visualisation.description||"";const r=Me("p").text("The blueprint will be available to anyone who has access to the base template");let i=null;n&&(i=Me("figure").classed("thumbnail",!0),i.append("img").attr("src",n));const o=Me("p");o.append("input").attr("type","url").attr("name","thumbnail").attr("placeholder","Optional thumbnail URL").attr("value",n||"");const s=[r,i,o,Me("textarea").attr("name","description").attr("placeholder","Enter a description here").text(a)].reduce(((e,t)=>e+(t?t.node().outerHTML:"")),"");var l=Gt("Save as blueprint",s,{is_html:!0,buttons:[{text:"Save",class:"primary",callback:function(){var t=l.select("input[name=thumbnail]").property("value"),n=l.select("textarea").property("value");e.save({thumbnail_url:t,description:n,is_blueprint:!0},(function(){console.log("Visualisation successfully converted to blueprint")}))}},{text:"Cancel",keyCode:27}]}),d=l.select("input[type=url]");t.addButton(d.node()),d.on("change",(function(){var e=d.node().value;if(e){var t=l.select("figure");t&&t.html("<img src='"+e+"'>")}else l.select("figure").remove()}))}))}}(n),function(e){be(".item-snapshot").on("click",(function(){if(!Iu.data_bindings.requiredBindingsAreUnset()&&!this.classList.contains("disabled"))if(Iu.user&&Iu.user.can_export_images){var t=be("iframe#preview"),n="true"===this.getAttribute("data-svg-download"),a=be(document.createElement("div")),r=a.append("p");r.style("width","75%").style("display","inline-block").style("padding-right","5px"),r.append("label").text("Name"),r.append("input").attr("type","text").attr("name","filename").attr("value",e.name||"");var i=a.append("p");i.style("width","25%").style("display","inline-block").style("padding-left","5px"),i.append("label").text("Format");var o=["PNG","JPEG"];n&&Iu.user&&Iu.user.can_download_svg&&o.push("SVG"),i.append("select").attr("size",1).attr("name","format").selectAll("option").data(o).enter().append("option").text((function(e){return e})).attr("value",(function(e){return e.toLowerCase()}));var s=a.append("p").attr("class","size-controls");s.append("label").text("Size").style("width","100%"),s.append("input").attr("type","number").attr("name","width").attr("value",t.node().clientWidth).attr("min","100"),s.append("span").text(" × "),s.append("input").attr("type","number").attr("name","height").attr("value",t.node().clientHeight).attr("min","100"),s.append("span").text(" "),s.append("input").attr("type","checkbox").attr("name","retina").attr("id","retina-cbox").style("margin","0 0.25em 0 0.5em").style("vertical-align","bottom"),s.append("label").attr("for","retina-cbox").text("@2x");var l=Gt("Download a snapshot image",a.node().innerHTML,{is_html:!0,buttons:[{text:"Cancel",keyCode:27},{text:"Download",callback:function(){var t=l.select("select[name='format'] option:checked").property("value"),n="svg"===t;Iu.preview_pane.snapshot({filename:l.select("input[name='filename']").property("value"),format:t,width:n?null:l.select("input[name='width']").property("value"),height:n?null:l.select("input[name='height']").property("value"),scale:n?null:l.select("input[name='retina']").node().checked?2:1,download:!0},(function(e,t){"error"===t.status&&Gt(t.error)})),Iu.analytics("send","event",qu,"download-image",e.id),Ln.logHistory({category:"visualisation",visualisation_id:e.id,action:"downloaded image"})}}]});l.select("select[name='format']").on("change",(function(){l.select("p.size-controls").style("display","svg"===this.value?"none":null)})).dispatch("change")}else Yn(Iu,"This is a premium feature","To download images of projects you need to upgrade your account.","upgrade-private",!0)}))}(n),function(e,t){be("#visibility-status").on("click",(function(){Iu.user&&Iu.user.can_keep_private?Gt("This editor page is private",e.is_password_protected?"This editor page (with your raw data) is private. Additionally, the published "+t+" requires a password before it can be viewed. To change or remove the password, unpublish and then republish":e.embed_url?"This editor page (with your raw data) is private, but your "+t+" has been published publicly - to unpublish it, click “Export & publish”.":"This editor page (with your raw data) is private. To publish your "+t+" publicly, click “Export & publish”."):Yn(Iu,"This project is publicly visible","You have a Public account, so your projects and data can be viewed or duplicated by anyone, even before you publish them.","upgrade-private",!0)}))}(n,qu),Uu(n,a)}var Vu,$u,Gu,Ku,Zu,Xu,Qu,ec,tc,nc,ac,rc,ic,oc={};function sc(e,t,n,a){clearTimeout(oc[e]),oc[e]=setTimeout((function(){n.apply(window,a),delete oc[e]}),t)}function lc(){if(!Gu)return null;var e=Gu.nodes()[1].value;if("custom"===Ku&&""!=e){var t=parseInt(e,10);return isNaN(t)?null:t}return null}function dc(){Zu&&Zu.preview_pane&&Zu.preview_pane.setFixedHeight&&Zu.preview_pane.setFixedHeight(lc())}function uc(e,t=!1){Ku=e,dc(),"custom"===e?(be("#editor-custom-inputs").style("opacity",1),be(".preview-holder").style("width",Gu.nodes()[0].value+"px").select("iframe").style("width",Gu.nodes()[0].value+"px")):(be("#editor-custom-inputs").style("opacity",0),be(".preview-holder").attr("style",null).select("iframe").style("width",null)),t||be(".preview-holder").style("max-width","none"),we("#preview-menu .preview-mode").classed("selected",(function(){return this.id=="editor-"+e})),be("#editor-rotate").classed("active",(function(){return"auto"!==e})),be(".row.editor").classed("mobile",(function(){return"mobile"==e})),be(".row.editor").classed("tablet",(function(){return"tablet"==e})),be(".preview-holder").on("webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd transitionend",mc),Vu=e}function cc(e){return Zu=e,Gu=we("#editor-custom-inputs input"),mc(),we("#preview-menu .preview-mode").on("click",(function(){uc(this.getAttribute("data-target"))})),Gu.on("change",(function(){uc(this.getAttribute("data-target"))})),uc("auto",!0),function(){var e,t,n=document.querySelector("#resize-handle"),a=document.querySelector(".preview-holder");function r(r){"editor-custom"!==r.target.parentElement.id&&(e=a.getBoundingClientRect().width,n.parentElement.parentElement.querySelector("#resize-overlay").classList.add("dragging"),n.parentElement.classList.add("dragging"),t=r.clientX,be(".preview-holder").style("transition","none"),uc("custom"),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o),r.preventDefault())}function i(n){var r=n.clientX-t,i=e+2*r;a.style.width=i+"px",a.querySelector("iframe").style.width=i-4+"px",mc(),Zu.preview_pane.resize()}function o(){e=a.getBoundingClientRect().width,be(".preview-holder").style("transition",null),n.parentElement.parentElement.querySelector("#resize-overlay").classList.remove("dragging"),n.parentElement.classList.remove("dragging"),mc(),Zu.preview_pane.resize(),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)}n.addEventListener("mousedown",r)}(),window.innerWidth<=768&&($u="auto"),window.addEventListener("resize",(function(){Vu&&mc(),window.innerWidth<=768?$u||($u=Vu,uc("auto")):$u&&(uc($u),$u=null),Zu.preview_pane.resize()})),{getHeightSetting:lc}}function mc(){var e=be(".preview-holder").node().getBoundingClientRect();Gu.nodes()[0].value=Math.round(e.width),""!==Gu.nodes()[1].value&&"custom"===Ku&&(Gu.nodes()[1].value=Math.round(e.height))}function pc(e,t,n){Xu.confirm_published.publishing(),Qu.publish((function(t){if(t)return Xu.confirm_published.error(t,"publish"),console.error("Failed to publish",t),Gt("Failed to publish "+ec,t),void Xu.analytics("send","exception",{exDescription:t.message||t,exFatal:!1});be(".published-details-url a").attr("href",Qu.showcase_url).select("span").html(Qu.showcase_url),Ur(tc,nc,{category:ac},be(".embed-settings"),Xu),Xu.analytics("send","event",ec,"publish",Qu.id),Xu.confirm_published.published(),e&&e()}),t,n)}function _c(e){Xu.confirm_published.unpublishing(),Qu.unpublish((function(t){if(t)return Xu.confirm_published.error(t,"unpublish"),Gt("Failed to unpublish "+ec,t),console.error("Failed to unpublish "+ec,t),void Xu.analytics("send","exception",{exDescription:t.message||t,exFatal:!1});be(".published-details-url a").attr("href",null).select("span").html(null),Xu.analytics("send","event",ec,"unpublish",Qu.id),Xu.visualisation&&Xu.data_bindings.requiredBindingsAreUnset()?Xu.confirm_published.impossible():Xu.confirm_published.unpublished(),e&&e()}))}function hc(){return!Xu.user.is_superuser&&("review"==Xu.approval_policy||"authorise"==Xu.approval_policy&&"admin"!==Xu.user.role&&"approver"!==Xu.user.role)}function fc(e,t){if(!Xu.visualisation||!Xu.data_bindings.requiredBindingsAreUnset()){if(hc()&&!t)return n=!1,a=Gt("Send for review","Choose one or more reviewers <ul class='plain reviewers'>"+ic.map((function(e){const t=Me("li"),n=t.append("label");return n.append("input").attr("type","checkbox").attr("name","reviewer").attr("value",e.id),n.node().append(e.display_name),t.node().outerHTML})).join("")+"</ul>",{is_html:!0,buttons:[{text:"Request review",keyCode:13,class:"available",callback:function(){if(n){var e=[];a.selectAll("input[name=reviewer]:checked").each((function(){e.push(parseInt(this.value,10))})),Qu.sendForReview(e,"",(function(e,t){if(e)return Xu.confirm_published.error(e,"review"),console.error("Failed to send for review",e),Gt("Failed to send for review "+ec,e),void Xu.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Xu.analytics("send","event",ec,"request_review",Qu.id),Xu.confirm_published.awaitingReview(t,Qu.can_review,Xu.user),bc(),t.message&&Gt("Sorry",t.message)}))}}},{text:"Cancel",keyCode:27,class:"secondary"}]}),(r=a.select(".btn.danger")).classed("disabled",!n),void a.selectAll("input").on("change",(function(){n=0!=a.selectAll("input:checked").size(),r.classed("disabled",!n)}));var n,a,r,i=Xu.user.can_publish_with_password,o="This project will be published to its own page where you and others can see, share and embed it";if(o+=i?"<label id='private-publishing'><input type=checkbox name=protected> Require password to open</label><input class=hidden type=text name=password placeholder='Enter password'>":"<label id='private-publishing' class='upgrade-btn business clickable'><input type=checkbox disabled> Require password to open</label>",rc=Gt("Publish this "+ec+"?",o+='\n\t\t<label id="anyone-can-duplicate">\n\t\t\t<input type="checkbox" name="anyone-can-duplicate"/>\n\t\t\tAllow anyone to duplicate this project and data\n\t\t</label>\n\t',{is_html:!0,buttons:[{text:"Cancel",keyCode:27},{text:"Publish",keyCode:13,class:"danger",callback:function(){var e;i&&be("input[name=protected]").property("checked")&&(e=be("input[name=password]").property("value"));const n=be("input[name=anyone-can-duplicate]").property("checked");t?function(e,t,n){Xu.confirm_published.publishing(),Qu.approve(Qu.status.id,(function(a,r){if(a)return Xu.confirm_published.error(a,"publish"),console.error("Failed to publish",a),Gt("Failed to publish "+ec,a),void Xu.analytics("send","exception",{exDescription:a.message||a,exFatal:!1});vc(),bc(),r.message?Gt("Already reviewed",r.message):(Xu.analytics("send","event",ec,"approve",Qu.id),pc(e,t,n))}))}(void 0,e,n):pc(void 0,e,n)}}]}),qt(be("#anyone-can-duplicate .popup")),i){var s=rc.select("#private-publishing input[name=protected]"),l=rc.select("input[name=password]"),d=rc.select(".btn.danger");Qu.is_password_protected&&(s.property("checked",!0),l.classed("hidden",!1),d.classed("disabled",!0)),s.on("change",(function(){var e=s.property("checked");l.classed("hidden",!e),d.classed("disabled",e&&0==l.property("value").length)})),l.on("input",(function(){d.classed("disabled",0==l.property("value").length)}))}else rc.select("#private-publishing").on("click",(function(){Yn(Xu,"This is a business feature","With a business account, you can password protect your published projects","upgrade-password-protection",!0)}))}}function yc(){Gt("Add to Canva Presentation",'\n\t<p class="big"><span class="bold">Flourish is part of the Canva family.</span>\n\tYou can use our <span class="bold">Canva app</span> to add your\n\tFlourish projects to Canva presentations or designs.</p>\n\n\t<p class="big"><a href="https://flourish.studio/canva-news" target="_blank" class="canva-link">» Learn more about Flourish and Canva</a></p>\n\n\t<img src="/images/flourish_in_canva.png"/>\n\t',{is_html:!0,width:"500px",buttons:[{text:"Add to Canva",keyCode:13,class:"primary",callback:()=>{window.location.href="https://flourish.studio/canva-app"}},{text:"Close",keyCode:27,class:"secondary"}]})}function gc(e){if(!Xu.visualisation||!Xu.data_bindings.requiredBindingsAreUnset())return Xu.user.can_download_html?void Xu.analytics("send","event",ec,"download-html",Qu.id):(e.preventDefault(),Yn(Xu,"This is a premium feature","To download this project you need to upgrade your account.","upgrade-download",!0),!1);e.preventDefault()}function vc(){"disable_publishing"===Xu.approval_policy?Xu.confirm_published.publishing_disabled():Xu.user.email_verification_required&&!Xu.user.email_verified?Xu.confirm_published.emailVerificationRequired():Qu.status&&Qu.status.requested_by?Xu.confirm_published.awaitingReview(Qu.status,Qu.can_review,Xu.user):Qu.embed_url?Xu.visualisation&&Xu.data_bindings.requiredBindingsAreUnset()?Xu.confirm_published.impossible():Qu.edited_since_published?Xu.confirm_published.edited():Xu.confirm_published.published():Xu.confirm_published.unpublished()}function bc(){Ln.getReviewCount((function(e,t){e?console.error(e):we(".badge").html(t)}))}function Mc(e,t,n,a,r){if(ec=t,Qu=n,ic=a,tc=(Xu=e).public_bucket_url_prefix,nc=Xu.embed_url,vc(),Xu.visualisation&&Xu.data_bindings.requiredBindingsAreUnset()&&we(".publish-btn, .republish-btn").classed("disabled",!0),r?(be(".export-container .export-btn").on("click",(function(){var e=!be(".export-container").classed("open");be(".export-container").classed("open",e)})),be(".export-container .export-clickarea").on("click",(function(){be(".export-container").classed("open",!1)})),be(".export-container .publish-btn").on("click",(function(){fc()})),be(".export-container .publish-btn, .export-container .republish-btn").on("click",(function(){hc()&&Xu.company.republishing_requires_approval?fc():Xu.visualisation&&Xu.data_bindings.requiredBindingsAreUnset()||(Qu.is_password_protected||Qu.anyone_can_duplicate?fc():pc())})),be(".export-container .unpublish-btn").on("click",(function(){_c()})),be(".export-container .approve-btn").on("click",(function(){fc(0,!0)})),be(".export-container .decline-btn").on("click",(function(){!function(){const e=Me("textarea").attr("placeholder",`Add a message for ${Qu.status.requested_by.name}`);var t=Gt("Request changes","This will remove the "+ec+" from review"+e.node().outerHTML,{is_html:!0,buttons:[{text:"Confirm",class:"danger",callback:function(){var e=t.select("textarea").node().value;Qu.decline(Qu.status.id,e,(function(e,t){if(e)return Xu.confirm_published.error(e,"decline"),console.error("Failed to decline review",e),Gt("Failed to decline review "+ec,e),void Xu.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});vc(),t.message&&Gt("Already reviewed",t.message),bc(),Xu.analytics("send","event",ec,"decline",Qu.id)}))}},{text:"Cancel",keyCode:27,class:"secondary"}]})}()})),be(".export-container .cancel-btn").on("click",(function(){Qu.cancelReview(Qu.status.id,(function(e,t){if(e)return Xu.confirm_published.error(e,"cancel"),console.error("Failed to cancel review",e),Gt("Failed to cancel review "+ec,e),void Xu.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});vc(),t.message&&Gt("Already reviewed",t.message),bc(),Xu.analytics("send","event",ec,"cancel_review",Qu.id)}))})),be(".export-container .download-form").on("submit",gc),be("#canva-btn").on("click",yc)):be(".export-container").style("display","none"),be(".published-details-url a").attr("href",Qu.showcase_url).select("span").html(Qu.showcase_url),"visualisation"==ec){var i=be(".current-template").attr("data-categories");i&&(i=i.split(","),ac=i.length&&i[0])}return Ur(tc,nc,{category:ac},be(".embed-settings"),Xu),{unpublish:_c}}var wc,Lc,kc,Yc,Dc,xc,Tc,Sc,Hc,Ec,jc,Ac,Cc,Oc,Fc=!1,Pc=!1,Nc=null,Rc=!1;function Wc(){this._current_time=0,this.paused=!0,this._listeners=[]}function zc(){var e=document.querySelector(".play-pause.small"),t=document.querySelector(".play-pause.large");if(t)if(e){e=e.getBoundingClientRect();var n=getComputedStyle(t),a=parseInt(n.left),r=parseInt(n.top),i=null;requestAnimationFrame((function n(o){null==i&&(i=o);var s=o-i,l=Math.min(1,Math.max(0,s/1e3)),d=51*(1-l),u=51*(1-l),c=51*(1-l),m=1-l+.3*l,p=-50*(1-l)+"%",_=-50*(1-l)+"%",h=2.5*(1-l)+1*l;t.style.left=a*(1-l)+(e.left||0)*l+"px",t.style.top=r*(1-l)+(e.top||0)*l+"px",t.style.transform="translate("+p+","+_+") scale("+h+")",t.style.background="rgba("+d+","+u+","+c+","+m+")",l<1?requestAnimationFrame(n):t.parentNode.removeChild(t)}))}else t.parentNode.removeChild(t)}function Uc(){Lc.paused?Ic():qc()}function Ic(){Bc(Lc.currentTime)>=wc.story.slides.length&&(Lc.currentTime=0),Lc.play();for(var e=document.querySelectorAll("nav .play-pause"),t=0;t<e.length;t++)e[t].classList.add("playing");Pc||zc(),Pc=!0}function qc(){Lc.pause();for(var e=document.querySelectorAll("nav .play-pause"),t=0;t<e.length;t++)e[t].classList.remove("playing")}function Bc(e){for(var t=Yc.length-1;t>=0;t--)if(e>=Yc[t])return t}function Jc(){var e=Bc(this.currentTime);wc.current_slide.index!==e?e!==Nc&&(e<wc.story.slides.length?(Fc=kc(e),Nc=e):(qc(),wc.story.loops_at_end&&Ic())):Nc=null}function Vc(){Lc&&Lc.removeEventListener("timeupdate",Jc),(wc.story.is_timed||Rc)&&"scrolly"!==wc.story.presentation_mode?(Lc=wc.story.audio_url?document.getElementById("story-audio-file"):new Wc).addEventListener("timeupdate",Jc):Lc=null}function $c(){var e=0;Yc=[0];for(var t=0;t<wc.story.slides.length;t++){var n=wc.story.slides[t];e+=null==n.duration?wc.story.default_slide_duration:n.duration,Yc.push(e)}}function Gc(e){Lc&&(Fc?Fc=!1:Lc.currentTime=Yc[e])}function Kc(e,t,n){return wc=e,Rc=t,kc=n,Vc(),$c(),{update:Vc,play:Ic,pause:qc,playPause:Uc,updateTimecodes:$c,jumpToSlide:Gc}}function Zc(e){if(!e)return!1;var t=e.tagName;if("TEXTAREA"===t||"INPUT"===t)return!0;for(;e.parentNode;){if(e.isContentEditable)return!0;e=e.parentNode}return!1}function Xc(e){Zc(e.target)||32!=e.keyCode&&38!=e.keyCode&&40!=e.keyCode&&33!=e.keyCode&&34!=e.keyCode||e.preventDefault()}function Qc(e){Zc(e.target)||(39!=e.keyCode&&40!=e.keyCode&&32!=e.keyCode&&34!=e.keyCode||xc(),37!=e.keyCode&&38!=e.keyCode&&33!=e.keyCode||Dc())}function em(e,t){Dc=e,xc=t}function tm(){window.addEventListener("keydown",Xc),window.addEventListener("keyup",Qc)}function nm(){return!Tc.current_slide||Tc.current_slide.index<1}function am(){return!Tc.current_slide||Tc.current_slide.index===Tc.story.slides.length-1}function rm(e){im(Tc.story.slides[e],null,!0)}function im(e,t,n){!n&&Cc&&Cc.jumpToSlide(e.index),Tc.preview_pane.loadSlide(e,(function(){t&&t()})),Mm()}function om(e,t){Tc.confirm.saving(),Tc.story.addSlide(e,{},(function(e,n){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved(),im(n),Ct.hide(),Tc.analytics("send","event","story","add_slide",Tc.story.id),t&&t(n)}))}function sm(e){var t=Tc.current_slide&&e.id==Tc.current_slide.id,n=Tc.story.slides.indexOf(e);Tc.confirm.saving(),Tc.story.deleteSlide(e.id,(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved(),Tc.analytics("send","event","story","delete_slide",Tc.story.id)})),t&&(0==Tc.story.slides.length?om(0,im):im(Tc.story.slides[Math.max(0,n-1)])),Lm(),Tc.updateAutoRepublish()}function lm(){am()||im(Tc.story.slides[Tc.current_slide.index+1])}function dm(){nm()||im(Tc.story.slides[Tc.current_slide.index-1])}function um(){am()||im(Tc.story.slides[Tc.story.slides.length-1])}function cm(){nm()||im(Tc.story.slides[0])}function mm(){var e=Ec.container.firstChild&&Ec.container.firstChild.innerHTML;return e&&/^<p><br><\/p>$/i.test(e)&&(e=null),e}function pm(){Tc.confirm.saving(),Tc.preview_pane.getState((function(e,t){if(e)return console.error("Failed to get slide state",e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});var n=Tc.current_slide;n&&n.visualisation&&!n.delete_requested?n.visualisation.getState((function(e){if(n.delete_requested)Tc.confirm.saved();else{var a=nl(e,t);Tc.story.addSlide(n.index+1,{visualisation_id:n.visualisation_id,state:a},(function(e,t){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.analytics("send","event","story","add_slide",Tc.story.id),Tc.confirm.saved(),im(t,(function(){km(t)}))}))}})):Tc.confirm.saved()}))}function _m(){Hc&&hm(Tc.current_slide)}function hm(e,t){t=t||function(){},e&&e.visualisation&&e.state&&e===Tc.current_preview_slide&&!e.delete_requested?Tc.preview_pane.getState((function(n,a){if(e===Tc.current_preview_slide){var r=Tc.preview_pane.getDefaultState();t(),r&&(n?console.error("Failed to get preview state",n):(Hc=!1,e.visualisation.getState((function(t){var n=nl(Qs(r,t),a);Ac||!tl(e.state,n)?(console.log("Autosaving slide",e.id),function(e,t,n){Tc.confirm.saving();var a={state:t};Tc.current_slide===e&&(a.caption_text=mm()),e.save(a,(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.analytics("send","event","story","update_slide",Tc.story.id),Tc.confirm.saved(),n&&n()}))}(e,n,(function(){Ac=!1,Hc=!0}))):Hc=!0}))))}})):t()}function fm(e){if("slide-end-placeholder"==e.id)return Tc.story.slides.length;var t=parseInt(e.id.substr("slide-".length));return Tc.story.slides_by_id[t].index}function ym(e){var t=fm(Sc),n=fm(this);n!=t&&n!=t+1?(e.preventDefault(),we(".slide-group .droppable").classed("open",!1),be(this).select(".droppable").classed("open",!0)):e.dataTransfer.dropEffect="move"}function gm(e){var t=fm(Sc),n=fm(this);e.preventDefault(),we(".slide-group .droppable").classed("open",!1),n!=t&&n!=t+1&&be(this).select(".droppable").classed("open",!0)}function vm(e){e.preventDefault();var t=Sc.__data__,n=fm(this);n>t.index&&(n-=1),rm(Tc.current_slide.index),function(e,t){Tc.confirm.saving(),Tc.story.moveSlide(e,t,(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved(),Tc.analytics("send","event","story","move_slide",Tc.story.id)}));var n=document.getElementById("slide-"+e.id),a=Tc.story.slides[e.index+1],r=a&&document.getElementById("slide-"+a.id);document.getElementById("slides").insertBefore(n,r),Mm()}(t,n)}function bm(e){return null==e.duration?Tc.story.default_slide_duration:e.duration}function Mm(){var e=be("#slides").selectAll(".slide-group").data(Tc.story.slides,(function(e){return e.id})),t=e.enter().append("div").attr("id",(function(e){return"slide-"+e.id})).attr("class","slide-group").attr("data-testid","slide-panel-slide-group").on("dragenter",ym).on("dragover",gm).on("drop",vm);t.append("div").attr("class","droppable").attr("data-testid","slide-panel-slide-droppable"),t.append("div").attr("class","slide-number");var n=t.append("div").attr("class","slide").attr("data-testid","slide-panel-slide").on("click",(function(e,t){t.id!=Tc.current_slide.id&&im(t)}));if(n.append("div").attr("class","duration"),Tc.story.can_edit){n.attr("draggable","true").on("dragstart",(function(e){Sc=this.parentNode,be(this.parentNode).classed("being-dragged",!0),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain","wtf")})).on("dragend",(function(){be(".being-dragged").classed("being-dragged",!1),we(".slide-group .droppable").classed("open",!1)}));var a=n.append("div").attr("class","slide-buttons no-select");a.append("i").attr("class","slide-duplicate btn control-btn fa fa-clone popup").attr("data-popup-head","Duplicate slide").on("click",(function(e,t){e.stopPropagation(),function(e){var t={state:e.state,duration:e.duration,visualisation_id:e.visualisation_id};Tc.confirm.saving(),Tc.story.addSlide(e.index+1,t,(function(e,t){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved(),im(t,(function(){km(t)})),Tc.analytics("send","event","story","duplicate_slide",Tc.story.id)}))}(t)})).each((function(){qt(be(this))})),a.append("i").attr("class","slide-delete btn control-btn fa fa-trash popup").attr("data-popup-head","Delete slide").attr("data-testid","delete-slide-button").on("click",(function(e,t){e.stopPropagation(),t.visualisation_id?Gt("Delete this slide","This cannot be undone",{buttons:[{text:"Cancel",keyCode:27},{text:"Delete",class:"danger",keyCode:13,callback:function(){sm(t)}}]}):sm(t)})).each((function(){qt(be(this))}))}e.exit().remove();var r=we("#slides .slide-group"),i=Tc.story.is_timed&&"scrolly"!=Tc.story.presentation_mode;r.classed("selected",(function(e){if(Tc.current_slide)return Tc.current_slide.id==e.id})).select(".slide").select(".duration").style("display",i?null:"none").text((function(e){return bm(e)})).attr("data-popup-head",(function(e){return"Slide duration: "+bm(e)+"s"})).each((function(){qt(be(this))})),r.select(".slide-number").text((function(e,t){return t+1}))}function wm(){const e=be("#slides-panel .side-panel-scrollbox").node(),{top:t,bottom:n,height:a}=e.getBoundingClientRect(),r=be("#slides .slide-group.selected").node(),{top:i,bottom:o,height:s}=r.getBoundingClientRect(),l=be("#slides-panel .story-settings").node().getBoundingClientRect().height;i<t?e.scrollTop=s*Tc.current_slide.index+l:o>n&&(e.scrollTop=s*Tc.current_slide.index+l-(a-s))}function Lm(){var e=Tc.current_slide;(function(e){be("nav .progress span").style("width",100*e+"%")})(Tc.story.slides.length<2?0:Tc.current_slide.index/(Tc.story.slides.length-1)),e&&be(".count .current").html(Tc.current_slide.index+1),be("nav .count .total").text(Tc.story.slides.length),be("nav .previous").property("disabled",nm()),be("nav .next").property("disabled",am()),be("nav .first").property("disabled",nm()),be("nav .last").property("disabled",am()),be(".story-furniture").classed("has-caption",e&&e.caption_text),null!=e&&e.visualisation_id?e.visualisation?be("#current-slide-visualisation").text(e.visualisation.name||"Untitled visualisation ("+e.visualisation_id+")").attr("href","/visualisation/"+e.visualisation_id):be("#current-slide-visualisation").text("Loading visualisation...").attr("href",null):be("#current-slide-visualisation").text("No visualisation").attr("href",null),be(".edit-visualisation-button").style("display",e&&e.visualisation_id?"inline-block":"none"),be(".choose-visualisation-button").text(e&&e.visualisation_id?"change":"choose");var t=document.getElementById("slide-duration-input");t&&(t.value=null==e?null:e.duration||null);const n=mm(),a=e&&kt.sanitize(e.caption_text)||null;n!==a&&(jc=!0,Ec.container.firstChild.innerHTML=a||""),Mm(),Cc.updateTimecodes()}function km(e){var t=be("#slides #slide-"+e.id+" .slide");t.empty()&&console.error("Failed to set thumbnail for slide",e),t.style("background-image",(function(){return e.visualisation_id?"url(/slide/"+e.id+"/thumbnail?visualisation="+e.visualisation_id+")":"none"}))}function Ym(){em(dm,lm),be("nav .first").on("click",cm),be("nav .previous").on("click",dm),be("nav .play-pause").on("click",Cc.playPause),be("nav .next").on("click",lm),be("nav .last").on("click",um),be(".create-new-slide").on("click",(function(){om(Tc.current_slide.index+1,wm)})),be("#slide-add-new").on("click",pm),be("#timing-is-timed").on("change",(function(){var e=this.querySelector("#timing-toggle").checked||!1;Tc.confirm.saving(),Tc.story.save({is_timed:e},(function(t){if(t)return console.error(t),Tc.confirm.error(t),void Tc.analytics("send","exception",{exDescription:t.message||t,exFatal:!1});Tc.confirm.saved(),be("#timing-container").classed("expanded",e),be(".slide-duration-container").classed("hidden",!e),be(".story-furniture").classed("has-play-pause",e),e||Cc.pause(),Cc.update(),Mm()}))})),be("#timing-loops-at-end").on("change",(function(){var e=this.checked;Tc.confirm.saving(),Tc.story.save({loops_at_end:e},(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved()}))})),be("#timing-plays-on-load").on("change",(function(){var e=this.checked;Tc.confirm.saving(),Tc.story.save({plays_on_load:e},(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved()}))}));var e=be("#upload-audio");e.on("click",(function(){Cc.pause(),e.classed("has-audio")?(Tc.confirm.saving(),Tc.story.save({audio_url:null},(function(t){if(t)return console.error(t),Tc.confirm.error(t),void Tc.analytics("send","exception",{exDescription:t.message||t,exFatal:!1});Tc.confirm.saved(),e.classed("has-audio",!1).select(".btn-label").text("Upload audio"),e.select(".fa").classed("fa-volume-off",!1).classed("fa-volume-up",!0),be("#story-audio-file").attr("src",null),Cc.update()}))):Oc.startUpload({accept:"audio/mpeg",success:function(t){Tc.confirm.saving(),Tc.story.save({audio_url:t},(function(n){if(n)return console.error(n),Tc.confirm.error(n),void Tc.analytics("send","exception",{exDescription:n.message||n,exFatal:!1});Tc.confirm.saved(),e.classed("has-audio",!0).select(".btn-label").text("Remove audio"),e.select(".fa").classed("fa-volume-off",!0).classed("fa-volume-up",!1),be("#story-audio-file").attr("src",t),Cc.update()}))},failure:function(e){console.error(e)}})})),be("#slide-duration-input").on("change",(function(){var e=function(e){if(""===e)return null;var t=parseFloat(e);return isNaN(t)||t<.1?null:t}(this.value);this.value=null===e?"":this.value,Tc.confirm.saving(),Tc.current_slide.save({duration:e},(function(e){if(e)return console.error(e),Tc.confirm.error(e),void Tc.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});Tc.confirm.saved(),Lm()}))})),tm();var t=be(".story-furniture .text");(Ec=new window.Quill(t.node(),{bounds:"#preview",modules:{toolbar:[["bold","italic","underline"],["link"]]},placeholder:Tc.story.can_edit?"Add a caption here":"",theme:"bubble",readOnly:!Tc.story.can_edit})).container.firstChild.classList.add("caption"),Ec.on("text-change",(function(){jc?jc=!1:Ac=!0})),be(".ql-tooltip-editor input").attr("placeholder","https://").attr("data-link","https://"),Tc.story.can_edit&&be("#slide-end-placeholder").on("dragenter",ym).on("dragover",gm).on("drop",vm)}Wc.prototype={get currentTime(){return this._current_time},set currentTime(e){void 0!==this._played_from&&(this._played_from+=e-this._current_time),this._current_time=e}},Wc.prototype.addEventListener=function(e,t){if("timeupdate"!==e)throw new Error("Event type unsupported - must be timeupdate, not "+e);this._listeners.push(t)},Wc.prototype.removeEventListener=function(e,t){if("timeupdate"!==e)throw new Error("Event type unsupported - must be timeupdate, not "+e);this._listeners=[]},Wc.prototype.play=function(){var e=this;this.paused=!1,this._played_from=e._current_time,this._t0=null,requestAnimationFrame((function t(n){e.paused||((null==e._t0||n<e._t0)&&(e._t0=n),e._current_time=Math.max(0,e._played_from+(n-e._t0)/1e3),e._listeners.forEach((function(t){t.call(e)})),requestAnimationFrame(t))})),Pc||zc(),Pc=!0},Wc.prototype.pause=function(){this.paused=!0},kt.addHook("afterSanitizeAttributes",(function(e){"target"in e&&(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))}));var Dm,xm,Tm,Sm,Hm,Em,jm,Am,Cm,Om=!1;function Fm(e){if(Om&&window.top!==window.self){var t=window;"srcdoc"===t.location.pathname&&(t=t.parent);var n,a=(n={},window._Flourish_template_id&&(n.template_id=window._Flourish_template_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_template_id&&(n.template_id=window.Flourish.app.loaded_template_id),window._Flourish_visualisation_id&&(n.visualisation_id=window._Flourish_visualisation_id),window.Flourish&&window.Flourish.app&&window.Flourish.app.loaded_visualisation&&(n.visualisation_id=window.Flourish.app.loaded_visualisation.id),window.Flourish&&window.Flourish.app&&window.Flourish.app.story&&(n.story_id=window.Flourish.app.story.id,n.slide_count=window.Flourish.app.story.slides.length),window.Flourish&&window.Flourish.app&&window.Flourish.app.current_slide&&(n.slide_index=window.Flourish.app.current_slide.index+1),n),r={sender:"Flourish",method:"customerAnalytics"};for(var i in a)a.hasOwnProperty(i)&&(r[i]=a[i]);for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);t.parent.postMessage(JSON.stringify(r),"*")}}function Pm(e){if("function"!=typeof e)throw new Error("Analytics callback is not a function");window.Flourish._analytics_listeners.push(e)}function Nm(){Om=!0;[{event_name:"click",action_name:"click",use_capture:!0},{event_name:"keydown",action_name:"key_down",use_capture:!0},{event_name:"mouseenter",action_name:"mouse_enter",use_capture:!1},{event_name:"mouseleave",action_name:"mouse_leave",use_capture:!1}].forEach((function(e){document.body.addEventListener(e.event_name,(function(){Fm({action:e.action_name})}),e.use_capture)}))}function Rm(){if(null==Dm){var e=Ar();Dm="referrer"in e?/^https:\/\/medium.com\//.test(e.referrer):!("auto"in e)}return Dm}function Wm(e){var t=e||window.innerWidth;return t>999?650:t>599?575:400}function zm(e){if(e&&window.top!==window.self){var t=window;"srcdoc"==t.location.pathname&&(t=t.parent);var n={sender:"Flourish",method:"scrolly"};if(e)for(var a in e)n[a]=e[a];t.parent.postMessage(JSON.stringify(n),"*")}}function Um(e,t){if(window.top!==window.self){var n=window;if("srcdoc"==n.location.pathname&&(n=n.parent),xm)return e=parseInt(e,10),void n.parent.postMessage({sentinel:"amp",type:"embed-size",height:e},"*");var a={sender:"Flourish",context:"iframe.resize",method:"resize",height:e,src:n.location.toString()};if(t)for(var r in t)a[r]=t[r];n.parent.postMessage(JSON.stringify(a),"*")}}function Im(){return(-1!==navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("iPhone"))&&-1==navigator.userAgent.indexOf("Chrome")}function qm(e){return"string"==typeof e||e instanceof String}function Bm(e){return"warn"!==e.method?(console.warn("BUG: validateWarnMessage called for method"+e.method),!1):!(null!=e.message&&!qm(e.message))&&!(null!=e.explanation&&!qm(e.explanation))}function Jm(e){return"resize"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!qm(e.src)&&(!!qm(e.context)&&!!("number"==typeof(t=e.height)?!isNaN(t)&&t>=0:qm(t)&&/\d/.test(t)&&/^[0-9]*(\.[0-9]*)?(cm|mm|Q|in|pc|pt|px|em|ex|ch|rem|lh|vw|vh|vmin|vmax|%)?$/i.test(t)));var t}function Vm(e){throw new Error("Validation for setSetting is not implemented yet; see issue #4328")}function $m(e){return"scrolly"!==e.method?(console.warn("BUG: validateScrolly called for method"+e.method),!1):!!Array.isArray(e.slides)}function Gm(e){return"customerAnalytics"===e.method||(console.warn("BUG: validateCustomerAnalyticsMessage called for method"+e.method),!1)}function Km(e){return"request-upload"!==e.method?(console.warn("BUG: validateResizeMessage called for method"+e.method),!1):!!qm(e.name)&&!(null!=e.accept&&!qm(e.accept))}function Zm(e,t){var n=function(e){for(var t={warn:Bm,resize:Jm,setSetting:Vm,customerAnalytics:Gm,"request-upload":Km,scrolly:$m},n={},a=0;a<e.length;a++){var r=e[a];if(!t[r])throw new Error("No validator found for method "+r);n[r]=t[r]}return n}(t);window.addEventListener("message",(function(t){if(null!=t.source&&(t.origin===document.location.origin||t.origin.match(/\/\/localhost:\d+$|\/\/(?:public|app)\.flourish.devlocal$|\/\/flourish-api\.com$|\.flourish\.(?:local(:\d+)?|net|rocks|studio)$|\.uri\.sh$|\/\/flourish-user-templates\.com$/))){var a;try{a=JSON.parse(t.data)}catch(e){return void console.warn("Unexpected non-JSON message: "+JSON.stringify(t.data))}if("Flourish"===a.sender)if(a.method)if(Object.prototype.hasOwnProperty.call(n,a.method))if(n[a.method](a)){for(var r=document.querySelectorAll("iframe"),i=0;i<r.length;i++)if(r[i].contentWindow==t.source||r[i].contentWindow==t.source.parent)return void e(a,r[i]);console.warn("could not find frame",a)}else console.warn("Validation failed for the message",a);else console.warn("No validator implemented for message",a);else console.warn("The 'method' property was missing from message",a)}})),Im()&&(window.addEventListener("resize",Xm),Xm())}function Xm(){for(var e=document.querySelectorAll(".flourish-embed"),t=0;t<e.length;t++){var n=e[t];if(!n.getAttribute("data-width")){var a=n.querySelector("iframe");if(a){var r=window.getComputedStyle(n),i=n.offsetWidth-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight);a.style.width=i+"px"}}}}function Qm(e,t){var n=e.parentNode;if(n.classList.contains("fl-scrolly-wrapper"))console.warn("createScrolly is being called more than once per story. This should not happen.");else{n.classList.add("fl-scrolly-wrapper"),n.style.position="relative",n.style.paddingBottom="1px",n.style.transform="translate3d(0, 0, 0)",e.style.position="sticky";var a=n.getAttribute("data-height")||null;a||(a="80vh",e.style.height=a),e.style.top="calc(50vh - "+a+"/2)";var r=n.querySelector(".flourish-credit");r&&(r.style.position="sticky",r.style.top="calc(50vh + "+a+"/2)"),t.forEach((function(e,t){var a=document.createElement("div");a.setAttribute("data-slide",t),a.classList.add("fl-scrolly-caption"),a.style.position="relative",a.style.transform="translate3d(0,0,0)",a.style.textAlign="center",a.style.maxWidth="500px",a.style.height="auto",a.style.marginTop="0",a.style.marginBottom="100vh",a.style.marginLeft="auto",a.style.marginRight="auto";var r=document.createElement("div");r.innerHTML=e,r.style.display="inline-block",r.style.paddingTop="1.25em",r.style.paddingRight="1.25em",r.style.paddingBottom="1.25em",r.style.paddingLeft="1.25em",r.style.background="rgba(255,255,255,0.9)",r.style.boxShadow="0px 0px 10px rgba(0,0,0,0.2)",r.style.borderRadius="10px",r.style.textAlign="center",r.style.maxWidth="100%",r.style.margin="0 20px",r.style.overflowX="hidden",a.appendChild(r),n.appendChild(a)})),function(e){for(var t=new IntersectionObserver((function(t){t.forEach((function(t){if(t.isIntersecting){var n=e.querySelector("iframe");n&&(n.src=n.src.replace(/#slide-.*/,"")+"#slide-"+t.target.getAttribute("data-slide"))}}))}),{rootMargin:"0px 0px -0% 0px"}),n=e.querySelectorAll(".fl-scrolly-caption"),a=0;a<n.length;a++)t.observe(n[a]);e.querySelectorAll(".fl-scrolly-caption img").forEach((function(e){e.style.maxWidth="100%"}))}(n)}}function ep(e,t,n,a,r){var i=document.createElement("iframe");if(i.setAttribute("scrolling","no"),i.setAttribute("frameborder","0"),i.setAttribute("title","Interactive or visual content"),i.setAttribute("sandbox","allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"),t.appendChild(i),i.offsetParent||"fixed"===getComputedStyle(i).position)tp(e,t,i,n,a,r);else{var o={embed_url:e,container:t,iframe:i,width:n,height:a,play_on_load:r};if(window._flourish_poll_items?window._flourish_poll_items.push(o):window._flourish_poll_items=[o],window._flourish_poll_items.length>1)return i;var s=setInterval((function(){window._flourish_poll_items=window._flourish_poll_items.filter((function(e){return!e.iframe.offsetParent||(tp(e.embed_url,e.container,e.iframe,e.width,e.height,e.play_on_load),!1)})),window._flourish_poll_items.length||clearInterval(s)}),500)}return i}function tp(e,t,n,a,r,i){var o;return a&&"number"==typeof a?(o=a,a+="px"):a&&a.match(/^[ \t\r\n\f]*([+-]?\d+|\d*\.\d+(?:[eE][+-]?\d+)?)(?:\\?[Pp]|\\0{0,4}[57]0(?:\r\n|[ \t\r\n\f])?)(?:\\?[Xx]|\\0{0,4}[57]8(?:\r\n|[ \t\r\n\f])?)[ \t\r\n\f]*$/)&&(o=parseFloat(a)),r&&"number"==typeof r&&(r+="px"),a?n.style.width=a:Im()?n.style.width=t.offsetWidth+"px":n.style.width="100%",!!r||(e.match(/\?/)?e+="&auto=1":e+="?auto=1",r=Wm(o||n.offsetWidth)+"px"),r&&("%"===r.charAt(r.length-1)&&(r=parseFloat(r)/100*t.parentNode.offsetHeight+"px"),n.style.height=r),n.setAttribute("src",e+(i?"#play-on-load":"")),n}function np(){return xm="#amp=1"==window.location.hash,{createEmbedIframe:ep,isFixedHeight:Rm,getHeightForBreakpoint:Wm,startEventListeners:Zm,notifyParentWindow:Um,initScrolly:zm,createScrolly:Qm,isSafari:Im,initCustomerAnalytics:Nm,addAnalyticsListener:Pm,sendCustomerAnalyticsMessage:Fm}}var ap,rp=null;function ip(){return"MessageChannel"in window}var op=null;function sp(){op&&Tm.removeEventListener("load",op),op=null}function lp(e){sp(),Tm.addEventListener("load",e),op=e}var dp,up,cp,mp,pp,_p=null;function hp(){_p&&(cancelAnimationFrame(_p),_p=null)}function fp(e,t,n){return Fp(!1),Cm=e?e.visualisation?e.visualisation:e.current_slide.visualisation:null,rp=null,Cm&&Cm.template_id?(lp(function(e,t,n){var a=e.visualisation?e.visualisation.template_id:e.current_slide.visualisation.template_id,r=e.current_slide?e.current_slide.id:null;return function(){dc(),!Cm||Cm.template_id!=a||e.current_slide&&e.current_slide.id!==r||(sp(),kp((function(i,o){i?console.error("Failed to get default state"):!Cm||Cm.template_id!=a||e.current_slide&&e.current_slide.id!==r||Yp((function(i,s){if(i)console.error("Failed to call hasData");else if(Cm&&Cm.template_id==a&&(!e.current_slide||e.current_slide.id===r)){var l=!1;e.visualisation&&(l=e.data_bindings.requiredBindingsAreUnset()),s?Cm.refreshDataBindings((function(i){i?console.error("Failed to refresh data bindings"):!Cm||Cm.template_id!=a||e.current_slide&&e.current_slide.id!==r||Cm.prepareData((function(i,s){i?console.error("Failed to prepare data for template"):!Cm||Cm.template_id!=a||e.current_slide&&e.current_slide.id!==r||Cp({data:s,state:t,draw:!l},(function(e,t){rp=o,n(e,t)}))}))})):Cp({state:t,draw:!l},(function(e,t){rp=o,n(e,t)}))}}))})))}}(e,t,n)),Tm.src="/template/"+Cm.template_id+"/embed/?auto=1&environment="+Sm+"&is_read_only="+(e.is_read_only?"1":"0"),Tm):(sp(),Tm.src="about:blank",Tm)}function yp(e,t,n,a,r){Fp(!1);var i="about:blank";t&&(i=e[t]||"/template/"+t+"/embed",i+="?environment="+Sm,a&&(i+="&auto=1"),r&&(i+="&enable_customer_analytics=1")),function(e,t){hp();var n=null,a=function(r){null==n&&(n=r);var i=r-n,o=Math.min(1,Math.max(0,i/e));Tm.style.opacity=1-o,1==o?(_p=null,t()):_p=requestAnimationFrame(a)};_p=requestAnimationFrame(a)}(250,(function(){var e=function(e){return function(){kp((function(t,n){t?console.error("Failed to get default state"):(rp=n,e())}))}}((function(){n(),function(e){hp();var t=null,n=function(a){null==t&&(t=a);var r=a-t,i=Math.min(1,Math.max(0,r/e));Tm.style.opacity=i,_p=1==i?null:requestAnimationFrame(n)};_p=requestAnimationFrame(n)}(250)}));lp(e),Tm.src=i,"about:blank"===Tm.src&&e()}))}function gp(e,t){var n=e.template_id;e.refreshDataBindings((function(a){a?console.error("Failed to fetch data bindings"):e.prepareData((function(e,a){if(Cm&&Cm.template_id==n)return e?(console.error("Failed to prepare data for template"),void t(e)):void t(void 0,a)}))}))}function vp(e,t){gp(e,(function(e,n){if(e)return t(e);Cp({data:n,update:!0},t)}))}function bp(e,t){gp(e,(function(e,n){if(e)return t(e);Cp({data:n,update:!1},t)}))}function Mp(e,t,n){gp(e,(function(e,a){if(e)return n(e);Cp({data:a,state:t,overwrite_state:!0,update:!0},n)}))}function wp(e,t,n){if(ip()){var a=new MessageChannel;a.port1.onmessage=function(e){var t=e.data;if("string"==typeof t){if(!n)return;return n(void 0,JSON.parse(t))}if("object"==typeof t){if("result"in t){if(!n)return;return n(void 0,t.result)}if("error"in t){if(!n)return;return n(t.error)}console.error("Unrecognised response to message",t)}else console.error("Unrecognised response to message",t)},Tm.contentWindow.postMessage({sender:"Flourish",method:e,argument:t},"*",[a.port2])}}function Lp(e,t){wp("setState",Xs(e),t)}function kp(e,t){"function"!=typeof e?wp("getState",e,t):wp("getState",void 0,e)}function Yp(e){wp("hasData",void 0,e)}function Dp(e,t){wp("setData",e,t)}function xp(e){wp("getData",void 0,e)}function Tp(e){wp("draw",void 0,e),Fp(!0)}function Sp(e){jm&&jm.clear(),Op()&&wp("update",void 0,e)}function Hp(e,t){wp("snapshot",e,t)}function Ep(){return el(rp)}function jp(e,t){wp("setFixedHeight",e,t)}function Ap(e){if(Tm.parentNode.offsetWidth){if(void 0!==e)ap=null!=e;else if(ap)return;var t=e||Em&&Em.responsive_menu&&Em.responsive_menu.getHeightSetting()||Hm.getHeightForBreakpoint(Tm.offsetWidth),n=typeof t;("number"===n||"string"===n&&!isNaN(t))&&(t+="px"),Tm.style.height=t}}function Cp(e,t){Op()?delete e.draw:e.draw&&Fp(!0),e.state&&(e.state=Xs(e.state)),jm&&jm.clear(),wp("sync",e,(function(n,a){null!=n||"success"!==a?(e.draw&&Fp(!1),function n(a){a?t&&t(a):function(e,t){return e.data?(Dp(e.data,t),delete e.data,!1):e.state?(Lp(e.state,t),delete e.state,!1):e.draw?(Tp(t),delete e.draw,!1):!e.update||(Sp(t),delete e.update,!1)}(e,n)&&t&&t(void 0)}(n)):t&&t(void 0)}))}function Op(){return Am}function Fp(e){Am=e}function Pp(e,t,n,a,r){return Tm=document.querySelector(e),Sm=t,Em=n,jm=a,r||(r={}),Hm=np(),Tm.style.height=Hm.getHeightForBreakpoint(Tm.offsetWidth)+"px",Hm.startEventListeners((function(e){"resize"==e.method?Ap(e.height):"warn"==e.method?(jm&&jm.warn(e),console.warn("Warning from template:",e.message,e.explanation)):e.method in r&&r[e.method](e)}),["resize","warn","customerAnalytics","setSetting","request-upload"]),ip()||function(e){if(e){var t=document.createElement("div");t.className="unsupported-notice",t.innerHTML="<h3>Please update your browser</h3><p>This page only works with newer versions of your browser.</p>",e.appendChild(t)}}(Tm.parentNode),{loadVisualisation:fp,loadTemplate:yp,updateData:vp,updateDataAndState:Mp,updateDataNotPreview:bp,setState:Lp,getState:kp,getDefaultState:Ep,hasData:Yp,setData:Dp,getData:xp,draw:Tp,update:Sp,snapshot:Hp,setFixedHeight:jp,resize:Ap,sync:Cp,getDrawCalled:Op,setDrawCalled:Fp}}function Np(e,t){var n=e.visualisation,a=n.template_id;if(dp.current_slide===e)return a?void n.getState((function(r){if(dp.current_slide===e){var i={};a==dp.current_template_id&&Qs(i,cp.getDefaultState()),Qs(i,r),Qs(i,e.state),a!=dp.current_template_id||null===cp.getDefaultState()?cp.loadVisualisation(dp,i,t).style.display="block":n.id==pp?cp.sync({state:i,update:!0,overwrite_state:!0},t):cp.updateDataAndState(n,i,t),up.style("display","none"),dp.current_template_id=a,pp=n.id,dp.controls.updateStoryEditor(e)}})):(cp.loadVisualisation(null).style.display="none",up.style("display","block"),t&&t(),dp.current_template_id=null,void dp.controls.updateStoryEditor(e))}function Rp(e,t){if(e){if(-1!=dp.story.slides.indexOf(e))return e.visualisation_id?void(e.visualisation?dp.controls.saveSlide(dp.current_slide,(function(){dp.current_slide=e,Np(e,Wp(e,t))})):al.getById(e.visualisation_id,(function(n,a){n?console.error(n):(e.visualisation=a,dp.controls.saveSlide(dp.current_slide,(function(){dp.current_slide=e,Np(e,Wp(e,t))})))}))):(dp.current_slide=e,cp.loadVisualisation(null).style.display="none",up.style("display","block"),dp.controls.updateStoryEditor(),dp.current_template_id=null,pp=null,void(t&&t()));console.error("Trying to load a slide that isn't in the story slides array",e)}else dp.story.addSlide(0,{},(function(e,n){e?console.error(e):Rp(n,t)}))}function Wp(e,t){return function(){dp.current_preview_slide=e,t()}}function zp(e){var t=dp.current_slide;dp.confirm.saving(),al.getById(e,(function(n,a){if(t.delete_requested)dp.confirm.saved();else{if(n)return console.error(n),dp.confirm.error(n),void dp.analytics("send","exception",{exDescription:n.message||n,exFatal:!1});dp.analytics("send","event","story","change_visualisation",dp.story.id);var r=t.visualisation;t.visualisation=a,t.visualisation_id=e,t.state={},dp.current_template_id=null,Rp(t,(function(n){if(!t.delete_requested)return n?(console.error("Failed to load slide",n),void dp.analytics("send","exception",{exDescription:n.message||n,exFatal:!1})):void t.save({visualisation_id:e,state:{}},(function(e){if(t.delete_requested)dp.confirm.saved();else{if(e)return t.visualisation=r,t.visualisation_id=r.id,console.error(e),dp.confirm.error(e),void dp.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});dp.confirm.saved(),dp.controls.updateSlideThumbnail(t),dp.updateAutoRepublish()}}));dp.confirm.saved()}))}}))}function Up(e){al.createFromTemplate(e,(function(e,t){if(e)return console.error(e),dp.confirm.error(e),void dp.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});zp(t)}))}function Ip(e){if(null!=e){var t=be(".story-furniture").node();e=t?e-t.offsetHeight:e}cp.setFixedHeight(e)}function qp(e){var t={"request-upload":function(e){var t,n;t=e.name,n=e.accept,mp.startUpload({accept:n||"image/*,video/*,audio/*",success:function(e){var n={};n[t]=e,cp.sync({state:n,update:!0})},failure:function(e){console.error("Upload failed",e)}})}};return cp=Pp("#preview iframe","story_editor",dp=e,null,t),up=be("#blank-slide"),mp=bu(),dp.current_slide&&Rp(dp.current_slide),{loadSlide:Rp,getState:cp.getState,getDefaultState:cp.getDefaultState,changeVisualisation:zp,chooseMasterSlide:Up,snapshot:cp.snapshot,setFixedHeight:Ip,resize:cp.resize}}var Bp,Jp,Vp,$p=[{delay:500,text:"Introducing… Flourish Stories. Stories let you guide your audience through one or more visualisations",anchor:".preview-holder",position:"top",direction:"bottom"},{text:"This is the first slide in your story 😬",anchor:"#slides .slide-group:first-child",position:"right",direction:"left"},{text:"You can add a caption to the current slide here",anchor:".story-furniture",position:"bottom",direction:"top",button_text:"Looks good, next"},{text:"Now click 'Duplicate slide' to add another slide based on this one",anchor:"#slide-add-new",position:"left",direction:"right",button_text:"OK",trigger:"click #slide-add-new"},{text:"You can add as many slides if you want, combining different visualisations.",anchor:".create-new-slide",position:"right",direction:"left",button_text:"Great",delay:500},{text:"Finally, click here to export or publish your story.",anchor:".export-btn",position:"bottom",direction:"top",button_text:"Finish tour"}];function Gp(e){du("choose-visualisation",(function(){!function(e,t,n){function a(n,a){var r=n.filter((function(e){var t=e.name?e.name:"Untitled visualisation ("+e.id+")",n=!a||t.toLowerCase().indexOf(a.toLowerCase())>-1;return e.template_id&&n})),i=be(e).selectAll(".project").data(r),o=i.enter().append("div").attr("class","project in-overlay visualisation visible clickable").on("click",(function(e,n){t&&t(n.id)})),s=o.append("div").attr("class","project-inner").append("div").attr("class","project-contents");s.append("span").attr("class","current-template-thumbnail").append("img").attr("loading","lazy");var l=s.append("span").attr("class","project-info");l.append("span").attr("class","project-name"),l.append("span").attr("class","project-timestamp");var d=o.merge(i);d.select(".current-template-thumbnail img").attr("src",(function(e){return e.template_id?"/template/"+e.template_id+"/thumbnail":null})),d.select(".project-name").text((function(e){return e.name?e.name:"Untitled visualisation ("+e.id+")"})),d.select(".project-timestamp").text((function(e){return e.timestamp_str})),i.exit().remove(),kr(e,".project",null,{duration:0,aspect_ratio:.9}),be(".no-project-message").html((function(){return d.size()||!a?"":`\n\t\t\t\t<p class="empty-label">No results for '${a}'.</p>\n\t\t\t\t<p class="empty-details">Try shortening or rephrasing your search.</p>\n\t\t\t`}))}al.list((function(e,t){e?console.error("error",e):(a(t),be("#search-viz").on("input",(function(){sc("visualisation-search",250,a,[t,this.value])})),n&&n(t))})),window.addEventListener("resize",(function(){kr(e,".project",null,{duration:0})}))}("#choose-visualisation .project-list",(function(t){su(),e.preview_pane.changeVisualisation(t)}),(function(e){e.length>0&&document.querySelector("#choose-visualisation .project-list").classList.add("no-limit"),cu(document.getElementById("choose-visualisation"))}))}))}function Kp(e,t,n,a,r,i,o,s,l){var d=this;this.story=e,this.public_bucket_url_prefix=t,this.embed_url=n,this.sdk_version=r,this.user=a,this.is_read_only=s,this.controls=(Cc=Kc(Tc=this,!1,(function(e){return Tc.loadSlide(e),!1})),Ym(),Oc=bu(),Tc.story.can_edit&&setInterval(_m,500),Hc=!0,{updateStoryEditor:Lm,updateSlideThumbnail:km,updateSlidesPanel:Mm,saveSlide:hm,setTargetSlideIndex:rm}),Gp(this),function(e){we(".choose-master-slide").on("click",(function(){e.preview_pane.chooseMasterSlide(this.getAttribute("data-id"))}))}(this),function(e){be("#story-btn").on("click",(function(){e.user.can_present?window.open("preview","_blank"):Yn(e,"Upgrade to present in full screen","This is a premium feature. Upgrade your account to preview and present stories in full screen.","upgrade-presenter-mode",!0)}))}(this),this.loadSlide=this.controls.setTargetSlideIndex,this.approval_policy=i&&i.approval_policy,this.company=i,this.confirm_published=Cd(this),this.publishing=Mc(this,"story",e,i&&i.reviewers,o),Hd(this),this.updateAutoRepublish=Sd,this.confirm=Fd(document.querySelector(".confirm-saved")).on("change",(function(t,n){if("disable_publishing"!==d.approval_policy){var a=!0;n&&"mark_for_republishing"in n&&(a=n.mark_for_republishing),"saved"==t&&e.embed_url&&a&&d.confirm_published.edited()}})),this.preview_pane=qp(this),this.responsive_menu=cc(this),Ju(this,"story",e,l),Nd(this,"story",e),function(e){eu=e,(tu=be(".nav-style-chooser")).select(".dropdown-head").on("click",(function(){tu.classed("open",!tu.classed("open"))})),tu.selectAll("#nav-style-menu .dropdown-item").on("click",(function(){tu.classed("open",!1);var e=be(this).attr("data-value"),t=be(this).text(),n="custom"===e,a=eu.story.nav_css||"";if(n)if(eu.user&&eu.user.can_customise_story_navigation){var r=document.createElement("textarea");r.setAttribute("name","nav_css"),r.textContent=a,Gt("Custom styling","<p>CSS rules entered here will be applied to the story navigation. Refer to <a target='_blank' href='https://flourish.studio/help/customize-story-player/'>the documentation</a> for guidelines</p>"+r.outerHTML,{is_html:!0,buttons:[{text:"Cancel",keyCode:27},{text:"Save",callback:ru}]})}else Yn(eu,"Custom styling","With a business account, you can customize the appearance of the story player with CSS and add your own branding.","upgrade-customization",!0);else e!=eu.story.nav_style&&iu(e,t,null)})),be("#presentation-mode-options").selectAll("input").on("change",(function(){var e=be("#presentation-mode-options input:checked").attr("value");eu.story.save({presentation_mode:e},(function(t){if(t)throw t;var n="scrolly"==e;be("#story").classed("scrolly",n),be("#slides-panel").classed("story-styles-active",!1),be(".slide-duration-container").classed("hidden",n||!eu.story.is_timed),eu.controls.updateSlidesPanel(),iu(n?null:eu.story.nav_style,null,null),eu.confirm.saved()}))})),be("#presentation-mode-options").selectAll(".presentation-mode-edit").on("click",(function(){var e=be("#slides-panel").classed("story-styles-active");be("#slides-panel").classed("story-styles-active",!e)})),be("#slides").on("click",(function(){be("#slides-panel").classed("story-styles-active",!1)}))}(this),function(e){var t=e.story.slides;t.length>0?e.preview_pane.loadSlide(t[0],(function(n){if(pu(),n)throw new Error("Failed to load the first slide: "+(n.message||n));t.forEach(e.controls.updateSlideThumbnail)})):e.story.save({name:null},(function(t){t?console.error(t):e.story.addSlide(0,{},(function(t,n){t?console.error(t):e.preview_pane.loadSlide(n,pu)}))}))}(this),e.can_edit?(this.analytics=ke("/story/edit",a),this.analytics("send","event","story","edit",this.story.id)):(this.analytics=ke("/story/view",a),this.analytics("send","event","story","view",this.story.id)),kn({user:a,analytics:this.analytics}),ml($p),window.location.search.indexOf("tour=1")>-1&&Flourish.tour.start()}function Zp(e,t){for(var n in t)"object"!=typeof e[n]||null==e[n]||Array.isArray(e[n])||"object"!=typeof t[n]||null==t[n]||Array.isArray(t[n])?e[n]=t[n]:Zp(e[n],t[n])}function Xp(e,t,n,a,r,i,o){var s=this;s.story=e,s.visualisations=t,s.data=n,s.template_paths=a||{},s.enable_customer_analytics=o,s.auto_resize="scrolly"!=s.story.presentation_mode&&!Jp.isFixedHeight(),i?s.analytics=window.ga=function(e){if(!e||"function"!=typeof e){var t=Array.prototype.slice.call(arguments,1);if("send"==e)for(var n=0;n<t.length;n++)"object"==typeof t[n]&&"hitCallback"in t[n]&&t[n].hitCallback()}}:(s.analytics=ke("/story/"+e.id,r),s.analytics("send","event","story","play",e.id));var l,d,u=window.location.hash,c=(u&&u.match(/^#play-on-load/)||s.story.is_timed&&s.story.plays_on_load)&&"scrolly"!=s.story.presentation_mode;if(e.slides.length>0){for(var m=0;m<e.slides.length;m++){var p=e.slides[m];p.visualisation_id&&(p.visualisation=t[p.visualisation_id])}u&&"#amp=1"!=u&&!c||(window.location.hash="#slide-0"),s.loadSlideFromHash()}function _(){s.previous()}function h(){s.next()}em(_,h),tm(),s.auto_resize?(l=document.querySelector("iframe"),d=l.offsetHeight,Jp.startEventListeners((function(e){"resize"===e.method&&e.height!==d&&("number"!=typeof(d=e.height)&&(d=parseInt(d,10)),l.style.height=d+"px",t_(l.offsetHeight+n_()))}),["resize"])):s.updateHeight(),s.auto_resize||window.addEventListener("resize",(function(){s.updateHeight()}));var f=!0;Vp=Kc(s,c,(function(e){return window.location.hash="#slide-"+e,!0}));var y=document.querySelector(".first");y&&y.addEventListener("click",(function(){s.first()}));var g=document.querySelector(".previous");g&&g.addEventListener("click",_);var v=document.querySelectorAll(".play-pause");for(m=0;m<v.length;m++)v[m].addEventListener("click",(function(e){f&&(f=!1,Vp.jumpToSlide(s.current_slide.index)),Vp.playPause(),Jp.sendCustomerAnalyticsMessage({action:e.target.classList.contains("playing")?"play":"pause"})}));var b=document.querySelector(".next");b&&b.addEventListener("click",h);var M=document.querySelector(".last");M&&M.addEventListener("click",(function(){s.last()})),c&&function(){if(!Vp)return;var e=document.querySelector(".play-pause.large");e&&e.parentNode&&e.parentNode.removeChild(e);document.querySelector("iframe").addEventListener("load",(function(){Vp.play()}),!0)}()}Xp.prototype.noSlidesBefore=function(){return!this.current_slide||this.current_slide.index<1},Xp.prototype.noSlidesAfter=function(){return!this.current_slide||this.current_slide.index==this.story.slides.length-1},Xp.prototype.previous=function(){if(!this.noSlidesBefore()){this.analytics("send","event","story","previous",this.current_slide.index);var e=this.current_slide.index-1;window.location.hash="#slide-"+e}},Xp.prototype.next=function(){if(!this.noSlidesAfter()){this.analytics("send","event","story","next",this.current_slide.index);var e=this.current_slide.index+1;window.location.hash="#slide-"+e}},Xp.prototype.first=function(){this.noSlidesBefore()||(this.analytics("send","event","story","first",this.current_slide.index),window.location.hash="#slide-0")},Xp.prototype.last=function(){this.noSlidesAfter()||(this.analytics("send","event","story","last",this.current_slide.index),window.location.hash="#slide-"+(this.story.slides.length-1))},Xp.prototype.populateStateAndData=function(e,t){var n=this.current_slide,a=n.visualisation,r={};Zp(r,Bp.getDefaultState()),Zp(r,Xs(a.settingsForCurrentTemplate())),Zp(r,n.state);var i={state:r,overwrite_state:!0};t&&(i.data=this.data[a.id]),i[e]=!0,Bp.sync(i)},Xp.prototype.loadSlide=function(e){var t=this;e<0&&(e=0),e>=t.story.slides.length&&(e=t.story.slides.length-1);var n=t.story.slides[e],a=n.visualisation,r=a&&a.template_id,i=t.current_slide,o=t.loaded_visualisation,s=t.loaded_template_id;function l(n,i){return function(){t.loaded_visualisation=a,t.loaded_template_id=r,function(e){null==e&&(e="");var t=document.querySelector(".story-furniture .caption");t&&(t.innerHTML=kt.sanitize(e))}(t.current_slide&&t.current_slide.caption_text),Jp.sendCustomerAnalyticsMessage({action:"change_slide",slide_index:e+1}),r&&(t.populateStateAndData(n,i),t.updateHeight())}}t.current_slide=n,n!==i&&(t.updateControls(),t.updateSlideCount(),this.analytics("send","event","story","load_slide",e),a===o?l("update",!1)():r===s?l("update",!0)():Bp.loadTemplate(t.template_paths,r,l("draw",!0),t.auto_resize,t.enable_customer_analytics))};var Qp=null;function e_(){Qp||(Qp={furniture:document.querySelector(".story-furniture"),progress:document.querySelector(".progress span, .progress-indicator .progress"),previous:document.querySelector(".previous"),next:document.querySelector(".next"),first:document.querySelector(".first"),last:document.querySelector(".last"),count_current:document.querySelector(".count .current, .count-current"),count_total:document.querySelector(".count .total, .count-total")})}function t_(e){e&&Jp.notifyParentWindow(e,{player:!0})}function n_(){var e=0,t=document.querySelector(".story-furniture");return t&&"absolute"!==getComputedStyle(t).position&&(e=t.offsetHeight),e}function a_(e){return""===e}function r_(){return!1}function i_(e,t){return e.filter(((e,n)=>n!==t))}function o_(e){const t={left:[],right:[]},n=function(n=[[]],a=[[]],r={}){const{left_index:i=n.length-1,right_index:o=0,left_keep:s=!0,right_keep:l=!0}=r;t.left=[],t.right=[];const d=new Map;for(let e=1;e<a.length;e++){const t=a[e],n=t[o],r=l?t.slice():t.filter(((e,t)=>t!==o));d.has(n)||d.set(n,[]),d.get(n).push({data:r,join_value:n,row_index:e})}const u=s?n[0].slice():i_(n[0],i),c=l?a[0].slice():i_(a[0],o),m=[u.concat(c)],p="left"===e||"full"===e,_="right"===e||"full"===e,h=Array(u.length).fill(""),f=Array(c.length).fill(""),y=new Map(Array.from(d.entries()));for(let e=1;e<n.length;e++){const a=n[e],r=a[i],o=s?a:a.filter(((e,t)=>t!==i)),l=d.get(r);if(l){for(const e of l)m.push(o.concat(e.data));y.delete(r)}else{p&&m.push(o.concat(f));const n=p?m.length-1:null;t.left.push({input_row:e,output_row:n,value:r})}}for(const e of function(e){const t=Array.from(e.values()),n=[];for(const e of t)for(const t of e)n.push(t);return n.sort(((e,t)=>e.row_index-t.row_index))}(y)){_&&m.push(h.concat(e.data));const n=_?m.length-1:null;t.right.push({input_row:e.row_index,output_row:n,value:e.join_value})}return m};return n.getLastUnmatched=function(){return JSON.parse(JSON.stringify(t))},n}Xp.prototype.updateControls=function(){var e,t=this,n=t.current_slide;e=t.story.slides.length<2?0:n.index/(t.story.slides.length-1),e_(),Qp.progress&&(Qp.progress.style.width=100*e+"%"),document.querySelector("nav")?(t.noSlidesBefore()?(Qp.previous.setAttribute("disabled",""),Qp.first.setAttribute("disabled","")):(Qp.previous.removeAttribute("disabled"),Qp.first.removeAttribute("disabled")),t.noSlidesAfter()?(Qp.next.setAttribute("disabled",""),Qp.last.setAttribute("disabled","")):(Qp.next.removeAttribute("disabled"),Qp.last.removeAttribute("disabled"))):(t.noSlidesBefore()?(Qp.previous&&Qp.previous.classList.add("disabled"),Qp.first&&Qp.first.classList.add("disabled")):(Qp.previous&&Qp.previous.classList.remove("disabled"),Qp.first&&Qp.first.classList.remove("disabled")),t.noSlidesAfter()?(Qp.next&&Qp.next.classList.add("disabled"),Qp.last&&Qp.last.classList.add("disabled")):(Qp.next&&Qp.next.classList.remove("disabled"),Qp.last&&Qp.last.classList.remove("disabled"))),Qp.furniture&&(null!=n&&n.caption_text?Qp.furniture.classList.add("has-caption"):Qp.furniture.classList.remove("has-caption"))},Xp.prototype.updateSlideCount=function(){e_(),Qp.count_current&&(Qp.count_current.innerHTML=this.current_slide.index+1),Qp.count_total&&(Qp.count_total.innerHTML=this.story.slides.length)},Xp.prototype.loadSlideFromHash=function(){var e=window.location.hash;if(e&&e.match(/^#slide-/)){var t=parseInt(e.substr("#slide-".length));this.loadSlide(t),Vp&&Vp.jumpToSlide(t)}},Xp.prototype.updateHeight=function(){var e=document.querySelector("iframe");if(this.auto_resize){t_(e.offsetHeight+n_())}else{var t=document.body.offsetHeight-n_();t!==e.offsetHeight&&(e.style.height=t+"px")}};const s_=o_("left"),l_=o_("inner"),d_=o_("full"),u_=o_("right"),c_={renderer:"flourish.text",rowHeaders:!0,colHeaders:!0,height:Math.min(.65*window.innerHeight*.7,500),rowHeights:23,stretchH:"all",fixedRowsTop:1,selectionMode:"range",readOnly:!0,contextMenu:!1,disableVisualSelection:!0,comments:!1};function m_(e,t={}){const n=Object.assign({},c_,t);return new o.default(e,n)}function p_(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var __={exports:{}};!function(e,t){e.exports=function(){var t,n;function a(){return t.apply(null,arguments)}function r(e){t=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(s(e,t))return!1;return!0}function d(e){return void 0===e}function u(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function m(e,t){var n,a=[],r=e.length;for(n=0;n<r;++n)a.push(t(e[n],n));return a}function p(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,n,a){return $n(e,t,n,a,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=h()),e._pf}function y(e){if(null==e._isValid){var t=f(e),a=n.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&a);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function g(e){var t=_(NaN);return null!=e?p(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),a=n.length>>>0;for(t=0;t<a;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var v=a.momentProperties=[],b=!1;function M(e,t){var n,a,r,i=v.length;if(d(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),d(t._i)||(e._i=t._i),d(t._f)||(e._f=t._f),d(t._l)||(e._l=t._l),d(t._strict)||(e._strict=t._strict),d(t._tzm)||(e._tzm=t._tzm),d(t._isUTC)||(e._isUTC=t._isUTC),d(t._offset)||(e._offset=t._offset),d(t._pf)||(e._pf=f(t)),d(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)d(r=t[a=v[n]])||(e[a]=r);return e}function w(e){M(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,a.updateOffset(this),b=!1)}function L(e){return e instanceof w||null!=e&&null!=e._isAMomentObject}function k(e){!1===a.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Y(e,t){var n=!0;return p((function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,e),n){var r,i,o,l=[],d=arguments.length;for(i=0;i<d;i++){if(r="","object"==typeof arguments[i]){for(o in r+="\n["+i+"] ",arguments[0])s(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];l.push(r)}k(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var D,x={};function T(e,t){null!=a.deprecationHandler&&a.deprecationHandler(e,t),x[e]||(k(t),x[e]=!0)}function S(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function H(e){var t,n;for(n in e)s(e,n)&&(S(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function E(e,t){var n,a=p({},e);for(n in t)s(t,n)&&(o(e[n])&&o(t[n])?(a[n]={},p(a[n],e[n]),p(a[n],t[n])):null!=t[n]?a[n]=t[n]:delete a[n]);for(n in e)s(e,n)&&!s(t,n)&&o(e[n])&&(a[n]=p({},a[n]));return a}function j(e){null!=e&&this.set(e)}a.suppressDeprecationWarnings=!1,a.deprecationHandler=null,D=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var A={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function C(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return S(a)?a.call(t,n):a}function O(e,t,n){var a=""+Math.abs(e),r=t-a.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+a}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,N={},R={};function W(e,t,n,a){var r=a;"string"==typeof a&&(r=function(){return this[a]()}),e&&(R[e]=r),t&&(R[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),n&&(R[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,n,a=e.match(F);for(t=0,n=a.length;t<n;t++)R[a[t]]?a[t]=R[a[t]]:a[t]=z(a[t]);return function(t){var r,i="";for(r=0;r<n;r++)i+=S(a[r])?a[r].call(t,e):a[r];return i}}function I(e,t){return e.isValid()?(t=q(t,e.localeData()),N[t]=N[t]||U(t),N[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function a(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;n>=0&&P.test(e);)e=e.replace(P,a),P.lastIndex=0,n-=1;return e}var B={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function J(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(F).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var V="Invalid date";function $(){return this._invalidDate}var G="%d",K=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Q(e,t,n,a){var r=this._relativeTime[n];return S(r)?r(e,t,n,a):r.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return S(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function ae(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,a={};for(n in e)s(e,n)&&(t=ae(n))&&(a[t]=e[n]);return a}var ie={};function oe(e,t){ie[e]=t}function se(e){var t,n=[];for(t in e)s(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4==0&&e%100!=0||e%400==0}function de(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=de(t)),n}function ce(e,t){return function(n){return null!=n?(pe(this,e,n),a.updateOffset(this,t),this):me(this,e)}}function me(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Qe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function _e(e){return S(this[e=ae(e)])?this[e]():this}function he(e,t){if("object"==typeof e){var n,a=se(e=re(e)),r=a.length;for(n=0;n<r;n++)this[a[n].unit](e[a[n].unit])}else if(S(this[e=ae(e)]))return this[e](t);return this}var fe,ye=/\d/,ge=/\d\d/,ve=/\d{3}/,be=/\d{4}/,Me=/[+-]?\d{6}/,we=/\d\d?/,Le=/\d\d\d\d?/,ke=/\d\d\d\d\d\d?/,Ye=/\d{1,3}/,De=/\d{1,4}/,xe=/[+-]?\d{1,6}/,Te=/\d+/,Se=/[+-]?\d+/,He=/Z|[+-]\d\d:?\d\d/gi,Ee=/Z|[+-]\d\d(?::?\d\d)?/gi,je=/[+-]?\d+(\.\d{1,3})?/,Ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ce(e,t,n){fe[e]=S(t)?t:function(e,a){return e&&n?n:t}}function Oe(e,t){return s(fe,e)?fe[e](t._strict,t._locale):new RegExp(Fe(e))}function Fe(e){return Pe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,a,r){return t||n||a||r})))}function Pe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}fe={};var Ne={};function Re(e,t){var n,a,r=t;for("string"==typeof e&&(e=[e]),u(t)&&(r=function(e,n){n[t]=ue(e)}),a=e.length,n=0;n<a;n++)Ne[e[n]]=r}function We(e,t){Re(e,(function(e,n,a,r){a._w=a._w||{},t(e,a._w,a,r)}))}function ze(e,t,n){null!=t&&s(Ne,e)&&Ne[e](t,n._a,n,e)}var Ue,Ie=0,qe=1,Be=2,Je=3,Ve=4,$e=5,Ge=6,Ke=7,Ze=8;function Xe(e,t){return(e%t+t)%t}function Qe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}Ue=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},W("M",["MM",2],"Mo",(function(){return this.month()+1})),W("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),W("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Ce("M",we),Ce("MM",we,ge),Ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),Ce("MMMM",(function(e,t){return t.monthsRegex(e)})),Re(["M","MM"],(function(e,t){t[qe]=ue(e)-1})),Re(["MMM","MMMM"],(function(e,t,n,a){var r=n._locale.monthsParse(e,a,n._strict);null!=r?t[qe]=r:f(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,at=Ae,rt=Ae;function it(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ot(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function st(e,t,n){var a,r,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)i=_([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Ue.call(this._shortMonthsParse,o))?r:null:-1!==(r=Ue.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=Ue.call(this._shortMonthsParse,o))||-1!==(r=Ue.call(this._longMonthsParse,o))?r:null:-1!==(r=Ue.call(this._longMonthsParse,o))||-1!==(r=Ue.call(this._shortMonthsParse,o))?r:null}function lt(e,t,n){var a,r,i;if(this._monthsParseExact)return st.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(r=_([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[a]||(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[a]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[a].test(e))return a;if(n&&"MMM"===t&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function dt(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=ue(t);else if(!u(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Qe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ut(e){return null!=e?(dt(this,e),a.updateOffset(this,!0),this):me(this,"Month")}function ct(){return Qe(this.year(),this.month())}function mt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||_t.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=at),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(e){return this._monthsParseExact?(s(this,"_monthsRegex")||_t.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=rt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function _t(){function e(e,t){return t.length-e.length}var t,n,a=[],r=[],i=[];for(t=0;t<12;t++)n=_([2e3,t]),a.push(this.monthsShort(n,"")),r.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(a.sort(e),r.sort(e),i.sort(e),t=0;t<12;t++)a[t]=Pe(a[t]),r[t]=Pe(r[t]);for(t=0;t<24;t++)i[t]=Pe(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ht(e){return le(e)?366:365}W("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),W(0,["YY",2],0,(function(){return this.year()%100})),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Ce("Y",Se),Ce("YY",we,ge),Ce("YYYY",De,be),Ce("YYYYY",xe,Me),Ce("YYYYYY",xe,Me),Re(["YYYYY","YYYYYY"],Ie),Re("YYYY",(function(e,t){t[Ie]=2===e.length?a.parseTwoDigitYear(e):ue(e)})),Re("YY",(function(e,t){t[Ie]=a.parseTwoDigitYear(e)})),Re("Y",(function(e,t){t[Ie]=parseInt(e,10)})),a.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var ft=ce("FullYear",!0);function yt(){return le(this.year())}function gt(e,t,n,a,r,i,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,a,r,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,a,r,i,o),s}function vt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var a=7+t-n;return-(7+vt(e,0,a).getUTCDay()-t)%7+a-1}function Mt(e,t,n,a,r){var i,o,s=1+7*(t-1)+(7+n-a)%7+bt(e,a,r);return s<=0?o=ht(i=e-1)+s:s>ht(e)?(i=e+1,o=s-ht(e)):(i=e,o=s),{year:i,dayOfYear:o}}function wt(e,t,n){var a,r,i=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-i-1)/7)+1;return o<1?a=o+Lt(r=e.year()-1,t,n):o>Lt(e.year(),t,n)?(a=o-Lt(e.year(),t,n),r=e.year()+1):(r=e.year(),a=o),{week:a,year:r}}function Lt(e,t,n){var a=bt(e,t,n),r=bt(e+1,t,n);return(ht(e)-a+r)/7}function kt(e){return wt(e,this._week.dow,this._week.doy).week}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Ce("w",we),Ce("ww",we,ge),Ce("W",we),Ce("WW",we,ge),We(["w","ww","W","WW"],(function(e,t,n,a){t[a.substr(0,1)]=ue(e)}));var Yt={dow:0,doy:6};function Dt(){return this._week.dow}function xt(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function St(e){var t=wt(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Ht(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Et(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function jt(e,t){return e.slice(t,7).concat(e.slice(0,t))}W("d",0,"do","day"),W("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),W("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),W("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Ce("d",we),Ce("e",we),Ce("E",we),Ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),We(["dd","ddd","dddd"],(function(e,t,n,a){var r=n._locale.weekdaysParse(e,a,n._strict);null!=r?t.d=r:f(n).invalidWeekday=e})),We(["d","e","E"],(function(e,t,n,a){t[a]=ue(e)}));var At="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ct="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ot="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ft=Ae,Pt=Ae,Nt=Ae;function Rt(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?jt(n,this._week.dow):e?n[e.day()]:n}function Wt(e){return!0===e?jt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?jt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ut(e,t,n){var a,r,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)i=_([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Ue.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ue.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=Ue.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=Ue.call(this._weekdaysParse,o))||-1!==(r=Ue.call(this._shortWeekdaysParse,o))||-1!==(r=Ue.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=Ue.call(this._shortWeekdaysParse,o))||-1!==(r=Ue.call(this._weekdaysParse,o))||-1!==(r=Ue.call(this._minWeekdaysParse,o))?r:null:-1!==(r=Ue.call(this._minWeekdaysParse,o))||-1!==(r=Ue.call(this._weekdaysParse,o))||-1!==(r=Ue.call(this._shortWeekdaysParse,o))?r:null}function It(e,t,n){var a,r,i;if(this._weekdaysParseExact)return Ut.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(r=_([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[a]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[a].test(e))return a;if(n&&"ddd"===t&&this._shortWeekdaysParse[a].test(e))return a;if(n&&"dd"===t&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Ht(e,this.localeData()),this.add(e-t,"d")):t}function Bt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Jt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Et(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Vt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ft),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function $t(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Gt(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Kt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Kt(){function e(e,t){return t.length-e.length}var t,n,a,r,i,o=[],s=[],l=[],d=[];for(t=0;t<7;t++)n=_([2e3,1]).day(t),a=Pe(this.weekdaysMin(n,"")),r=Pe(this.weekdaysShort(n,"")),i=Pe(this.weekdays(n,"")),o.push(a),s.push(r),l.push(i),d.push(a),d.push(r),d.push(i);o.sort(e),s.sort(e),l.sort(e),d.sort(e),this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Qt(e,t){W(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Zt),W("k",["kk",2],0,Xt),W("hmm",0,0,(function(){return""+Zt.apply(this)+O(this.minutes(),2)})),W("hmmss",0,0,(function(){return""+Zt.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),W("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),W("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Qt("a",!0),Qt("A",!1),ne("hour","h"),oe("hour",13),Ce("a",en),Ce("A",en),Ce("H",we),Ce("h",we),Ce("k",we),Ce("HH",we,ge),Ce("hh",we,ge),Ce("kk",we,ge),Ce("hmm",Le),Ce("hmmss",ke),Ce("Hmm",Le),Ce("Hmmss",ke),Re(["H","HH"],Je),Re(["k","kk"],(function(e,t,n){var a=ue(e);t[Je]=24===a?0:a})),Re(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Re(["h","hh"],(function(e,t,n){t[Je]=ue(e),f(n).bigHour=!0})),Re("hmm",(function(e,t,n){var a=e.length-2;t[Je]=ue(e.substr(0,a)),t[Ve]=ue(e.substr(a)),f(n).bigHour=!0})),Re("hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[Je]=ue(e.substr(0,a)),t[Ve]=ue(e.substr(a,2)),t[$e]=ue(e.substr(r)),f(n).bigHour=!0})),Re("Hmm",(function(e,t,n){var a=e.length-2;t[Je]=ue(e.substr(0,a)),t[Ve]=ue(e.substr(a))})),Re("Hmmss",(function(e,t,n){var a=e.length-4,r=e.length-2;t[Je]=ue(e.substr(0,a)),t[Ve]=ue(e.substr(a,2)),t[$e]=ue(e.substr(r))}));var nn=/[ap]\.?m?\.?/i,an=ce("Hours",!0);function rn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,sn={calendar:A,longDateFormat:B,invalidDate:V,ordinal:G,dayOfMonthOrdinalParse:K,relativeTime:X,months:et,monthsShort:tt,week:Yt,weekdays:At,weekdaysMin:Ot,weekdaysShort:Ct,meridiemParse:nn},ln={},dn={};function un(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function cn(e){return e?e.toLowerCase().replace("_","-"):e}function mn(e){for(var t,n,a,r,i=0;i<e.length;){for(t=(r=cn(e[i]).split("-")).length,n=(n=cn(e[i+1]))?n.split("-"):null;t>0;){if(a=_n(r.slice(0,t).join("-")))return a;if(n&&n.length>=t&&un(r,n)>=t-1)break;t--}i++}return on}function pn(e){return null!=e.match("^[^/\\\\]*$")}function _n(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&pn(t))try{n=on._abbr,p_("./locale/"+t),hn(n)}catch(e){ln[t]=null}return ln[t]}function hn(e,t){var n;return e&&((n=d(t)?gn(e):fn(e,t))?on=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function fn(e,t){if(null!==t){var n,a=sn;if(t.abbr=e,null!=ln[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])a=ln[t.parentLocale]._config;else{if(null==(n=_n(t.parentLocale)))return dn[t.parentLocale]||(dn[t.parentLocale]=[]),dn[t.parentLocale].push({name:e,config:t}),null;a=n._config}return ln[e]=new j(E(a,t)),dn[e]&&dn[e].forEach((function(e){fn(e.name,e.config)})),hn(e),ln[e]}return delete ln[e],null}function yn(e,t){if(null!=t){var n,a,r=sn;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(E(ln[e]._config,t)):(null!=(a=_n(e))&&(r=a._config),t=E(r,t),null==a&&(t.abbr=e),(n=new j(t)).parentLocale=ln[e],ln[e]=n),hn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===hn()&&hn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!i(e)){if(t=_n(e))return t;e=[e]}return mn(e)}function vn(){return D(ln)}function bn(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[Be]<1||n[Be]>Qe(n[Ie],n[qe])?Be:n[Je]<0||n[Je]>24||24===n[Je]&&(0!==n[Ve]||0!==n[$e]||0!==n[Ge])?Je:n[Ve]<0||n[Ve]>59?Ve:n[$e]<0||n[$e]>59?$e:n[Ge]<0||n[Ge]>999?Ge:-1,f(e)._overflowDayOfYear&&(t<Ie||t>Be)&&(t=Be),f(e)._overflowWeeks&&-1===t&&(t=Ke),f(e)._overflowWeekday&&-1===t&&(t=Ze),f(e).overflow=t),e}var Mn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ln=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Yn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dn=/^\/?Date\((-?\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Sn(e){var t,n,a,r,i,o,s=e._i,l=Mn.exec(s)||wn.exec(s),d=kn.length,u=Yn.length;if(l){for(f(e).iso=!0,t=0,n=d;t<n;t++)if(kn[t][1].exec(l[1])){r=kn[t][0],a=!1!==kn[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Yn[t][1].exec(l[3])){i=(l[2]||" ")+Yn[t][0];break}if(null==i)return void(e._isValid=!1)}if(!a&&null!=i)return void(e._isValid=!1);if(l[4]){if(!Ln.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=r+(i||"")+(o||""),zn(e)}else e._isValid=!1}function Hn(e,t,n,a,r,i){var o=[En(e),tt.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function En(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function jn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function An(e,t,n){return!e||Ct.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(f(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Cn(e,t,n){if(e)return Tn[e];if(t)return 0;var a=parseInt(n,10),r=a%100;return(a-r)/100*60+r}function On(e){var t,n=xn.exec(jn(e._i));if(n){if(t=Hn(n[4],n[3],n[2],n[5],n[6],n[7]),!An(n[1],t,e))return;e._a=t,e._tzm=Cn(n[8],n[9],n[10]),e._d=vt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Fn(e){var t=Dn.exec(e._i);null===t?(Sn(e),!1===e._isValid&&(delete e._isValid,On(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:a.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Pn(e,t,n){return null!=e?e:null!=t?t:n}function Nn(e){var t=new Date(a.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Rn(e){var t,n,a,r,i,o=[];if(!e._d){for(a=Nn(e),e._w&&null==e._a[Be]&&null==e._a[qe]&&Wn(e),null!=e._dayOfYear&&(i=Pn(e._a[Ie],a[Ie]),(e._dayOfYear>ht(i)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=vt(i,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[Be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=a[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Je]&&0===e._a[Ve]&&0===e._a[$e]&&0===e._a[Ge]&&(e._nextDay=!0,e._a[Je]=0),e._d=(e._useUTC?vt:gt).apply(null,o),r=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Je]=24),e._w&&void 0!==e._w.d&&e._w.d!==r&&(f(e).weekdayMismatch=!0)}}function Wn(e){var t,n,a,r,i,o,s,l,d;null!=(t=e._w).GG||null!=t.W||null!=t.E?(i=1,o=4,n=Pn(t.GG,e._a[Ie],wt(Gn(),1,4).year),a=Pn(t.W,1),((r=Pn(t.E,1))<1||r>7)&&(l=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,d=wt(Gn(),i,o),n=Pn(t.gg,e._a[Ie],d.year),a=Pn(t.w,d.week),null!=t.d?((r=t.d)<0||r>6)&&(l=!0):null!=t.e?(r=t.e+i,(t.e<0||t.e>6)&&(l=!0)):r=i),a<1||a>Lt(n,i,o)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=Mt(n,a,r,i,o),e._a[Ie]=s.year,e._dayOfYear=s.dayOfYear)}function zn(e){if(e._f!==a.ISO_8601)if(e._f!==a.RFC_2822){e._a=[],f(e).empty=!0;var t,n,r,i,o,s,l,d=""+e._i,u=d.length,c=0;for(l=(r=q(e._f,e._locale).match(F)||[]).length,t=0;t<l;t++)i=r[t],(n=(d.match(Oe(i,e))||[])[0])&&((o=d.substr(0,d.indexOf(n))).length>0&&f(e).unusedInput.push(o),d=d.slice(d.indexOf(n)+n.length),c+=n.length),R[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),ze(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=u-c,d.length>0&&f(e).unusedInput.push(d),e._a[Je]<=12&&!0===f(e).bigHour&&e._a[Je]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[Je]=Un(e._locale,e._a[Je],e._meridiem),null!==(s=f(e).era)&&(e._a[Ie]=e._locale.erasConvertYear(s,e._a[Ie])),Rn(e),bn(e)}else On(e);else Sn(e)}function Un(e,t,n){var a;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((a=e.isPM(n))&&t<12&&(t+=12),a||12!==t||(t=0),t):t}function In(e){var t,n,a,r,i,o,s=!1,l=e._f.length;if(0===l)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<l;r++)i=0,o=!1,t=M({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],zn(t),y(t)&&(o=!0),i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,s?i<a&&(a=i,n=t):(null==a||i<a||o)&&(a=i,n=t,o&&(s=!0));p(e,n||t)}function qn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=m([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Rn(e)}}function Bn(e){var t=new w(bn(Jn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Jn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),L(t)?new w(bn(t)):(c(t)?e._d=t:i(n)?In(e):n?zn(e):Vn(e),y(e)||(e._d=null),e))}function Vn(e){var t=e._i;d(t)?e._d=new Date(a.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Fn(e):i(t)?(e._a=m(t.slice(0),(function(e){return parseInt(e,10)})),Rn(e)):o(t)?qn(e):u(t)?e._d=new Date(t):a.createFromInputFallback(e)}function $n(e,t,n,a,r){var s={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==n&&!1!==n||(a=n,n=void 0),(o(e)&&l(e)||i(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=a,Bn(s)}function Gn(e,t,n,a){return $n(e,t,n,a,!1)}a.createFromInputFallback=Y("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),a.ISO_8601=function(){},a.RFC_2822=function(){};var Kn=Y("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Zn=Y("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,a;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Gn();for(n=t[0],a=1;a<t.length;++a)t[a].isValid()&&!t[a][e](n)||(n=t[a]);return n}function Qn(){return Xn("isBefore",[].slice.call(arguments,0))}function ea(){return Xn("isAfter",[].slice.call(arguments,0))}var ta=function(){return Date.now?Date.now():+new Date},na=["year","quarter","month","week","day","hour","minute","second","millisecond"];function aa(e){var t,n,a=!1,r=na.length;for(t in e)if(s(e,t)&&(-1===Ue.call(na,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[na[n]]){if(a)return!1;parseFloat(e[na[n]])!==ue(e[na[n]])&&(a=!0)}return!0}function ra(){return this._isValid}function ia(){return Ta(NaN)}function oa(e){var t=re(e),n=t.year||0,a=t.quarter||0,r=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=aa(t),this._milliseconds=+u+1e3*d+6e4*l+1e3*s*60*60,this._days=+o+7*i,this._months=+r+3*a+12*n,this._data={},this._locale=gn(),this._bubble()}function sa(e){return e instanceof oa}function la(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function da(e,t,n){var a,r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(a=0;a<r;a++)(n&&e[a]!==t[a]||!n&&ue(e[a])!==ue(t[a]))&&o++;return o+i}function ua(e,t){W(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+O(~~(e/60),2)+t+O(~~e%60,2)}))}ua("Z",":"),ua("ZZ",""),Ce("Z",Ee),Ce("ZZ",Ee),Re(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=ma(Ee,e)}));var ca=/([\+\-]|\d\d)/gi;function ma(e,t){var n,a,r=(t||"").match(e);return null===r?null:0===(a=60*(n=((r[r.length-1]||[])+"").match(ca)||["-",0,0])[1]+ue(n[2]))?0:"+"===n[0]?a:-a}function pa(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(L(e)||c(e)?e.valueOf():Gn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),a.updateOffset(n,!1),n):Gn(e).local()}function _a(e){return-Math.round(e._d.getTimezoneOffset())}function ha(e,t,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=ma(Ee,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=_a(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!t||this._changeInProgress?Aa(this,Ta(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:_a(this)}function fa(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ya(e){return this.utcOffset(0,e)}function ga(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(_a(this),"m")),this}function va(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=ma(He,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function ba(e){return!!this.isValid()&&(e=e?Gn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ma(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wa(){if(!d(this._isDSTShifted))return this._isDSTShifted;var e,t={};return M(t,this),(t=Jn(t))._a?(e=t._isUTC?_(t._a):Gn(t._a),this._isDSTShifted=this.isValid()&&da(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function La(){return!!this.isValid()&&!this._isUTC}function ka(){return!!this.isValid()&&this._isUTC}function Ya(){return!!this.isValid()&&this._isUTC&&0===this._offset}a.updateOffset=function(){};var Da=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xa=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ta(e,t){var n,a,r,i=e,o=null;return sa(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(o=Da.exec(e))?(n="-"===o[1]?-1:1,i={y:0,d:ue(o[Be])*n,h:ue(o[Je])*n,m:ue(o[Ve])*n,s:ue(o[$e])*n,ms:ue(la(1e3*o[Ge]))*n}):(o=xa.exec(e))?(n="-"===o[1]?-1:1,i={y:Sa(o[2],n),M:Sa(o[3],n),w:Sa(o[4],n),d:Sa(o[5],n),h:Sa(o[6],n),m:Sa(o[7],n),s:Sa(o[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(r=Ea(Gn(i.from),Gn(i.to)),(i={}).ms=r.milliseconds,i.M=r.months),a=new oa(i),sa(e)&&s(e,"_locale")&&(a._locale=e._locale),sa(e)&&s(e,"_isValid")&&(a._isValid=e._isValid),a}function Sa(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ha(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ea(e,t){var n;return e.isValid()&&t.isValid()?(t=pa(t,e),e.isBefore(t)?n=Ha(e,t):((n=Ha(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function ja(e,t){return function(n,a){var r;return null===a||isNaN(+a)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=a,a=r),Aa(this,Ta(n,a),e),this}}function Aa(e,t,n,r){var i=t._milliseconds,o=la(t._days),s=la(t._months);e.isValid()&&(r=null==r||r,s&&dt(e,me(e,"Month")+s*n),o&&pe(e,"Date",me(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),r&&a.updateOffset(e,o||s))}Ta.fn=oa.prototype,Ta.invalid=ia;var Ca=ja(1,"add"),Oa=ja(-1,"subtract");function Fa(e){return"string"==typeof e||e instanceof String}function Pa(e){return L(e)||c(e)||Fa(e)||u(e)||Ra(e)||Na(e)||null==e}function Na(e){var t,n,a=o(e)&&!l(e),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],d=i.length;for(t=0;t<d;t+=1)n=i[t],r=r||s(e,n);return a&&r}function Ra(e){var t=i(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Fa(e)})).length),t&&n}function Wa(e){var t,n,a=o(e)&&!l(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)n=i[t],r=r||s(e,n);return a&&r}function za(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ua(e,t){1===arguments.length&&(arguments[0]?Pa(arguments[0])?(e=arguments[0],t=void 0):Wa(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Gn(),r=pa(n,this).startOf("day"),i=a.calendarFormat(this,r)||"sameElse",o=t&&(S(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Gn(n)))}function Ia(){return new w(this)}function qa(e,t){var n=L(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ae(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Ba(e,t){var n=L(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ae(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Ja(e,t,n,a){var r=L(e)?e:Gn(e),i=L(t)?t:Gn(t);return!!(this.isValid()&&r.isValid()&&i.isValid())&&("("===(a=a||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===a[1]?this.isBefore(i,n):!this.isAfter(i,n))}function Va(e,t){var n,a=L(e)?e:Gn(e);return!(!this.isValid()||!a.isValid())&&("millisecond"===(t=ae(t)||"millisecond")?this.valueOf()===a.valueOf():(n=a.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function $a(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Ga(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Ka(e,t,n){var a,r,i;if(!this.isValid())return NaN;if(!(a=pa(e,this)).isValid())return NaN;switch(r=6e4*(a.utcOffset()-this.utcOffset()),t=ae(t)){case"year":i=Za(this,a)/12;break;case"month":i=Za(this,a);break;case"quarter":i=Za(this,a)/3;break;case"second":i=(this-a)/1e3;break;case"minute":i=(this-a)/6e4;break;case"hour":i=(this-a)/36e5;break;case"day":i=(this-a-r)/864e5;break;case"week":i=(this-a-r)/6048e5;break;default:i=this-a}return n?i:de(i)}function Za(e,t){if(e.date()<t.date())return-Za(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),a=e.clone().add(n,"months");return-(n+(t-a<0?(t-a)/(a-e.clone().add(n-1,"months")):(t-a)/(e.clone().add(n+1,"months")-a)))||0}function Xa(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Qa(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?I(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):S(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",I(n,"Z")):I(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function er(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,a,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",a=i+'[")]',this.format(e+t+n+a)}function tr(e){e||(e=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var t=I(this,e);return this.localeData().postformat(t)}function nr(e,t){return this.isValid()&&(L(e)&&e.isValid()||Gn(e).isValid())?Ta({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ar(e){return this.from(Gn(),e)}function rr(e,t){return this.isValid()&&(L(e)&&e.isValid()||Gn(e).isValid())?Ta({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ir(e){return this.to(Gn(),e)}function or(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=Y("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function lr(){return this._locale}var dr=1e3,ur=60*dr,cr=60*ur,mr=3506328*cr;function pr(e,t){return(e%t+t)%t}function _r(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-mr:new Date(e,t,n).valueOf()}function hr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-mr:Date.UTC(e,t,n)}function fr(e){var t,n;if(void 0===(e=ae(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hr:_r,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pr(t+(this._isUTC?0:this.utcOffset()*ur),cr);break;case"minute":t=this._d.valueOf(),t-=pr(t,ur);break;case"second":t=this._d.valueOf(),t-=pr(t,dr)}return this._d.setTime(t),a.updateOffset(this,!0),this}function yr(e){var t,n;if(void 0===(e=ae(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?hr:_r,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=cr-pr(t+(this._isUTC?0:this.utcOffset()*ur),cr)-1;break;case"minute":t=this._d.valueOf(),t+=ur-pr(t,ur)-1;break;case"second":t=this._d.valueOf(),t+=dr-pr(t,dr)-1}return this._d.setTime(t),a.updateOffset(this,!0),this}function gr(){return this._d.valueOf()-6e4*(this._offset||0)}function vr(){return Math.floor(this.valueOf()/1e3)}function br(){return new Date(this.valueOf())}function Mr(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wr(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Lr(){return this.isValid()?this.toISOString():null}function kr(){return y(this)}function Yr(){return p({},f(this))}function Dr(){return f(this).overflow}function xr(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Tr(e,t){var n,r,i,o=this._eras||gn("en")._eras;for(n=0,r=o.length;n<r;++n)switch("string"==typeof o[n].since&&(i=a(o[n].since).startOf("day"),o[n].since=i.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":i=a(o[n].until).startOf("day").valueOf(),o[n].until=i.valueOf()}return o}function Sr(e,t,n){var a,r,i,o,s,l=this.eras();for(e=e.toUpperCase(),a=0,r=l.length;a<r;++a)if(i=l[a].name.toUpperCase(),o=l[a].abbr.toUpperCase(),s=l[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[a];break;case"NNNN":if(i===e)return l[a];break;case"NNNNN":if(s===e)return l[a]}else if([i,o,s].indexOf(e)>=0)return l[a]}function Hr(e,t){var n=e.since<=e.until?1:-1;return void 0===t?a(e.since).year():a(e.since).year()+(t-e.offset)*n}function Er(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].name;if(a[e].until<=n&&n<=a[e].since)return a[e].name}return""}function jr(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].narrow;if(a[e].until<=n&&n<=a[e].since)return a[e].narrow}return""}function Ar(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until)return a[e].abbr;if(a[e].until<=n&&n<=a[e].since)return a[e].abbr}return""}function Cr(){var e,t,n,r,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,r=this.clone().startOf("day").valueOf(),i[e].since<=r&&r<=i[e].until||i[e].until<=r&&r<=i[e].since)return(this.year()-a(i[e].since).year())*n+i[e].offset;return this.year()}function Or(e){return s(this,"_erasNameRegex")||Ur.call(this),e?this._erasNameRegex:this._erasRegex}function Fr(e){return s(this,"_erasAbbrRegex")||Ur.call(this),e?this._erasAbbrRegex:this._erasRegex}function Pr(e){return s(this,"_erasNarrowRegex")||Ur.call(this),e?this._erasNarrowRegex:this._erasRegex}function Nr(e,t){return t.erasAbbrRegex(e)}function Rr(e,t){return t.erasNameRegex(e)}function Wr(e,t){return t.erasNarrowRegex(e)}function zr(e,t){return t._eraYearOrdinalRegex||Te}function Ur(){var e,t,n=[],a=[],r=[],i=[],o=this.eras();for(e=0,t=o.length;e<t;++e)a.push(Pe(o[e].name)),n.push(Pe(o[e].abbr)),r.push(Pe(o[e].narrow)),i.push(Pe(o[e].name)),i.push(Pe(o[e].abbr)),i.push(Pe(o[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function Ir(e,t){W(0,[e,e.length],0,t)}function qr(e){return Kr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Br(e){return Kr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Jr(){return Lt(this.year(),1,4)}function Vr(){return Lt(this.isoWeekYear(),1,4)}function $r(){var e=this.localeData()._week;return Lt(this.year(),e.dow,e.doy)}function Gr(){var e=this.localeData()._week;return Lt(this.weekYear(),e.dow,e.doy)}function Kr(e,t,n,a,r){var i;return null==e?wt(this,a,r).year:(t>(i=Lt(e,a,r))&&(t=i),Zr.call(this,e,t,n,a,r))}function Zr(e,t,n,a,r){var i=Mt(e,t,n,a,r),o=vt(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xr(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}W("N",0,0,"eraAbbr"),W("NN",0,0,"eraAbbr"),W("NNN",0,0,"eraAbbr"),W("NNNN",0,0,"eraName"),W("NNNNN",0,0,"eraNarrow"),W("y",["y",1],"yo","eraYear"),W("y",["yy",2],0,"eraYear"),W("y",["yyy",3],0,"eraYear"),W("y",["yyyy",4],0,"eraYear"),Ce("N",Nr),Ce("NN",Nr),Ce("NNN",Nr),Ce("NNNN",Rr),Ce("NNNNN",Wr),Re(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,a){var r=n._locale.erasParse(e,a,n._strict);r?f(n).era=r:f(n).invalidEra=e})),Ce("y",Te),Ce("yy",Te),Ce("yyy",Te),Ce("yyyy",Te),Ce("yo",zr),Re(["y","yy","yyy","yyyy"],Ie),Re(["yo"],(function(e,t,n,a){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ie]=n._locale.eraYearOrdinalParse(e,r):t[Ie]=parseInt(e,10)})),W(0,["gg",2],0,(function(){return this.weekYear()%100})),W(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ir("gggg","weekYear"),Ir("ggggg","weekYear"),Ir("GGGG","isoWeekYear"),Ir("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Ce("G",Se),Ce("g",Se),Ce("GG",we,ge),Ce("gg",we,ge),Ce("GGGG",De,be),Ce("gggg",De,be),Ce("GGGGG",xe,Me),Ce("ggggg",xe,Me),We(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,a){t[a.substr(0,2)]=ue(e)})),We(["gg","GG"],(function(e,t,n,r){t[r]=a.parseTwoDigitYear(e)})),W("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Ce("Q",ye),Re("Q",(function(e,t){t[qe]=3*(ue(e)-1)})),W("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Ce("D",we),Ce("DD",we,ge),Ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Re(["D","DD"],Be),Re("Do",(function(e,t){t[Be]=ue(e.match(we)[0])}));var Qr=ce("Date",!0);function ei(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}W("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Ce("DDD",Ye),Ce("DDDD",ve),Re(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ue(e)})),W("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Ce("m",we),Ce("mm",we,ge),Re(["m","mm"],Ve);var ti=ce("Minutes",!1);W("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Ce("s",we),Ce("ss",we,ge),Re(["s","ss"],$e);var ni,ai,ri=ce("Seconds",!1);for(W("S",0,0,(function(){return~~(this.millisecond()/100)})),W(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),W(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),W(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),W(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),W(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),W(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Ce("S",Ye,ye),Ce("SS",Ye,ge),Ce("SSS",Ye,ve),ni="SSSS";ni.length<=9;ni+="S")Ce(ni,Te);function ii(e,t){t[Ge]=ue(1e3*("0."+e))}for(ni="S";ni.length<=9;ni+="S")Re(ni,ii);function oi(){return this._isUTC?"UTC":""}function si(){return this._isUTC?"Coordinated Universal Time":""}ai=ce("Milliseconds",!1),W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var li=w.prototype;function di(e){return Gn(1e3*e)}function ui(){return Gn.apply(null,arguments).parseZone()}function ci(e){return e}li.add=Ca,li.calendar=Ua,li.clone=Ia,li.diff=Ka,li.endOf=yr,li.format=tr,li.from=nr,li.fromNow=ar,li.to=rr,li.toNow=ir,li.get=_e,li.invalidAt=Dr,li.isAfter=qa,li.isBefore=Ba,li.isBetween=Ja,li.isSame=Va,li.isSameOrAfter=$a,li.isSameOrBefore=Ga,li.isValid=kr,li.lang=sr,li.locale=or,li.localeData=lr,li.max=Zn,li.min=Kn,li.parsingFlags=Yr,li.set=he,li.startOf=fr,li.subtract=Oa,li.toArray=Mr,li.toObject=wr,li.toDate=br,li.toISOString=Qa,li.inspect=er,"undefined"!=typeof Symbol&&null!=Symbol.for&&(li[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),li.toJSON=Lr,li.toString=Xa,li.unix=vr,li.valueOf=gr,li.creationData=xr,li.eraName=Er,li.eraNarrow=jr,li.eraAbbr=Ar,li.eraYear=Cr,li.year=ft,li.isLeapYear=yt,li.weekYear=qr,li.isoWeekYear=Br,li.quarter=li.quarters=Xr,li.month=ut,li.daysInMonth=ct,li.week=li.weeks=Tt,li.isoWeek=li.isoWeeks=St,li.weeksInYear=$r,li.weeksInWeekYear=Gr,li.isoWeeksInYear=Jr,li.isoWeeksInISOWeekYear=Vr,li.date=Qr,li.day=li.days=qt,li.weekday=Bt,li.isoWeekday=Jt,li.dayOfYear=ei,li.hour=li.hours=an,li.minute=li.minutes=ti,li.second=li.seconds=ri,li.millisecond=li.milliseconds=ai,li.utcOffset=ha,li.utc=ya,li.local=ga,li.parseZone=va,li.hasAlignedHourOffset=ba,li.isDST=Ma,li.isLocal=La,li.isUtcOffset=ka,li.isUtc=Ya,li.isUTC=Ya,li.zoneAbbr=oi,li.zoneName=si,li.dates=Y("dates accessor is deprecated. Use date instead.",Qr),li.months=Y("months accessor is deprecated. Use month instead",ut),li.years=Y("years accessor is deprecated. Use year instead",ft),li.zone=Y("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fa),li.isDSTShifted=Y("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wa);var mi=j.prototype;function pi(e,t,n,a){var r=gn(),i=_().set(a,t);return r[n](i,e)}function _i(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return pi(e,t,n,"month");var a,r=[];for(a=0;a<12;a++)r[a]=pi(e,a,n,"month");return r}function hi(e,t,n,a){"boolean"==typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var r,i=gn(),o=e?i._week.dow:0,s=[];if(null!=n)return pi(t,(n+o)%7,a,"day");for(r=0;r<7;r++)s[r]=pi(t,(r+o)%7,a,"day");return s}function fi(e,t){return _i(e,t,"months")}function yi(e,t){return _i(e,t,"monthsShort")}function gi(e,t,n){return hi(e,t,n,"weekdays")}function vi(e,t,n){return hi(e,t,n,"weekdaysShort")}function bi(e,t,n){return hi(e,t,n,"weekdaysMin")}mi.calendar=C,mi.longDateFormat=J,mi.invalidDate=$,mi.ordinal=Z,mi.preparse=ci,mi.postformat=ci,mi.relativeTime=Q,mi.pastFuture=ee,mi.set=H,mi.eras=Tr,mi.erasParse=Sr,mi.erasConvertYear=Hr,mi.erasAbbrRegex=Fr,mi.erasNameRegex=Or,mi.erasNarrowRegex=Pr,mi.months=it,mi.monthsShort=ot,mi.monthsParse=lt,mi.monthsRegex=pt,mi.monthsShortRegex=mt,mi.week=kt,mi.firstDayOfYear=xt,mi.firstDayOfWeek=Dt,mi.weekdays=Rt,mi.weekdaysMin=zt,mi.weekdaysShort=Wt,mi.weekdaysParse=It,mi.weekdaysRegex=Vt,mi.weekdaysShortRegex=$t,mi.weekdaysMinRegex=Gt,mi.isPM=tn,mi.meridiem=rn,hn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ue(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),a.lang=Y("moment.lang is deprecated. Use moment.locale instead.",hn),a.langData=Y("moment.langData is deprecated. Use moment.localeData instead.",gn);var Mi=Math.abs;function wi(){var e=this._data;return this._milliseconds=Mi(this._milliseconds),this._days=Mi(this._days),this._months=Mi(this._months),e.milliseconds=Mi(e.milliseconds),e.seconds=Mi(e.seconds),e.minutes=Mi(e.minutes),e.hours=Mi(e.hours),e.months=Mi(e.months),e.years=Mi(e.years),this}function Li(e,t,n,a){var r=Ta(t,n);return e._milliseconds+=a*r._milliseconds,e._days+=a*r._days,e._months+=a*r._months,e._bubble()}function ki(e,t){return Li(this,e,t,1)}function Yi(e,t){return Li(this,e,t,-1)}function Di(e){return e<0?Math.floor(e):Math.ceil(e)}function xi(){var e,t,n,a,r,i=this._milliseconds,o=this._days,s=this._months,l=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*Di(Si(s)+o),o=0,s=0),l.milliseconds=i%1e3,e=de(i/1e3),l.seconds=e%60,t=de(e/60),l.minutes=t%60,n=de(t/60),l.hours=n%24,o+=de(n/24),s+=r=de(Ti(o)),o-=Di(Si(r)),a=de(s/12),s%=12,l.days=o,l.months=s,l.years=a,this}function Ti(e){return 4800*e/146097}function Si(e){return 146097*e/4800}function Hi(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if("month"===(e=ae(e))||"quarter"===e||"year"===e)switch(t=this._days+a/864e5,n=this._months+Ti(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Si(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return 24*t+a/36e5;case"minute":return 1440*t+a/6e4;case"second":return 86400*t+a/1e3;case"millisecond":return Math.floor(864e5*t)+a;default:throw new Error("Unknown unit "+e)}}function Ei(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ue(this._months/12):NaN}function ji(e){return function(){return this.as(e)}}var Ai=ji("ms"),Ci=ji("s"),Oi=ji("m"),Fi=ji("h"),Pi=ji("d"),Ni=ji("w"),Ri=ji("M"),Wi=ji("Q"),zi=ji("y");function Ui(){return Ta(this)}function Ii(e){return e=ae(e),this.isValid()?this[e+"s"]():NaN}function qi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Bi=qi("milliseconds"),Ji=qi("seconds"),Vi=qi("minutes"),$i=qi("hours"),Gi=qi("days"),Ki=qi("months"),Zi=qi("years");function Xi(){return de(this.days()/7)}var Qi=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,a,r){return r.relativeTime(t||1,!!n,e,a)}function no(e,t,n,a){var r=Ta(e).abs(),i=Qi(r.as("s")),o=Qi(r.as("m")),s=Qi(r.as("h")),l=Qi(r.as("d")),d=Qi(r.as("M")),u=Qi(r.as("w")),c=Qi(r.as("y")),m=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(m=m||u<=1&&["w"]||u<n.w&&["ww",u]),(m=m||d<=1&&["M"]||d<n.M&&["MM",d]||c<=1&&["y"]||["yy",c])[2]=t,m[3]=+e>0,m[4]=a,to.apply(null,m)}function ao(e){return void 0===e?Qi:"function"==typeof e&&(Qi=e,!0)}function ro(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function io(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,a,r=!1,i=eo;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(i=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),a=no(this,!r,i,n=this.localeData()),r&&(a=n.pastFuture(+this,a)),n.postformat(a)}var oo=Math.abs;function so(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,a,r,i,o,s,l=oo(this._milliseconds)/1e3,d=oo(this._days),u=oo(this._months),c=this.asSeconds();return c?(e=de(l/60),t=de(e/60),l%=60,e%=60,n=de(u/12),u%=12,a=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=c<0?"-":"",i=so(this._months)!==so(c)?"-":"",o=so(this._days)!==so(c)?"-":"",s=so(this._milliseconds)!==so(c)?"-":"",r+"P"+(n?i+n+"Y":"")+(u?i+u+"M":"")+(d?o+d+"D":"")+(t||e||l?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(l?s+a+"S":"")):"P0D"}var uo=oa.prototype;uo.isValid=ra,uo.abs=wi,uo.add=ki,uo.subtract=Yi,uo.as=Hi,uo.asMilliseconds=Ai,uo.asSeconds=Ci,uo.asMinutes=Oi,uo.asHours=Fi,uo.asDays=Pi,uo.asWeeks=Ni,uo.asMonths=Ri,uo.asQuarters=Wi,uo.asYears=zi,uo.valueOf=Ei,uo._bubble=xi,uo.clone=Ui,uo.get=Ii,uo.milliseconds=Bi,uo.seconds=Ji,uo.minutes=Vi,uo.hours=$i,uo.days=Gi,uo.weeks=Xi,uo.months=Ki,uo.years=Zi,uo.humanize=io,uo.toISOString=lo,uo.toString=lo,uo.toJSON=lo,uo.locale=or,uo.localeData=lr,uo.toIsoString=Y("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),uo.lang=sr,W("X",0,0,"unix"),W("x",0,0,"valueOf"),Ce("x",Se),Ce("X",je),Re("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Re("x",(function(e,t,n){n._d=new Date(ue(e))})),
//! moment.js
a.version="2.29.4",r(Gn),a.fn=li,a.min=Qn,a.max=ea,a.now=ta,a.utc=_,a.unix=di,a.months=fi,a.isDate=c,a.locale=hn,a.invalid=g,a.duration=Ta,a.isMoment=L,a.weekdays=gi,a.parseZone=ui,a.localeData=gn,a.isDuration=sa,a.monthsShort=yi,a.weekdaysMin=bi,a.defineLocale=fn,a.updateLocale=yn,a.locales=vn,a.weekdaysShort=vi,a.normalizeUnits=ae,a.relativeTimeRounding=ao,a.relativeTimeThreshold=ro,a.calendarFormat=za,a.prototype=li,a.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},
//! moment.js locale configuration
a.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});
//! moment.js locale configuration
var co=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},mo={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},po=function(e){return function(t,n,a,r){var i=co(t),o=mo[e][co(t)];return 2===i&&(o=o[n?0:1]),o.replace(/%d/i,t)}},_o=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];a.defineLocale("ar-dz",{months:_o,monthsShort:_o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:po("s"),ss:po("s"),m:po("m"),mm:po("m"),h:po("h"),hh:po("h"),d:po("d"),dd:po("d"),M:po("M"),MM:po("M"),y:po("y"),yy:po("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}}),
//! moment.js locale configuration
a.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}});
//! moment.js locale configuration
var ho={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},fo=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},yo={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},go=function(e){return function(t,n,a,r){var i=fo(t),o=yo[e][fo(t)];return 2===i&&(o=o[n?0:1]),o.replace(/%d/i,t)}},vo=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];a.defineLocale("ar-ly",{months:vo,monthsShort:vo,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:go("s"),ss:go("s"),m:go("m"),mm:go("m"),h:go("h"),hh:go("h"),d:go("d"),dd:go("d"),M:go("M"),MM:go("M"),y:go("y"),yy:go("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return ho[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}}),
//! moment.js locale configuration
a.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});
//! moment.js locale configuration
var bo={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},Mo={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};a.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return Mo[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return bo[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}});
//! moment.js locale configuration
var wo={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},Lo={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},ko=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},Yo={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},Do=function(e){return function(t,n,a,r){var i=ko(t),o=Yo[e][ko(t)];return 2===i&&(o=o[n?0:1]),o.replace(/%d/i,t)}},xo=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];a.defineLocale("ar",{months:xo,monthsShort:xo,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:Do("s"),ss:Do("s"),m:Do("m"),mm:Do("m"),h:Do("h"),hh:Do("h"),d:Do("d"),dd:Do("d"),M:Do("M"),MM:Do("M"),y:Do("y"),yy:Do("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return Lo[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return wo[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}});
//! moment.js locale configuration
var To={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};
//! moment.js locale configuration
function So(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function Ho(e,t,n){return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+So({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n],+e)}a.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var t=e%10,n=e%100-t,a=e>=100?100:null;return e+(To[t]||To[n]||To[a])},week:{dow:1,doy:7}}),a.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:Ho,mm:Ho,h:Ho,hh:Ho,d:"дзень",dd:Ho,M:"месяц",MM:Ho,y:"год",yy:Ho},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Eo={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},jo={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};a.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return jo[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Eo[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}});
//! moment.js locale configuration
var Ao={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},Co={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};a.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return Co[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Ao[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}});
//! moment.js locale configuration
var Oo={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},Fo={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};
//! moment.js locale configuration
function Po(e,t,n){return e+" "+Wo({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function No(e){switch(Ro(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function Ro(e){return e>9?Ro(e%10):e}function Wo(e,t){return 2===t?zo(e):e}function zo(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}a.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return Fo[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Oo[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}});var Uo=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],Io=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,qo=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,Bo=/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,Jo=[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],Vo=[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],$o=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];
//! moment.js locale configuration
function Go(e,t,n){var a=e+" ";switch(n){case"ss":return a+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}a.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:$o,fullWeekdaysParse:Jo,shortWeekdaysParse:Vo,minWeekdaysParse:$o,monthsRegex:Io,monthsShortRegex:Io,monthsStrictRegex:qo,monthsShortStrictRegex:Bo,monthsParse:Uo,longMonthsParse:Uo,shortMonthsParse:Uo,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:Po,h:"un eur",hh:"%d eur",d:"un devezh",dd:Po,M:"ur miz",MM:Po,y:"ur bloaz",yy:No},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}}),a.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:Go,m:Go,mm:Go,h:Go,hh:Go,d:"dan",dd:Go,M:"mjesec",MM:Go,y:"godinu",yy:Go},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Ko={format:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),standalone:"ledna_února_března_dubna_května_června_července_srpna_září_října_listopadu_prosince".split("_")},Zo="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),Xo=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],Qo=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function es(e){return e>1&&e<5&&1!=~~(e/10)}function ts(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pár sekund":"pár sekundami";case"ss":return t||a?r+(es(e)?"sekundy":"sekund"):r+"sekundami";case"m":return t?"minuta":a?"minutu":"minutou";case"mm":return t||a?r+(es(e)?"minuty":"minut"):r+"minutami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?r+(es(e)?"hodiny":"hodin"):r+"hodinami";case"d":return t||a?"den":"dnem";case"dd":return t||a?r+(es(e)?"dny":"dní"):r+"dny";case"M":return t||a?"měsíc":"měsícem";case"MM":return t||a?r+(es(e)?"měsíce":"měsíců"):r+"měsíci";case"y":return t||a?"rok":"rokem";case"yy":return t||a?r+(es(e)?"roky":"let"):r+"lety"}}
//! moment.js locale configuration
function ns(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}
//! moment.js locale configuration
function as(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}
//! moment.js locale configuration
function rs(e,t,n,a){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[n][0]:r[n][1]}a.defineLocale("cs",{months:Ko,monthsShort:Zo,monthsRegex:Qo,monthsShortRegex:Qo,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:Xo,longMonthsParse:Xo,shortMonthsParse:Xo,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:ts,ss:ts,m:ts,mm:ts,h:ts,hh:ts,d:ts,dd:ts,M:ts,MM:ts,y:ts,yy:ts},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:ns,mm:"%d Minuten",h:ns,hh:"%d Stunden",d:ns,dd:ns,w:ns,ww:"%d Wochen",M:ns,MM:ns,y:ns,yy:ns},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:as,mm:"%d Minuten",h:as,hh:"%d Stunden",d:as,dd:as,w:as,ww:"%d Wochen",M:as,MM:as,y:as,yy:as},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:rs,mm:"%d Minuten",h:rs,hh:"%d Stunden",d:rs,dd:rs,w:rs,ww:"%d Wochen",M:rs,MM:rs,y:rs,yy:rs},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
var is=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],os=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];
//! moment.js locale configuration
function ss(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}a.defineLocale("dv",{months:is,monthsShort:is,weekdays:os,weekdaysShort:os,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}}),a.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){return 6===this.day()?"[το προηγούμενο] dddd [{}] LT":"[την προηγούμενη] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],a=t&&t.hours();return ss(n)&&(n=n.apply(t)),n.replace("{}",a%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}}),
//! moment.js locale configuration
a.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),
//! moment.js locale configuration
a.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),
//! moment.js locale configuration
a.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});
//! moment.js locale configuration
var ls="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ds="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),us=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],cs=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?ds[e.month()]:ls[e.month()]:ls},monthsRegex:cs,monthsShortRegex:cs,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:us,longMonthsParse:us,shortMonthsParse:us,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});
//! moment.js locale configuration
var ms="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ps="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),_s=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],hs=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?ps[e.month()]:ms[e.month()]:ms},monthsRegex:hs,monthsShortRegex:hs,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:_s,longMonthsParse:_s,shortMonthsParse:_s,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"});
//! moment.js locale configuration
var fs="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),ys="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),gs=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],vs=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;a.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?ys[e.month()]:fs[e.month()]:fs},monthsRegex:vs,monthsShortRegex:vs,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:gs,longMonthsParse:gs,shortMonthsParse:gs,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}});
//! moment.js locale configuration
var bs="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Ms="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),ws=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],Ls=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;
//! moment.js locale configuration
function ks(e,t,n,a){var r={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?r[n][2]?r[n][2]:r[n][1]:a?r[n][0]:r[n][1]}a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Ms[e.month()]:bs[e.month()]:bs},monthsRegex:Ls,monthsShortRegex:Ls,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:ws,longMonthsParse:ws,shortMonthsParse:ws,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"}),a.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:ks,ss:ks,m:ks,mm:ks,h:ks,hh:ks,d:ks,dd:"%d päeva",M:ks,MM:ks,y:ks,yy:ks},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
var Ys={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},Ds={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};a.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return Ds[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return Ys[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}});
//! moment.js locale configuration
var xs="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),Ts=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",xs[7],xs[8],xs[9]];function Ss(e,t,n,a){var r="";switch(n){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":r=a?"sekunnin":"sekuntia";break;case"m":return a?"minuutin":"minuutti";case"mm":r=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":r=a?"tunnin":"tuntia";break;case"d":return a?"päivän":"päivä";case"dd":r=a?"päivän":"päivää";break;case"M":return a?"kuukauden":"kuukausi";case"MM":r=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":r=a?"vuoden":"vuotta"}return r=Hs(e,a)+" "+r}function Hs(e,t){return e<10?t?Ts[e]:xs[e]:e}a.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:Ss,ss:Ss,m:Ss,mm:Ss,h:Ss,hh:Ss,d:Ss,dd:Ss,M:Ss,MM:Ss,y:Ss,yy:Ss},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}}),
//! moment.js locale configuration
a.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Es=/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,js=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,As=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,Cs=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];a.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:As,monthsShortRegex:As,monthsStrictRegex:Es,monthsShortStrictRegex:js,monthsParse:Cs,longMonthsParse:Cs,shortMonthsParse:Cs,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Os="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Fs="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");a.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Fs[e.month()]:Os[e.month()]:Os},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Ps=["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],Ns=["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],Rs=["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],Ws=["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],zs=["Do","Lu","Má","Cé","Dé","A","Sa"];a.defineLocale("ga",{months:Ps,monthsShort:Ns,monthsParseExact:!0,weekdays:Rs,weekdaysShort:Ws,weekdaysMin:zs,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Us=["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],Is=["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],qs=["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],Bs=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],Js=["Dò","Lu","Mà","Ci","Ar","Ha","Sa"];
//! moment.js locale configuration
function Vs(e,t,n,a){var r={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return a?r[n][0]:r[n][1]}
//! moment.js locale configuration
function $s(e,t,n,a){var r={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return a?r[n][0]:r[n][1]}a.defineLocale("gd",{months:Us,monthsShort:Is,monthsParseExact:!0,weekdays:qs,weekdaysShort:Bs,weekdaysMin:Js,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:Vs,ss:Vs,m:Vs,mm:Vs,h:Vs,hh:Vs,d:Vs,dd:Vs,M:Vs,MM:Vs,y:Vs,yy:Vs},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){return"D"===t?e+"वेर":e},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}}),a.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:$s,ss:$s,m:$s,mm:$s,h:$s,hh:$s,d:$s,dd:$s,M:$s,MM:$s,y:$s,yy:$s},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}});
//! moment.js locale configuration
var Gs={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},Ks={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};a.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return Ks[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Gs[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}});
//! moment.js locale configuration
var Zs={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},Xs={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},Qs=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i],el=[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i];
//! moment.js locale configuration
function tl(e,t,n){var a=e+" ";switch(n){case"ss":return a+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return t?"jedna minuta":"jedne minute";case"mm":return a+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return t?"jedan sat":"jednog sata";case"hh":return a+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return a+=1===e?"dan":"dana";case"MM":return a+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return a+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}a.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:Qs,longMonthsParse:Qs,shortMonthsParse:el,monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return Xs[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Zs[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}}),a.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:tl,m:tl,mm:tl,h:tl,hh:tl,d:"dan",dd:tl,M:"mjesec",MM:tl,y:"godinu",yy:tl},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
var nl="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function al(e,t,n,a){var r=e;switch(n){case"s":return a||t?"néhány másodperc":"néhány másodperce";case"ss":return r+(a||t)?" másodperc":" másodperce";case"m":return"egy"+(a||t?" perc":" perce");case"mm":return r+(a||t?" perc":" perce");case"h":return"egy"+(a||t?" óra":" órája");case"hh":return r+(a||t?" óra":" órája");case"d":return"egy"+(a||t?" nap":" napja");case"dd":return r+(a||t?" nap":" napja");case"M":return"egy"+(a||t?" hónap":" hónapja");case"MM":return r+(a||t?" hónap":" hónapja");case"y":return"egy"+(a||t?" év":" éve");case"yy":return r+(a||t?" év":" éve")}return""}function rl(e){return(e?"":"[múlt] ")+"["+nl[this.day()]+"] LT[-kor]"}
//! moment.js locale configuration
function il(e){return e%100==11||e%10!=1}function ol(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return il(e)?r+(t||a?"sekúndur":"sekúndum"):r+"sekúnda";case"m":return t?"mínúta":"mínútu";case"mm":return il(e)?r+(t||a?"mínútur":"mínútum"):t?r+"mínúta":r+"mínútu";case"hh":return il(e)?r+(t||a?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return t?"dagur":a?"dag":"degi";case"dd":return il(e)?t?r+"dagar":r+(a?"daga":"dögum"):t?r+"dagur":r+(a?"dag":"degi");case"M":return t?"mánuður":a?"mánuð":"mánuði";case"MM":return il(e)?t?r+"mánuðir":r+(a?"mánuði":"mánuðum"):t?r+"mánuður":r+(a?"mánuð":"mánuði");case"y":return t||a?"ár":"ári";case"yy":return il(e)?r+(t||a?"ár":"árum"):r+(t||a?"ár":"ári")}}a.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return rl.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return rl.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:al,ss:al,m:al,mm:al,h:al,hh:al,d:al,dd:al,M:al,MM:al,y:al,yy:al},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}}),a.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:ol,ss:ol,m:ol,mm:ol,h:"klukkustund",hh:ol,d:ol,dd:ol,M:ol,MM:ol,y:ol,yy:ol},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}}),
//! moment.js locale configuration
a.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}});
//! moment.js locale configuration
var sl={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};a.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(sl[e]||sl[t]||sl[n])},week:{dow:1,doy:7}});
//! moment.js locale configuration
var ll={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},dl={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};a.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return dl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return ll[e]}))},week:{dow:1,doy:4}});
//! moment.js locale configuration
var ul={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},cl={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};a.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return cl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return ul[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}});
//! moment.js locale configuration
var ml={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},pl={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},_l=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];a.defineLocale("ku",{months:_l,monthsShort:_l,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return pl[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return ml[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}});
//! moment.js locale configuration
var hl={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};
//! moment.js locale configuration
function fl(e,t,n,a){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[n][0]:r[n][1]}function yl(e){return vl(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e}function gl(e){return vl(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e}function vl(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return vl(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return vl(e)}return vl(e/=1e3)}a.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(hl[e]||hl[t]||hl[n])},week:{dow:1,doy:7}}),a.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:yl,past:gl,s:"e puer Sekonnen",ss:"%d Sekonnen",m:fl,mm:"%d Minutten",h:fl,hh:"%d Stonnen",d:fl,dd:"%d Deeg",M:fl,MM:"%d Méint",y:fl,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}});
//! moment.js locale configuration
var bl={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function Ml(e,t,n,a){return t?"kelios sekundės":a?"kelių sekundžių":"kelias sekundes"}function wl(e,t,n,a){return t?kl(n)[0]:a?kl(n)[1]:kl(n)[2]}function Ll(e){return e%10==0||e>10&&e<20}function kl(e){return bl[e].split("_")}function Yl(e,t,n,a){var r=e+" ";return 1===e?r+wl(e,t,n[0],a):t?r+(Ll(e)?kl(n)[1]:kl(n)[0]):a?r+kl(n)[1]:r+(Ll(e)?kl(n)[1]:kl(n)[2])}a.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:Ml,ss:Yl,m:wl,mm:Yl,h:wl,hh:Yl,d:wl,dd:Yl,M:wl,MM:Yl,y:wl,yy:Yl},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}});
//! moment.js locale configuration
var Dl={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function xl(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function Tl(e,t,n){return e+" "+xl(Dl[n],e,t)}function Sl(e,t,n){return xl(Dl[n],e,t)}function Hl(e,t){return t?"dažas sekundes":"dažām sekundēm"}a.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:Hl,ss:Tl,m:Sl,mm:Tl,h:Sl,hh:Tl,d:Sl,dd:Tl,M:Sl,MM:Tl,y:Sl,yy:Tl},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
var El={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,t,n){var a=El.words[n];return 1===n.length?t?a[0]:a[1]:e+" "+El.correctGrammaticalCase(e,a)}};
//! moment.js locale configuration
function jl(e,t,n,a){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}a.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:El.translate,m:El.translate,mm:El.translate,h:El.translate,hh:El.translate,d:"dan",dd:El.translate,M:"mjesec",MM:El.translate,y:"godinu",yy:El.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}}),a.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:jl,ss:jl,m:jl,mm:jl,h:jl,hh:jl,d:jl,dd:jl,M:jl,MM:jl,y:jl,yy:jl},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}});
//! moment.js locale configuration
var Al={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},Cl={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function Ol(e,t,n,a){var r="";if(t)switch(n){case"s":r="काही सेकंद";break;case"ss":r="%d सेकंद";break;case"m":r="एक मिनिट";break;case"mm":r="%d मिनिटे";break;case"h":r="एक तास";break;case"hh":r="%d तास";break;case"d":r="एक दिवस";break;case"dd":r="%d दिवस";break;case"M":r="एक महिना";break;case"MM":r="%d महिने";break;case"y":r="एक वर्ष";break;case"yy":r="%d वर्षे"}else switch(n){case"s":r="काही सेकंदां";break;case"ss":r="%d सेकंदां";break;case"m":r="एका मिनिटा";break;case"mm":r="%d मिनिटां";break;case"h":r="एका तासा";break;case"hh":r="%d तासां";break;case"d":r="एका दिवसा";break;case"dd":r="%d दिवसां";break;case"M":r="एका महिन्या";break;case"MM":r="%d महिन्यां";break;case"y":r="एका वर्षा";break;case"yy":r="%d वर्षां"}return r.replace(/%d/i,e)}a.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:Ol,ss:Ol,m:Ol,mm:Ol,h:Ol,hh:Ol,d:Ol,dd:Ol,M:Ol,MM:Ol,y:Ol,yy:Ol},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return Cl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Al[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}});
//! moment.js locale configuration
var Fl={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},Pl={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};a.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return Pl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Fl[e]}))},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
var Nl={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},Rl={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};a.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return Rl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return Nl[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}});
//! moment.js locale configuration
var Wl="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),zl="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Ul=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Il=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?zl[e.month()]:Wl[e.month()]:Wl},monthsRegex:Il,monthsShortRegex:Il,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Ul,longMonthsParse:Ul,shortMonthsParse:Ul,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}});
//! moment.js locale configuration
var ql="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),Bl="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),Jl=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],Vl=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,t){return e?/-MMM-/.test(t)?Bl[e.month()]:ql[e.month()]:ql},monthsRegex:Vl,monthsShortRegex:Vl,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:Jl,longMonthsParse:Jl,shortMonthsParse:Jl,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}});
//! moment.js locale configuration
var $l={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},Gl={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};a.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return Gl[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return $l[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}});
//! moment.js locale configuration
var Kl="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),Zl="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),Xl=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function Ql(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function ed(e,t,n){var a=e+" ";switch(n){case"ss":return a+(Ql(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return a+(Ql(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return a+(Ql(e)?"godziny":"godzin");case"ww":return a+(Ql(e)?"tygodnie":"tygodni");case"MM":return a+(Ql(e)?"miesiące":"miesięcy");case"yy":return a+(Ql(e)?"lata":"lat")}}
//! moment.js locale configuration
function td(e,t,n){var a=" ";return(e%100>=20||e>=100&&e%100==0)&&(a=" de "),e+a+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}
//! moment.js locale configuration
function nd(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function ad(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+nd({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n],+e)}a.defineLocale("pl",{months:function(e,t){return e?/D MMMM/.test(t)?Zl[e.month()]:Kl[e.month()]:Kl},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:Xl,longMonthsParse:Xl,shortMonthsParse:Xl,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:ed,m:ed,mm:ed,h:ed,hh:ed,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:ed,M:"miesiąc",MM:ed,y:"rok",yy:ed},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"}),
//! moment.js locale configuration
a.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),a.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:td,m:"un minut",mm:td,h:"o oră",hh:td,d:"o zi",dd:td,w:"o săptămână",ww:td,M:"o lună",MM:td,y:"un an",yy:td},week:{dow:1,doy:7}});var rd=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];a.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:rd,longMonthsParse:rd,shortMonthsParse:rd,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:ad,m:ad,mm:ad,h:"час",hh:ad,d:"день",dd:ad,w:"неделя",ww:ad,M:"месяц",MM:ad,y:"год",yy:ad},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}});
//! moment.js locale configuration
var id=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],od=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];a.defineLocale("sd",{months:id,monthsShort:id,weekdays:od,weekdaysShort:od,weekdaysMin:od,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}});
//! moment.js locale configuration
var sd="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),ld="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function dd(e){return e>1&&e<5}function ud(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"pár sekúnd":"pár sekundami";case"ss":return t||a?r+(dd(e)?"sekundy":"sekúnd"):r+"sekundami";case"m":return t?"minúta":a?"minútu":"minútou";case"mm":return t||a?r+(dd(e)?"minúty":"minút"):r+"minútami";case"h":return t?"hodina":a?"hodinu":"hodinou";case"hh":return t||a?r+(dd(e)?"hodiny":"hodín"):r+"hodinami";case"d":return t||a?"deň":"dňom";case"dd":return t||a?r+(dd(e)?"dni":"dní"):r+"dňami";case"M":return t||a?"mesiac":"mesiacom";case"MM":return t||a?r+(dd(e)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return t||a?"rok":"rokom";case"yy":return t||a?r+(dd(e)?"roky":"rokov"):r+"rokmi"}}
//! moment.js locale configuration
function cd(e,t,n,a){var r=e+" ";switch(n){case"s":return t||a?"nekaj sekund":"nekaj sekundami";case"ss":return r+=1===e?t?"sekundo":"sekundi":2===e?t||a?"sekundi":"sekundah":e<5?t||a?"sekunde":"sekundah":"sekund";case"m":return t?"ena minuta":"eno minuto";case"mm":return r+=1===e?t?"minuta":"minuto":2===e?t||a?"minuti":"minutama":e<5?t||a?"minute":"minutami":t||a?"minut":"minutami";case"h":return t?"ena ura":"eno uro";case"hh":return r+=1===e?t?"ura":"uro":2===e?t||a?"uri":"urama":e<5?t||a?"ure":"urami":t||a?"ur":"urami";case"d":return t||a?"en dan":"enim dnem";case"dd":return r+=1===e?t||a?"dan":"dnem":2===e?t||a?"dni":"dnevoma":t||a?"dni":"dnevi";case"M":return t||a?"en mesec":"enim mesecem";case"MM":return r+=1===e?t||a?"mesec":"mesecem":2===e?t||a?"meseca":"mesecema":e<5?t||a?"mesece":"meseci":t||a?"mesecev":"meseci";case"y":return t||a?"eno leto":"enim letom";case"yy":return r+=1===e?t||a?"leto":"letom":2===e?t||a?"leti":"letoma":e<5?t||a?"leta":"leti":t||a?"let":"leti"}}a.defineLocale("sk",{months:sd,monthsShort:ld,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:case 4:case 5:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ud,ss:ud,m:ud,mm:ud,h:ud,hh:ud,d:ud,dd:ud,M:ud,MM:ud,y:ud,yy:ud},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:cd,ss:cd,m:cd,mm:cd,h:cd,hh:cd,d:cd,dd:cd,M:cd,MM:cd,y:cd,yy:cd},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
var md={words:{ss:["секунда","секунде","секунди"],m:["један минут","једног минута"],mm:["минут","минута","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],d:["један дан","једног дана"],dd:["дан","дана","дана"],M:["један месец","једног месеца"],MM:["месец","месеца","месеци"],y:["једну годину","једне године"],yy:["годину","године","година"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,t,n,a){var r,i=md.words[n];return 1===n.length?"y"===n&&t?"једна година":a||t?i[0]:i[1]:(r=md.correctGrammaticalCase(e,i),"yy"===n&&t&&"годину"===r?e+" година":e+" "+r)}};a.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:md.translate,m:md.translate,mm:md.translate,h:md.translate,hh:md.translate,d:md.translate,dd:md.translate,M:md.translate,MM:md.translate,y:md.translate,yy:md.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});
//! moment.js locale configuration
var pd={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,t,n,a){var r,i=pd.words[n];return 1===n.length?"y"===n&&t?"jedna godina":a||t?i[0]:i[1]:(r=pd.correctGrammaticalCase(e,i),"yy"===n&&t&&"godinu"===r?e+" godina":e+" "+r)}};a.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:pd.translate,m:pd.translate,mm:pd.translate,h:pd.translate,hh:pd.translate,d:pd.translate,dd:pd.translate,M:pd.translate,MM:pd.translate,y:pd.translate,yy:pd.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});
//! moment.js locale configuration
var _d={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},hd={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};a.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return hd[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return _d[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}}),
//! moment.js locale configuration
a.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}});
//! moment.js locale configuration
var fd={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};a.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){var t=e%10,n=e>=100?100:null;return e+(fd[e]||fd[t]||fd[n])},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}});
//! moment.js locale configuration
var yd={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};a.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var n=e%10,a=e%100-n,r=e>=100?100:null;return e+(yd[n]||yd[a]||yd[r])}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}});
//! moment.js locale configuration
var gd="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function vd(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"}function bd(e){var t=e;return t=-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"}function Md(e,t,n,a){var r=wd(e);switch(n){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function wd(e){var t=Math.floor(e%1e3/100),n=Math.floor(e%100/10),a=e%10,r="";return t>0&&(r+=gd[t]+"vatlh"),n>0&&(r+=(""!==r?" ":"")+gd[n]+"maH"),a>0&&(r+=(""!==r?" ":"")+gd[a]),""===r?"pagh":r}a.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:vd,past:bd,s:"puS lup",ss:Md,m:"wa’ tup",mm:Md,h:"wa’ rep",hh:Md,d:"wa’ jaj",dd:Md,M:"wa’ jar",MM:Md,y:"wa’ DIS",yy:Md},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});
//! moment.js locale configuration
var Ld={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};function kd(e,t,n,a){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return a||t?r[n][0]:r[n][1]}
//! moment.js locale configuration
//! moment.js locale configuration
function Yd(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function Dd(e,t,n){return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+Yd({ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n],+e)}function xd(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative}function Td(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}a.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var n=e%10,a=e%100-n,r=e>=100?100:null;return e+(Ld[n]||Ld[a]||Ld[r])}},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:kd,ss:kd,m:kd,mm:kd,h:kd,hh:kd,d:kd,dd:kd,M:kd,MM:kd,y:kd,yy:kd},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),
//! moment.js locale configuration
a.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}}),
//! moment.js locale configuration
a.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?"يېرىم كېچە":a<900?"سەھەر":a<1130?"چۈشتىن بۇرۇن":a<1230?"چۈش":a<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}}),a.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:xd,weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:Td("[Сьогодні "),nextDay:Td("[Завтра "),lastDay:Td("[Вчора "),nextWeek:Td("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Td("[Минулої] dddd [").call(this);case 1:case 2:case 4:return Td("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:Dd,m:Dd,mm:Dd,h:"годину",hh:Dd,d:"день",dd:Dd,M:"місяць",MM:Dd,y:"рік",yy:Dd},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}});
//! moment.js locale configuration
var Sd=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],Hd=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];return a.defineLocale("ur",{months:Sd,monthsShort:Sd,weekdays:Hd,weekdaysShort:Hd,weekdaysMin:Hd,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}}),
//! moment.js locale configuration
a.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var a=100*e+t;return a<600?"凌晨":a<900?"早上":a<1130?"上午":a<1230?"中午":a<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}}),
//! moment.js locale configuration
a.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"凌晨":a<900?"早上":a<1200?"上午":1200===a?"中午":a<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),
//! moment.js locale configuration
a.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"凌晨":a<900?"早上":a<1130?"上午":a<1230?"中午":a<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),
//! moment.js locale configuration
a.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var a=100*e+t;return a<600?"凌晨":a<900?"早上":a<1130?"上午":a<1230?"中午":a<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}}),a.locale("en"),a}()}(__);var h_=__.exports;var f_=function(){var e=window.navigator.language.toLowerCase();try{return h_.localeData(e).longDateFormat("L")}catch(t){return console.error("Failed to get date format for locale: ",e," - the error was:",t),"YYYY-MM-DD"}}();const y_=Math.pow(2,31)-1,g_=Math.pow(2,15);function v_(e,t){if(e=e.toUpperCase(),!/^[A-Z]+$/.test(e)){if(!e){if(t)return-1;throw new Error("Non-optional data binding must specify column")}throw function(e){try{L_(e)}catch(e){return!1}return!0}(e)?new Error("You can only select one column"):new Error("Invalid column specification: "+e)}for(var n=0,a=0;a<e.length;a++)n=26*n+(e.charCodeAt(a)-64);return n-1>y_&&console.warn("Column index out of range"),Math.min(n-1,y_)}function b_(e){e+=1;for(var t="";e>0;){var n=Math.floor(e/26),a=e%26;0==a&&(n-=1,a+=26),t=String.fromCharCode(64+a)+t,e=n}return t}function M_(e){var t=e.match(/\s*(?:[-–—:]|\.\.)\s*/);if(!t)throw new Error("Failed to parse column range: "+e);var n=e.substr(0,t.index),a=e.substr(t.index+t[0].length),r=v_(n),i=v_(a),o=[],s=i>=r?1:-1,l=Math.abs(i-r)+1;l>g_&&(console.warn("Truncating excessively long range"),l=g_);for(var d=0;d<l;d++)o.push(r+d*s);return o}function w_(e,t){return b_(e)+"-"+b_(t)}function L_(e){var t=[],n=(e=e.replace(/^\s+|\s+$/g,"")).split(/\s*,\s*/);1==n.length&&""===n[0]&&(n=[]);for(var a=0;a<n.length;a++){var r=n[a];/^[A-Za-z]+$/.test(r)?t.push(v_(r)):Array.prototype.push.apply(t,M_(r))}return t}function k_(e){for(var t=function(e){if(!e.length)return[];for(var t=[],n=e[0],a=e[0],r=null,i=0;i<e.length-1;i++){var o=e[i+1]-e[i];null!==r||1!==Math.abs(o)?o!==r?(t.push([n,a]),n=a=e[i+1],r=null):a=e[i+1]:(a=e[i+1],r=o)}return t.push([n,a]),t}(e),n=[],a=0;a<t.length;a++){var r=t[a];r[0]==r[1]?n.push(b_(r[0])):n.push(w_(r[0],r[1]))}return n.join(",")}function Y_(e,t,n,a){var r=n?t[e.data_table_id]+"::":"";if("column"in e)return r+b_(e.column);if("columns"in e)return r+k_(e.columns);if(a)return"";throw new Error("Data binding must have .column or .columns")}var D_,x_=[".csv",".tsv",".xls",".xlsx","text/csv","text/tsv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12",".json",".geojson"];function T_(e){e.stopPropagation(),e.preventDefault()}var S_="readAsBinaryString"in FileReader.prototype;function H_(e){var t=e.name.lastIndexOf(".")+1;return t?e.name.substr(t).toLowerCase():""}function E_(e){return"text/csv"===e.type||"csv"===H_(e)}function j_(e){return e.type.match(/json$/)||-1!==["geojson","json"].indexOf(H_(e))}function A_(e,t){return"number"!=typeof t?t:parseFloat(t.toFixed(6))}function C_(e){if("replace"!==e&&"join"!==e)throw new Error("The action for adding data must be “join” or “replace”")}function O_(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=new FileReader;r.onload=function(e){var n=a.name.replace(/\.csv$/g,"");E_(a)?I_(n,e.target.result,t):j_(a)?J_(n,e.target.result,H_(a),t):B_(e.target.result,a.name,t)},E_(a)||j_(a)?r.readAsText(a):S_?r.readAsBinaryString(a):r.readAsArrayBuffer(a)}}function F_(e,t,n){var a,r="",i=function(e,t,n){var a=be(document.createElement("label")).attr("class","indented");return a.append("input").attr("type","radio").attr("name","action").attr("value",e).attr("class","import-options"),a.append("h2").text(t),a.append("p").text(n),a},o=i("replace","Overwrite current sheet","Completely replace the current sheet"),s=i("join","Merge with current sheet","Merge your data by matching on a column");"add-and-merge-data"===be("#data-container .dropdown-btn.import-data>.btn.action").attr("data-action")?s.select("input").attr("checked",""):o.select("input").attr("checked",""),r+=o.node().outerHTML,r+=s.node().outerHTML;var l=[{text:"Continue",class:"primary",keyCode:13,callback:function(){var r=a.select(".import-options:checked").attr("value");C_(r);const i={sheet_name:e,rows:t.length,columns:t[0].length};"replace"===r?V_(r,i,(function(e){n(t,e),Ln.logHistory({category:"visualisation",action:"selected “Overwrite” option",visualisation_id:D_.visualisation.id})})):"join"===r&&z_(e,t,(function(e,t){V_(r,i,(function(a){a.new_column_indexes=t,Ln.logHistory({category:"visualisation",action:"selected “Merge” option",visualisation_id:D_.visualisation.id}),n(e,a)}))}))}}];D_.user.can_keep_private||(r+="<hr><p class='small'><i class='fa fa-eye'></i> Your data will be publicly visible. To keep it private, upgrade your account.</p>",l[0].text="Import publicly",l.push({text:"Go private",keyCode:13,callback:function(){!function(){function e(){window.location.href="/choose-subscription"}setTimeout(e,1e3),D_.analytics("send","event",{eventCategory:"upgrade-click",eventAction:"data-upload",hitCallback:e})}()}})),l.push({text:"Cancel",keyCode:27,class:"secondary"}),a=Gt("Import spreadsheet data",r,{is_html:!0,buttons:l})}function P_(e){if(e.length)for(var t=e[0].length-1;t>=0;t--){for(var n=!0,a=0;a<e.length;a++)if(e[a][t]){n=!1;break}if(!n)break;e.forEach((function(e){e.splice(t,1)}))}}function N_(e,t,n=!1){const a=e.append("p").style("margin","0");a.append("input").attr("type","checkbox").attr("id",t).attr("name",t).style("vertical-align","middle").style("margin","3px").style("font-weight","normal").attr("checked",n?"checked":null),a.append("label").attr("id",`${t}-label`).attr("for",t).style("margin","3px").style("vertical-align","middle")}function R_(e,t){e.selectAll("span").data(t).join("span").style("color",(e=>e.color||null)).style("font-weight",(e=>e.weight||null)).style("font-size","1em").style("display","inline").style("padding-left",0).text((e=>e.text))}function W_(e){let t="";return t+="<details class='import-settings'>\n\t<summary class='small'>Settings</summary>","replace"===e&&(t+="<label class='small'>\n\t\t<input id='auto-column-typing-check' type='checkbox' name='auto-column-typing-check' value='checked' checked=''>\n\t\tInterpret the data type of each column after import\n\t\t</label>"),t+=`<label class='small'>\n\t<input id='assign-column-bindings-check' type='checkbox' name='auto-column-assignment-check' value='checked' checked=''>\n\tAutomatically choose columns to be visualized after ${"replace"===e?"import":"merge"}\n\t</label>\n\t</details>`,t}function z_(e,t,n){let a,r,i;e.length>35&&(e=e.substring(0,35)+"…");const o=D_.template_data_bindings.some((e=>e.data_type)),s="#9b9082",l="#347fa1",d=D_.spreadsheet.currentSheetSummary().sample_data;P_(d),Ws(d),P_(t);let{left_index:u,right_index:c}=function(e,t){const n=100,a=e=>e.toLowerCase().trim(),r=e[0].slice(0,n).map(a),i=t[0].slice(0,n).map(a),o=Js(e).splice(0,n),s=Js(t).splice(0,n),l=o.length*s.length,d=Math.floor(1e6/l),u=[];let c=0,m=0,p=0;for(let e=0;e<o.length;e++){const t=o[e].splice(1),n=r[e],a=new Map;for(const e of t){if(""===e)continue;const t=(a.get(e)||0)+1;a.set(e,t)}const l=Array.from(a).splice(0,d);let _=0;for(const[,e]of l)_+=e;for(let t=0;t<s.length;t++){const a=.4*(n===i[t]);if(!a&&c>=.6)continue;let r=0;if(!u[t]){const e=s[t].splice(1).map((e=>e.trim())),n=new Map;for(const t of e){if(""===t)continue;const e=(n.get(t)||0)+1;n.set(t,e)}u[t]=n}const o=u[t];for(const[e,t]of l)o.has(e)&&(1!==t&&1!==o.get(e)||(r+=t));const d=a+r/_*.6;if(d>c&&(c=d,m=e,p=t),1===c)break}if(1===c)break}return{left_index:m,right_index:p}}(d,t);const m=be(document.createElement("div")),p=m.append("div");p.append("p").style("color","#aaa").style("margin-top","-1em").html("Not sure how merging works? <a href='https://help.flourish.studio/article/280-how-to-merge-datasets-in-flourish' target='_blank'>Read our help guide</a>.");const _=p.append("div"),h=p.append("div"),f=p.append("div");o&&p.append("div").style("margin-top","1em").style("border-top","1px solid #eee").html(W_("join"));const y=Me("span").classed("new-data",!0).text(e);_.style("margin-top","1em").style("border-top","1px solid #eee").style("padding","1em 0").append("p").style("font-size","16px").style("margin-bottom","0.5em").html(`Select a column from the <span class="current-data">Current data</span> and from ${y.node().outerHTML} that share the same values.`),_.selectAll("span").style("font-weight","800"),_.select("span.current-data").style("color",s),_.select("span.new-data").style("color",l);const g=_.append("div").style("display","flex").style("column-gap","10px"),v=g.append("div").style("flex","1 1 0px").style("max-width","300px"),b=g.append("div").style("flex","1 1 0px").style("max-width","300px");v.append("h2").text("Current data").style("color",s).style("margin","0 0 2px 0").style("font-size","14px").style("font-weight","800"),v.append("select").attr("class","left-data").style("width","100%").style("max-width","460px").style("display","inline-block").selectAll("option").data(d[0]).enter().append("option").attr("value",((e,t)=>t)).attr("selected",((e,t)=>t===u?"selected":null)).text((e=>e)),b.append("h2").text(e).style("color",l).style("margin","0 0 2px 0").style("font-size","14px").style("font-weight","bold"),b.append("select").attr("class","right-data").style("width","100%").style("max-width","460px").style("display","inline-block").selectAll("option").data(t[0]).enter().append("option").attr("value",((e,t)=>t)).attr("selected",((e,t)=>t===c?"selected":null)).text((e=>e)),N_(f,"left-keep-unmatched-rows",!0),N_(f,"right-merge-unmatched-rows"),N_(f,"left-keep-merge-column",!0),N_(f,"right-merge-merge-column");const M=h.append("p").attr("class","result").style("display","flex").style("justify-content","space-between").style("font-size","12px").style("color","#aaa");M.append("span").attr("class","results-description");const w=M.append("span").attr("class","results-unmatched");w.append("span").attr("class","unmatched-download").append("a").style("cursor","pointer"),w.append("span").attr("class","unmatched-none").text("All rows were successfully matched"),h.style("padding","0.5em 0 0").style("margin-bottom","0.5em").append("div").attr("class","mini-spreadsheet").style("font-size","13px").style("border-right","1px solid #ccc").style("border-bottom","1px solid #ccc"),a=Gt(`Merge in “${e}”`,m.node().innerHTML,{is_html:!0,buttons:[{text:"Merge now",keyCode:13,class:"primary",callback:function(){const e=[...Array(r[0].length).keys()].slice(r[0].length+1-i);n(r,e)}},{text:"Cancel",keyCode:27,class:"secondary"}]});const L=function(e){return function(t){return be(document.createElement("span")).attr("width","100%").attr("height","100%").style("display","block").style("color",t<e?s:l).style("font-weight","800").text(b_(t)).node().outerHTML}},k=m_(a.select(".mini-spreadsheet").node());a.select(".dialog-inner").style("width","620px"),a.selectAll(".handsontable").style("max-height","20vh"),a.selectAll(".handsontable thead").style("pointer-events","none"),a.selectAll(".handsontable tbody").style("pointer-events","none");const Y=function(){u=a.select("select.left-data").node().selectedIndex,c=a.select("select.right-data").node().selectedIndex;const n=a.select("#left-keep-unmatched-rows").property("checked"),o=a.select("#right-merge-unmatched-rows").property("checked");let m;m=n?o?d_:s_:o?u_:l_;const p=a.select("#left-keep-merge-column").property("checked"),_=a.select("#right-merge-merge-column").property("checked"),h={left_index:u,right_index:c,left_keep:p,right_keep:_};i=d[0].length-(p?0:1),r=m(d,t,h),k.loadData(r),k.updateSettings(function(e){return{colHeaders:L(e)}}(i)),a.select(".result .results-description").text(`Result (${r[0].length} columns, ${r.length} rows) `);const f=m.getLastUnmatched();R_(a.select("#left-keep-unmatched-rows-label"),[{text:`Keep the ${f.left.length} row${1!==f.left.length?"s":""} in `},{text:"Current data",color:s,weight:"800"},{text:` that ${1!==f.left.length?"don't":"doesn't"} have a match`}]),R_(a.select("#right-merge-unmatched-rows-label"),[{text:`Merge in the ${f.right.length} row${1!==f.right.length?"s":""} in `},{text:`${e}`,color:l,weight:"800"},{text:` that ${1!==f.right.length?"don't":"doesn't"} have a match`}]),R_(a.select("#left-keep-merge-column-label"),[{text:`Keep the merge column ${d[0][u]?' ("'+d[0][u]+'") ':""} from `},{text:"Current data",color:s,weight:"800"}]),R_(a.select("#right-merge-merge-column-label"),[{text:`Merge in the merge column ${t[0][c]?' ("'+t[0][c]+'") ':""} from `},{text:e,color:l,weight:"800"}]);const y=f.left.map((function(e){return{Dataset:"Current data",Value:e.value,"Input cell":b_(u)+(e.input_row+1),"Output cell":null!==e.output_row?b_(u)+(e.output_row+1):null}})).concat(f.right.map((function(t){return{Dataset:`New dataset (${e})`,Value:t.value,"Input cell":b_(c)+(t.input_row+1),"Output cell":null!==t.output_row?b_(i+c)+(t.output_row+1):null}})));if(a.select(".result .unmatched-download").style("display",y.length?null:"none").html(`${y.length} unmatched rows (<a href="">download</a>)`),a.select(".result .unmatched-none").style("display",y.length?"none":null),y.length){const e=window.URL||window.webkitURL,t=new Blob(["\ufeff"+ti(y)]),n=e.createObjectURL(t);a.select(".result .unmatched-download a").attr("download",`Merge.${Date.now()}.csv`).attr("href",n)}};a.selectAll("select.left-data, select.right-data, input").on("change",Y),Y()}function U_(e,t,n,a){const r=e.sheet_name||e.filename;if(n)if("join"==n)z_(r,t,(function(t,r){V_(n,e,(function(e){e.new_column_indexes=r,q_(t,e,a)}))}));else{if("replace"!=n)throw new Error("Unknown action_suggestion “"+n+"”");V_(n,e,(function(e){q_(t,e,a)}))}else F_(r,t,(function(e,t){q_(e,t,a)}))}function I_(e,t,n){U_({sheet_name:e},ei(t),n,"CSV")}function q_(e,t,n){const{retain_existing_types:a,retain_existing_bindings:r,cancel_import_dialog:i,new_column_indexes:o}=t;if(0!==e.length){var s=e.length;D_.spreadsheet.replaceCurrentTable(e,{retain_existing_types:a,cancel_import_dialog:i,new_column_indexes:o},(()=>{D_.spreadsheet.inferDataBindings(r,(()=>{var e,t,n;D_.spreadsheet.updateColumnHeaders(),i.remove(),e=s,n=D_.template_data_bindings.some((function(e){return e.hasOwnProperty("data_type")})),Gt(e+(1==e?" row was":" rows were")+" uploaded!",t?t+(1==t?" row was":" rows were")+" ignored because they did not match":"",{buttons:[{text:n?"Continue":"Next, select the columns 👉",keyCode:13,callback:function(){be(".tab-panes").classed("highlight-bindings",!1),be(".data-bindings input").node().focus(),be(".dialog").style("background",null)}}]}),setTimeout((function(){be(".dialog").style("background","transparent")}),100),be(".tab-panes").classed("highlight-bindings",!0)})),D_.analytics("send","event","visualisation","upload_data",D_.visualisation.id),Ln.logHistory({category:"visualisation",action:"imported data",visualisation_id:D_.visualisation.id,detail:n})}))}else Gt("Import failed","The spreadsheet was empty")}function B_(e,t,n){var a;try{a=function(e){var t={type:S_?"binary":"base64",dateNF:f_.replace(/\./g,'"."')};return S_?i.read(e,t):i.read(btoa(function(e){for(var t="",n=0,a=10240;n<e.byteLength/a;++n)t+=String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a,n*a+a)));return t+String.fromCharCode.apply(null,new Uint8Array(e.slice(n*a)))}(e)),t)}(e)}catch(e){return Gt("Import failed",e.message||e),void D_.analytics("send","exception",{exDescription:t+": "+(e.message||e),exFatal:!1})}if(a.SheetNames.length>1)!function(e,t){var n=document.createElement("div");n.innerHTML="<p>Choose which sheet you want to upload</p>",e.forEach((function(e,t){n.appendChild(document.createElement("p")),n.lastChild.innerHTML="<label class=indented><input type='radio' name='sheet-name'"+(0==t?" checked":"")+"></label>";var a=n.lastChild.querySelector("input");a.setAttribute("value",e),a.parentNode.appendChild(document.createTextNode(" "+e))}));var a=Gt("Upload spreadsheet data",n.innerHTML,{is_html:!0,buttons:[{text:"Continue",class:"primary",keyCode:13,callback:function(){var e;a.selectAll("input[name='sheet-name']").each((function(){be(this).property("checked")&&(e=be(this).attr("value"))})),t(e)}},{text:"Cancel",keyCode:27,class:"secondary"}]})}(a.SheetNames,(function(e){var r=a.Sheets[e],o=i.utils.sheet_to_csv(r),s=ei(o);U_({filename:t,sheet_name:e},s,n,"Excel")}));else{var r=a.SheetNames[0],o=a.Sheets[r],s=i.utils.sheet_to_csv(o),l=ei(s);U_({filename:t,sheet_name:r},l,n,"Excel")}}function J_(e,t,n,a){var r,i;try{r=JSON.parse(t)}catch(e){return void Gt("Import failed","That JSON file could not be parsed")}if("geojson"==n||"FeatureCollection"==r.type||"GeometryCollection"==r.type)i=function(e){if("FeatureCollection"===e.type)return function(e){var t=!1,n=["geometry"],a=[n];if(!e.features||!Array.isArray(e.features))return void Gt("GeoJSON FeatureCollection doesn't contain a features array!");e.features.forEach((function(e){var r=[e.geometry?JSON.stringify(e.geometry,A_):""];if(e.id&&(t=!0),e.properties){for(var i in e.properties)-1==n.indexOf(i)&&n.push(i);n.forEach((function(t,n){void 0!==e.properties[t]&&(r[n]=""+e.properties[t])}))}a.push(r)})),t&&(n.splice(1,0,"id"),e.features.forEach((function(e,t){a[t+1].splice(1,0,e.id||"")})));return a}(e);if("GeometryCollection"===e.type)return function(e){var t=[["geometry"]];if(!e.geometries||!Array.isArray(e.geometries))return void Gt("GeoJSON GeometryCollection doesn't contain a geometries array!");return e.geometries.forEach((function(e){t.push([e?JSON.stringify(e,A_):""])})),t}(e);Gt("GeoJSON file must contain a FeatureCollection or GeometryCollection")}(r);else{if(!Array.isArray(r))return void Gt("Import failed","JSON file is not GeoJSON or an array");i=function(e){if(!e.length)return[];if(e.every((function(e){return Array.isArray(e)})))return function(e){return e.map((function(e){return e.slice()}))}(e);if(e.every((function(e){return e&&"object"==typeof e&&!Array.isArray(e)})))return function(e){var t=Object.keys(e[0]),n=[t];return e.forEach((function(e){for(var a in e)-1==t.indexOf(a)&&t.push(a);var r=[];t.forEach((function(t,n){var a=e[t];null!=a&&(/(string|number|boolean)/.test(typeof a)?r[n]=""+a:a instanceof Date&&(r[n]=a.toISOString()))})),n.push(r)})),n}(e);Gt("JSON file must contain GeoJSON, an array of arrays or an array of objects")}(r)}i.length?U_({filename:e},i,a,n):Gt("Import failed","No data found in the file")}function V_(e,t={},n){const{sheet_name:a,filename:r,rows:i,columns:o,import_method:s}=t;C_(e);let l="";const d=D_.template_data_bindings.some((e=>e.data_type));if("replace"===e&&(l+="paste"===s?`<p>This will populate the current sheet with ${i+(i>1?" rows":" row")} and ${o+(o>1?" columns":" column")}.</p>`:`<p>This will replace the current sheet and import ${i+(i>1?" rows":" row")} and ${o+(o>1?" columns":" column")}.</p>`,d)){l+=W_("replace")}function u(t,a){const r=!d||!be("#assign-column-bindings-check").node().checked;let i;if(d)if("join"===e)i=!1;else{i=!be("#auto-column-typing-check").node().checked}else i=!0;a&&a.remove();const o=Gt("Analyzing data...","<img class='loading-spinner' src='/images/bosh.svg'>",{is_html:!0,is_loading:!0,buttons:[{text:"Cancel upload",keyCode:27,class:"secondary",callback:D_.spreadsheet.cancelImport}]});n&&n({retain_existing_types:i,retain_existing_bindings:r,cancel_import_dialog:o})}const c=[{text:"paste"===s?"Paste":"Import",class:"primary",keyCode:13,callback:u}];c.push({text:"Cancel",keyCode:27,class:"secondary"});let m,p="spreadsheet data";if(p=a||r,"paste"===s)m="Pasting data";else{m=Me("span"),m.append("span").classed("import-ready",!0).text("Ready to import");const e=m.append("span").classed("file-name",!0);e.append("i").classed("fa fa-file",!0),e.append("span").text(` ${p}`),r&&m.append("span").text(` from ${r}`),m=m.node()}"join"!==e||0!==l.length?Gt(m,l,{is_html:!0,buttons:c}):u()}function $_(e,t){D_=t,C_(e);var n=document.createElement("input");n.type="file",n.setAttribute("accept",x_.join(",")),n.className="uploader",document.body.appendChild(n),n.onchange=function(){O_(n.files,e),n.parentNode.removeChild(n)},n.click()}function G_(e){for(var t=Number(document.querySelector(".sheet-tab.selected").id.substr("sheet-tab-".length)),n=e.visualisation.data_tables,a=0;a<n.length;++a)if(n[a].id===t)return n[a];throw new Error("Couldn't find the data_table for the current spreadsheet tab")}function K_(e,t,n){return function(a,r,i){if(a)return Gt("Loading CSV data failed","Couldn't load CSV data from “"+t+"”: "+a),void(n&&n(a));e.spreadsheet.replaceCurrentTable(r),e.spreadsheet.updateLiveCSVOverlay(),i&&e.spreadsheet.setNewColumnTypes(i),n&&n()}}var Z_="Add new value: ";function X_(e,t,n,{allow_other_option:a=!1,custom_renderer:r=null,match_anywhere:i=!1}={}){if(e.setAttribute("data-autocomplete",t),e.setAttribute("autocomplete","off"),!document.getElementById(t)){const n=Me("i").classed("fa fa-chevron-down clickable",!0),a=Me("div").classed("dropdown autocomplete",!0).attr("id",t);e.insertAdjacentHTML("afterend",n.node().outerHTML+a.node().outerHTML)}var o,s=be(document.getElementById(t));s.classed("click-to-open",!0);var l=s.append("div").attr("class","dropdown-list");function d(e){if(1===e.length)return"dropdown-category";var t="dropdown-item";return o&&e[0]===o&&(t+=" current"),t}function u(e){l.selectAll("div").remove(),l.selectAll("div").data(e).enter().append("div").attr("class",d).attr("data-value",(function(e){return"string"==typeof e?e||null:e[1]})).each((function(e){const t=be(this);if(!r){const n=Array.isArray(e)?e[0]:e;return void t.text(n)}let n=r(e,this);if(n){if(Array.isArray(n)||(n=[n]),n.find((e=>"string"!=typeof e&&!(e instanceof HTMLElement))))throw new Error("Autocomplete elements must be strings or HTMLElements");t.node().append(...n)}})),e.length||l.append("div").attr("class","dropdown-item disabled").text("No matches found")}function c(){s.classed("open",!1)}function m(e){var t=e.textContent;return 0===t.indexOf(Z_)&&(t=t.substr(Z_.length)),t}return s.on("mousedown",(function(t){var n=t.target;n.hasAttribute("data-value")?(e.value=m(n),e.setAttribute("data-value",n.getAttribute("data-value")),c(),be(e).dispatch("change")):t.preventDefault()})),be(e).on("keydown.autocomplete",(function(t){var n,a;9==t.keyCode||13==t.keyCode?(n=l.select(".selected")).empty()||(e.value=m(n.node()),e.setAttribute("data-value",n.attr("data-value")),c(),be(e).dispatch("change"),e.blur()):40==t.keyCode?((n=l.select(".selected")).empty()||(a=n.node().nextSibling),a||(a=l.select(".dropdown-item[data-value]").node()),l.selectAll(".selected").classed("selected",!1),be(a).classed("selected",!0)):38==t.keyCode&&((n=l.select(".selected")).empty()||(a=n.node().previousSibling),a||(a=l.select(".dropdown-item:last-child").node()),l.selectAll(".selected").classed("selected",!1),be(a).classed("selected",!0))})).on("input.autocomplete",(function(){var t,r,o=e.value,s=o.toLowerCase(),l=!1;if(be(e).attr("data-value",o),r=i?(e,t)=>e.includes(t):(e,t)=>0===e.indexOf(t),o){t=[];for(var d=0;d<n.length;d++){var c=("string"==typeof n[d]?n[d]:n[d][0]).toLowerCase();c==s&&(l=!0),r(c,s)&&t.push(n[d])}a&&!l&&t.unshift([Z_+o,o])}else t=n;u(t)})).on("focus.autocomplete",(function(){o=e.value,u(n),s.classed("open",!0)})).on("blur.autocomplete",c),{options:function(e){if(!arguments.length)return n;u(n=e)}}}var Q_={number:{text:"Number",symbol:"/images/data_type_number.svg"},datetime:{text:"Date/time",symbol:"/images/data_type_date.svg"},string:{text:"Text",symbol:"/images/data_type_string.svg"}},eh=Ps.STRING_IDS[0];function th(e,t,n){var a={};t&&(a.get=t),n&&(a.set=n),Object.defineProperty(this,e,a)}function nh(e,t,n){var a,r,i,o,s,l;n=n||{};var d=function(e){o=e.map((e=>null===e?"":e))},u=function(e){s=e};function c(e,t){l=void 0!==t&&t.hasOwnProperty("starting_index")?t.starting_index:e}var m=function(e,t){if(e)a=e;else{const e=1e3,t=function(e){const t=e.length;return t>100?e.slice(10,t-10):t>50?e.slice(5,t-5):t>30?e.slice(4,t-4):t>20?e.slice(3,t-3):t>10?e.slice(2,t-2):t>1?e.slice(1,t):e.slice(0,1)}(o);let r;r=t.length>2*e?Rs(t,e):t,a=(n=r,s=n.filter((function(e){return e&&!Is.includes(e.trim())})).map(Bs),qs(s))[0].id}var n,s;r=Ps.getInterpretation(a),i=t||e};d(e),u(t),c(t,n),m(n.type_id,n.output_format_id);var p={};p.setData=d,p.setIndex=u,p.setStartingIndex=c,p.setInterpretation=m;var _=th.bind(p);return _("type",(function(){return a.split("$")[0]})),_("type_id",(function(){return a})),_("output_format_id",(function(){return i})),_("index",(function(){return s})),_("header",(function(){return o[0]})),_("values",(function(){return o.slice(1).map((function(e){var t="number"==r.type?Bs(e):e;return r.parse(t)}))})),_("starting_index",(function(){return l})),p}function ah(e,t,n,a){const r=t.map((e=>null===e?"":e)),i={allow_other_option:!1,custom_renderer:null};var o=Object.keys(Q_).map((function(e){return[Q_[e].text,e]})),s=Ps.NUMBER_IDS.map((function(e){return[Ps.getInterpretation(e).example,e]})),l=Ps.DATETIME_IDS.map((function(e){return[Ps.getInterpretation(e).example,e]}));const d=b(l);var u,c=be(document.createElement("p")).text("Choose the type of data in this column."),m=be(document.createElement("div")).attr("id","type-div");m.append("label").attr("for","type-select").text("Data type"),m.append("div").attr("class","input-container").append("input").attr("id","type-select").attr("name","type-select").attr("readonly","true").attr("type","text").attr("data-value",(function(){return e.type})).attr("value",(function(){return Q_[e.type].text}));var p=be(document.createElement("p")).attr("id","type-mismatch-warning").attr("class","alert");p.append("i").attr("class","fa fa-warning alert"),p.append("span").attr("id","type-mismatch-warning-message").attr("class","alert");var _=be(document.createElement("div")).attr("id","number-type-div");_.append("label").attr("for","number-type-select").text("Input format"),_.append("div").attr("class","input-container").append("input").attr("id","number-type-select").attr("name","number-type-select").attr("type","text").attr("readonly","true").attr("data-value",(function(){return"number"!==e.type?s[0][1]:e.type_id})).attr("value",(function(){return"number"!==e.type?s[0][0]:Ps.getInterpretation(e.type_id).example})).attr("data-value-original",e.type_id);var h=be(document.createElement("div")).attr("id","datetime-type-div");h.append("label").attr("for","datetime-type-select").text("Input format"),h.append("div").attr("class","input-container").append("input").attr("id","datetime-type-select").attr("name","datetime-type-select").attr("type","text").attr("readonly","true").attr("data-value",(function(){return"datetime"!==e.type?l[0][1]:e.type_id})).attr("value",(function(){return"datetime"!==e.type?l[0][0]:Ps.getInterpretation(e.type_id).example}));var f=be(document.createElement("div")).attr("id","format-div");f.append("label").attr("for","output-format-select").text("Preferred output format"),f.append("div").attr("class","input-container").append("input").attr("id","output-format-select").attr("name","output-format-select").attr("type","text").attr("readonly","true");var y=document.createElement("div");y.className="type-select-container",y.appendChild(c.node()),y.appendChild(m.node()),y.appendChild(p.node()),y.appendChild(_.node()),y.appendChild(h.node()),y.appendChild(f.node());var g=function(){var t=u.select("#type-select").attr("data-value"),a=[];if("string"!==t){var r=be(`#${t}-type-select`).attr("data-value");a.push(["Match input",r]),a="number"===t?a.concat(Ps.NUMBER_IDS.map((function(e){return[Ps.getInterpretation(e).example,e]}))):a.concat(b(l))}var o=Ps.getInterpretation(e.output_format_id)||{};be("#output-format-select").attr("data-value",(function(){return e.output_format_id})).property("value",(function(){return e.type_id===o.id||o.type!==t?"Match input":o.example})),X_(be("#output-format-select").node(),"output-format-select-dropdown",a,i);const s=u.select("#type-select").attr("data-value"),d=rh(e.index,s,n),c=d.map(((e,t)=>1===d.length?`<span class="bold">${e.template_data_binding.name}</span> column selection`:0===t?`<span class="bold">${e.template_data_binding.name}</span>`:t<d.length-1?`, <span class="bold">${e.template_data_binding.name}</span>,`:` and <span class="bold">${e.template_data_binding.name}</span> column selections`)).join("");be(".dialog .btn.primary").classed("disabled",d.length),(e=>{const t=be(".dialog");if(e)Jt=Vt,t.node().addEventListener("keydown",$t);else{const e=Object.keys(Jt).reduce(((e,t)=>(e[t]||"13"===t||(e[t]=Jt[t]),e)),{});Jt=e,t.node().addEventListener("keydown",$t)}})(!d.length),be("#type-mismatch-warning").style("display",d.length?"block":"none"),be("#number-type-div").style("display",d.length?"none":"number"===t?null:"none"),be("#datetime-type-div").style("display",d.length?"none":"datetime"===t?null:"none"),be("#format-div").style("display",d.length||"string"===t?"none":null),be("#type-mismatch-warning-message").html(`You can't change the type of this column to <span class="bold">${Q_[t].text}</span> while it is being used by the ${c}.`)},v=function(e){const t=be(e.target),n=be("#output-format-select");t.attr("data-value-original")===be("#output-format-select").attr("data-value")&&n.attr("data-value",t.attr("data-value"))};function b(e){return Object.entries(e.reduce(((e,t)=>{const n=t[1].split("$")[1];return/^%d/i.test(n)?e["Day first"].push(t):/^%b/i.test(n)||/^%m/i.test(n)?e["Month first"].push(t):/^%y/i.test(n)?e["Year first"].push(t):e["Other formats"].push(t),e}),{"Day first":[],"Month first":[],"Year first":[],"Other formats":[]})).map((e=>[[e[0]],...e[1]])).flat()}(u=Gt("Editing column "+b_(e.index)+(e.header?` (${e.header})`:""),y.outerHTML,{is_html:!0,buttons:[{text:"Apply",keyCode:13,class:"primary",callback:()=>function(t){var n,r=u.select("#type-select").attr("data-value");"number"===r?n=u.select("#number-type-select").attr("data-value"):"datetime"===r?n=u.select("#datetime-type-select").attr("data-value"):"string"===r&&(n=eh);var i=null;"string"!==r&&(i=u.select("#output-format-select").attr("data-value"));const o=Ps.getInterpretation(n);e.type=r,e.type_id=n,e.output_format_id=i,e.values=t.slice(1).map((e=>{var t="number"==o.type?Bs(e):e;return o.parse(t)})),a&&a()}(r)},{text:"Cancel",keyCode:27,class:"secondary"}]})).select(".dialog-inner").style("overflow","visible"),g(),u.select("#type-select").on("change",g),u.select("#number-type-select").on("change",v),u.select("#datetime-type-select").on("change",v),X_(be("#type-select").node(),"type-select-dropdown",o,i),X_(be("#number-type-select").node(),"number-select-dropdown",s,i),X_(be("#datetime-type-select").node(),"datetime-select-dropdown",d,i)}function rh(e,t,n){const a=Object.keys(n).filter((t=>{const a=n[t];return null!=a.column?a.column===e:a.columns.includes(e)})).reduce(((e,t)=>(null==e[t]&&(e[t]=n[t]),e)),{});return Object.keys(a).filter((e=>!a[e].template_data_binding.data_type.includes(t))).map((e=>n[e]))}var ih,oh,sh,lh=[{full:"#F4B1C5",light:"#FFDDE7"},{full:"#967EC6",light:"#D0C5E5"},{full:"#C67EBD",light:"#E5C5E1"},{full:"#7E91C6",light:"#C5CDE5"},{full:"#7EB0C6",light:"#C5DBE5"},{full:"#7EC69B",light:"#C5E5D2"},{full:"#B3C67E",light:"#DDE5C5"},{full:"#C69B7E",light:"#E5D2C5"}],dh={},uh={},ch=0;function mh(e,t){ch=0;var n=!1;e.template_id&&e.dataTables((function(a,r){if(a)return console.error("Failed to get data tables: "+a);uh={};var i=e.dataBindingsForCurrentTemplate(),o=e.getDataTableNames(),s=be(".sheet-tab.selected").size()>0?be(".sheet-tab.selected").datum().id:null;oh.html("");var l=null;"string"!=typeof t[0]&&(t=["Data"].concat(t));for(var d,u=[],c=0;c<t.length;c++){const e=t[c],n=t[c-1],a=!(!n||"string"==typeof n||n.dataset===e.dataset),r=(e.columns||e.column||"").split("::")[0],s="string"==typeof e;if((s||a)&&(void 0!==d&&u.push(d),d={title:s?e:r,description:null,bindings:[],template_sheet:null,visualisation_sheet:null}),s){if(c<t.length-1){var m=t[c+1];"string"==typeof m&&(d.description=m,c+=1)}}else{if(null===d.template_sheet&&r)for(var p in o)if(o[p]===r){d.template_sheet=+p;break}if(null===d.visualisation_sheet){var _=i[e.dataset]&&i[e.dataset][e.key];_&&(d.visualisation_sheet=_.data_table_id)}d.bindings.push(e),c===t.length-1&&u.push(d)}}for(c=0;c<u.length;c++){var h=u[c],f=h.bindings,y=h.visualisation_sheet||h.template_sheet||r[0].id,g=(l=oh.append("div").attr("class","data-block").attr("data-sheet",o[y]).style("display",y===s?null:"none")).append("h2").attr("class","no-select");g.append("i").attr("class","fa fa-table"),g.append("span").text(" "+h.title),h.description&&l.append("p").text(h.description);var v=l.append("div").attr("class","data-bindings-header");v.append("p").attr("class","data-bindings-title").text("Select columns to visualise");for(var b=0;b<f.length;b++){var M=f[b];M.data_type&&(n=!0);var w=i[M.dataset]&&i[M.dataset][M.key],L=w?w.data_table_id:y;uh[M.dataset]||(uh[M.dataset]={}),uh[M.dataset][M.key]=L,L!==y&&L===s&&l.style("display",null),ph(l.append("div"),M,w,o,L!==s)}n&&v.append("p").attr("class","data-bindings-reset clickable").html("<i class='fa fa-magic'></i> Auto set columns").on("click",(function(){Gt("Automatically choose your columns","<i class='fa fa-magic'></i> Flourish will interpret your data to determine which columns to visualize",{is_html:!0,buttons:[{text:"Continue",keyCode:13,class:"primary",callback:function(){ih.spreadsheet.inferDataBindings()}},{text:"Cancel",keyCode:27,class:"secondary"}]})}))}ih.spreadsheet&&(ih.spreadsheet.updateHighlights(),ih.spreadsheet.updateTabs())}))}function ph(e,t,n,a,r){lh[ch]||(ch=0),e.attr("class","settings-option option-type-"+t.type).style("display",r?"none":null);var i=null==n?"":Y_(n,a,!1,t.optional);dh[t.dataset]||(dh[t.dataset]={}),dh[t.dataset][t.key]=ch;var o="column"===t.type&&!t.optional,s=o&&!n;e.classed("empty-required-binding",s);var l=e.append("div").attr("class","data-binding-title").on("click",(function(){be(this).select("input").node().focus()}));l.append("h3").text(t.name).append("i").attr("class","fa fa-question setting-tooltip").style("display",t.description||t.data_type?null:"none"),"column"!=t.type||t.optional||l.select("h3").append("span").attr("class","required").text("Required"),l.append("input").attr("id","data-binding-"+t.dataset+"-"+t.key).attr("name",t.dataset+"-"+t.key).attr("disabled",!ih.visualisation.can_edit||null).attr("autocomplete","off").attr("title",'Type in column IDs here, for example "A" or "A,B,D" or "A-D"').each((function(){this.value=i})).attr("data-value",i).attr("type","text").call(function(e){return function(t){t.on("change",(function(){Ct.hide(),function(e,t){var n=e.parentElement.parentElement.parentElement.getAttribute("data-sheet"),a=e.value.indexOf("::")>-1,r={type:t.type};"column"==r.type?r.column=a?e.value:n+"::"+e.value:r.columns=a?e.value:n+"::"+e.value;var i,o=e.getBoundingClientRect(),s=[o.left-5,o.top+.5*o.height];if(e.value||"column"!=r.type){try{i=function(e,t){var n={};if(!(e.type in e)){if(e.optional)return n;throw new Error("Data binding must specify '"+e.type+"': "+JSON.stringify(e))}var a=e[e.type].indexOf("::");if(-1==a)throw new Error("Invalid data binding: "+e[e.type]);var r=e[e.type].substr(0,a);n.data_table_id=t[r];var i=e[e.type].substr(a+2);if("column"==e.type)n.column=v_(i,e.optional);else{if("columns"!=e.type)throw new Error("Unknown data binding type: "+e.type);n.columns=L_(i)}return n}(r,ih.visualisation.getDataTableIds());var l=Y_(i,ih.visualisation.getDataTableNames(),!1,t.optional);e.value.toUpperCase()!==l&&(e.value=l)}catch(t){return console.error("Failed to parse data binding",t),Ct.point(s).text(t.message).draw(),e.value=e.getAttribute("data-value"),void(sh=!0)}if(be(e.parentElement.parentElement).classed("empty-required-binding",!1),!i.data_table_id)return e.value=e.getAttribute("data-value"),Ct.point(s).text("No such data table").draw(),void(sh=!0);if(t.data_type){const n=ih.spreadsheet.getTypeAnnotatedColumns();if("column"===r.type){const a=n[i.column];if(!a)return Ct.point(s).html(`<h1>Column '${e.value}' does not exist</h1><p>Choose a column from the data table</p>`).draw(),e.value=e.getAttribute("data-value"),void(sh=!0);if(hh(t,a))return e.value=e.getAttribute("data-value"),Ct.point(s).html(`\n\t\t\t\t\t\t<h1>This column selection does not accept ${fh([a.type])} columns</h1>\n\t\t\t\t\t\t<p style="font-size:1em; margin-top:0.75em;">Choose a different column or check/change the column’s type in the header row with the following types:</p>\n\t\t\t\t\t\t<div style="font-size: 1em; margin-top: 0.75em;">${fh(t.data_type)}</div>\n\t\t\t\t\t`).draw(),void(sh=!0)}else{const a=n.filter((e=>i.columns.includes(e.index))).filter((e=>hh(t,e)));if(a.length){e.value=e.getAttribute("data-value");var d=a.map((e=>e.type)).reduce(((e,t)=>e.includes(t)?e:[...e,t]),[]),u=d.reduce(((e,t,n,a)=>1===a.length?fh([t]):(n<a.length-1?e+=`${n>0?",":""}  ${fh([t])}`:e+=`or ${fh([t])}`,e)),"");return Ct.point(s).html(`\n\t\t\t\t\t\t<h1>This column selection does not accept ${u} columns</h1>\n\t\t\t\t\t\t<p style="font-size:1em; margin-top:0.75em;">Choose a different column or check/change the column’s type in the header row with the following types:</p>\n\t\t\t\t\t\t<div style="font-size: 1em; margin-top: 0.75em;">${fh(t.data_type)}</div>\n\t\t\t\t\t`).draw(),void(sh=!0)}}}}else if(i=null,!t.optional)return e.value=e.getAttribute("data-value"),Ct.point(s).text("This column selection is required").draw(),void(sh=!0);ih.spreadsheet.updateTabs();var c={};c[t.dataset]={},c[t.dataset][t.key]=i,_h(c,(function(){e.setAttribute("data-value",e.value);var t=yh();t?(be(".publish-btn").classed("disabled",!0),be(".republish-btn").classed("disabled",!0),we(".download-btn").classed("disabled",!0),be("body").classed("impossible",!0)):(be(".publish-btn").classed("disabled",!1),be(".republish-btn").classed("disabled",!1),we(".download-btn").classed("disabled",!1),be("body").classed("impossible",!1),ih.visualisation.getState((function(e){ih.visualisation.prepareData((function(t,n){t?console.error("Failed to prepare data for template"):ih.preview_pane.getDrawCalled()?ih.preview_pane.sync({data:n,state:e,update:!0}):(ih.preview_pane.sync({data:n,state:e,draw:!0}),ih.preview_pane.setDrawCalled(!0))}))}))),ih.spreadsheet&&ih.spreadsheet.updateHighlights(),ih.template_settings&&(t?ih.template_settings.setReadOnly():ih.template_settings.unsetReadOnly(),ih.template_settings.populate()),ih.theme_chooser.enableOrDisable()}))}(this,e)})).on("keydown",(function(){ih.confirm.blank()})).on("focus",(function(){sh||Ct.hide(),sh=!1,we(".data-bindings .settings-option").classed("open",!1),be(this.parentElement.parentElement).classed("open",!0)}))}}(t)).style("background",lh[ch].light).style("border-color",lh[ch].full),s&&ih.template_settings.setReadOnly(),o&&e.append("div").attr("class","data-binding-required").append("p").text("This column selection is required. The visualisation will not update while this field is empty.");var d,u=e.append("div").attr("class","data-binding-description");if(t.description&&u.append("p").text(t.description),t.data_type){var c=u.append("div").attr("class","data-binding-data-types");c.append("p").text("Accepted column types");for(var m=Array.isArray(t.data_type)?t.data_type:[t.data_type],p=0;p<m.length;p++)d="string"==typeof m[p]?m[p]:m[p].type,c.append("span").attr("class","type-symbol data-binding-type-symbol").attr("title",Q_[d].text+" column.").style("background-image","url("+Q_[d].symbol+")")}ch++}function _h(e,t){ih.confirm.saving(),ih.visualisation.updateDataBindings(e,(function(e){if(e)return ih.confirm.error(e.message||e),console.error("Failed to save data binding:",e),void ih.analytics("send","exception",{exDescription:e.message||e,exFatal:!0});ih.analytics("send","event","visualisation","change_data_binding",ih.visualisation.id),ih.confirm.saved(),gh(),t&&t()}))}function hh(e,t){return!(Array.isArray(e.data_type)?e.data_type:[e.data_type]).some((e=>"string"==typeof e?e===t.type:e.type===t.type))}function fh(e){return e.map((e=>`\n\t\t<span class="column-type">\n\t\t<span class="type-symbol" title="${Q_[e].text} column" style="background-image: url(${Q_[e].symbol});"></span>\n\t\t<h2>${Q_[e].text}</h2>\n\t\t</span>\n\t\t`)).join("")}function yh(){var e=ih.visualisation.dataBindingsForCurrentTemplate(),t=ih.template_data_bindings,n={};return t.forEach((function(e){"string"!=typeof e&&(n[e.dataset]||(n[e.dataset]={}),n[e.dataset][e.key]=e)})),t.some((function(t){if("string"!=typeof t&&"column"===t.type&&!n[t.dataset][t.key].optional)return!e[t.dataset]||null==e[t.dataset][t.key]}))}function gh(e=!0){if(yh())be("body").classed("impossible",!0),be(".empty-label").html("<i class='fa fa-exclamation-triangle'></i> Oops! It looks like one of the required column selections is empty."),be(".empty-details").html("Head over to the <span class='data-tab-icon'><i class='fa fa-table'></i> Data</span> tab to choose a suitable column.");else if(be("body").classed("impossible")){const t=ih.visualisation?ih.visualisation:ih.story;t.status&&t.status.requested_by?ih.confirm_published.awaitingReview(t.status,t.can_review,ih.user):ih.visualisation.embed_url&&e?ih.confirm_published.edited():(ih.confirm_published.unpublished(),be("body").classed("impossible",!1),be(".empty-label").text(""),be(".empty-details").text(""))}}var vh="https://fonts.googleapis.com/css?family=",bh=["Source Sans Pro","Roboto Condensed","Merriweather","Lora","Playfair Display","Coda","Lobster","Cabin Sketch"],Mh="Same as parent",wh=[],Lh=[],kh={};function Yh(e){return vh+e.replace(/ /g,"+")+":400,700"}function Dh(e){var t=Lh.concat(wh,bh.map((function(e){return{name:e,url:Yh(e)}})));return e&&t.unshift({name:Mh}),t}function xh(e){return Dh(!0).find((function(t){return t.name==e}))}var Th=!1;function Sh(e){return e.substr(e.lastIndexOf("=")+1).replace(/\+/g," ")}function Hh(e){var t=e.target,n=t.value;if(n&&(0==n.indexOf(vh)&&(n=t.value=Sh(n)),!xh(n))){if(/^https?:\/\//.test(n)){Th||(Eh(n),t.value="");var a=n;return n=t.value=Sh(a),Lh.push({name:n,url:a}),void jh()}var r=Yh(n);try{var i=new XMLHttpRequest;if(i.open("HEAD",r,!1),i.send(),404==i.status)throw"Font not found";Lh.push({name:n,url:r}),jh()}catch(e){Eh(n),t.value=""}}}function Eh(e){Gt("Unrecognised font “"+e+"”","Fonts must be chosen from Google Fonts. Visit <a href='https://fonts.google.com'>fonts.google.com</a> to find more",{is_html:!0})}function jh(){var e,t,n=Object.keys(kh);for(e=0;e<n.length;++e)(t=kh[n[e]]).autocomplete.options(Dh(t.can_inherit).map((function(e){return e.name})))}var Ah={initialize:function(e,t,n){var a=!!t.optional;Th=n,e.classList.add("font-menu"),kh[t.property]={autocomplete:X_(e,t.property+"-dropdown",Dh(a).map((function(e){return e.name})),{allow_other_option:!0}),can_inherit:a},e.addEventListener("change",Hh)},update:function(e,t){var n=t?t.name:Mh;e.value=n,xh(n)||(n!=Mh&&Lh.push({name:n,url:t.url}),jh())},getValue:function(e){if(/^https?:\/\//.test(e.value))return{name:Sh(e.value),url:e.value};var t=e.value;if(t==Mh)return null;var n=xh(t);return n||{name:t,url:Yh(t)}},replaceThemeFonts:function(e){wh=(e||[]).map((function(e){return{name:e.name,url:e.url}})),jh()}};function Ch(e){for(var t=e.length/6|0,n=new Array(t),a=0;a<t;)n[a]="#"+e.slice(6*a,6*++a);return n}var Oh,Fh,Ph=Ch("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Nh=Ch("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Rh=Ch("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Wh=Ch("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2");function zh(e){var t;if(Oh=be(".detailed-settings"),(Fh=Oh.append("div").attr("class","settings-block")).append("h2").text("Back to settings").on("click",(function(){Oh.transition().duration(100).style("opacity",0).on("end",(function(){be(this).html("").style("display","none"),be(".template-settings").style("display","block").style("opacity",0).transition().duration(200).style("opacity",1),be(".template-settings-search").style("display",null).style("opacity",0).transition().duration(200).style("opacity",1)})),Oh.node()})),"string"==typeof e)t=Fh.append("div").html(e);else if("object"==typeof e&&(t=Fh.append(e.type),e.value&&(Fh.node().value=e.value),e.attributes))for(var n in e.attributes)t.attr(n,e.attributes[n]);return t.node().focus(),be(".template-settings-search").style("display","none"),be(".template-settings").style("display","none"),Oh.style("display","block").style("opacity",0).transition().duration(200).style("opacity",1),Oh.node()}var Uh,Ih,qh,Bh,Jh={},Vh={},$h={"Flourish 1":{scheme:"flourish_default_1",colors:["#1D6996","#EDAD08","#73AF48","#94346E","#38A6A5","#E17C05","#5F4690","#0F8554","#6F4070","#CC503E","#994E95","#666666"]},"Flourish 2":{scheme:"flourish_default_2",colors:["#11A579","#CC503E","#3969AC","#F2B701","#7F3C8D","#80BA5A","#E68310","#CF1C90","#008695","#F97B72","#4B4B8F","#A5AA99"]},Rainbow:{colors:["#5F4690","#1D6996","#38A6A5","#0F8554","#73AF48","#EDAD08","#E17C05","#CC503E","#94346E","#6F4070","#994E95","#666666"]},Pastel:{colors:["#66C5CC","#F6CF71","#F89C74","#DCB0F2","#87C55F","#9EB9F3","#FE88B1","#C9DB74","#8BE0A4","#B497E7","#D3B484","#B3B3B3"]},Antique:{colors:["#855C75","#D9AF6B","#AF6458","#736F4C","#526A83","#625377","#68855C","#9C9C5E","#A06177","#8C785D","#467378","#7C7C7C"]},Accent:{scheme:"schemeAccent",colors:Ph},Dark:{scheme:"schemeDark2",colors:Nh},Paired:{scheme:"schemePaired",colors:Rh},Pale:{scheme:"schemePastel1",colors:Wh},"Farrow & Ball":{colors:["#EDD8C4","#C4A999","#F9C1C0","#B76A4C","#8F483C","#783027","#8A1D2E","#602A1F","#893838","#BD795A","#DC6130","#AD3B34","#ECE8BD","#F7E28A","#EBEB82","#FAD862","#F1CA61","#F5C03B","#F9E7D4","#F4E4AC","#EFD491","#DAC589","#D2B15E","#CD9344","#EFEFCC","#E8E7CA","#CAD5AD","#B9B495","#73806F","#636F65","#BDAB65","#889A73","#829C7A","#6C7855","#81B693","#BBBEA0","#99A286","#AAC0B3","#427E7F","#769194","#ECF3EC","#EBEBD4","#D0D9C9","#9EAF9F","#7A8E8D","#516365","#DBE5DC","#C4C9C5","#CBD7D7","#AABEBF","#66839A","#A0D2CD","#56AAC5","#535E7D","#2E3548","#48606E","#2C3437"]}},Gh={};function Kh(){var e,t={};for(e in Gh)t[e]=Gh[e];for(e in $h)t[e]=$h[e];return t}var Zh="Edit color palette";function Xh(e){e&&e.length?(Gh={},e.forEach((function(e){var t=Object.keys(e)[0];Gh[t]={colors:e[t]}}))):Gh={},function(){for(var e in Jh){Jh[e].options(ef())}}()}function Qh(){if(void 0!==Uh)return Uh;var e=document.createElement("input");return e.setAttribute("type","color"),e.setAttribute("value","!"),Uh="color"==e.type&&"!"!==e.value}function ef(){var e=[],t=Kh();for(var n in e.push([Zh,""]),t)e.push([n,t[n].colors.join("|")]);return e}function tf(e,t){var n=e[0],a=e[1];if(!a){const e=Me("em");return e.append("i").classed("fa fa-pencil",!0),e.node().append(Zh),e.node()}Array.isArray(a)||(a=a.split("|"));const r=[];if(t&&n){const e=Me("label").text(n);r.push(e.node())}return a.forEach((function(e,t){const n=Me("span").attr("data-index",t).style("background-color",e);r.push(n.node())})),r}function nf(e,t){var n,a,r=Kh(),i=e.parentNode.querySelector(".color-swatches");if(Array.isArray(t))a=t;else if("string"==typeof t){if(r[t])n=t;else for(var o in r)if(r[o].scheme==t){n=o;break}n&&(a=r[n].colors)}if(!a||!a.length)return e.parentNode.classList.remove("custom"),e.removeAttribute("data-value"),e.value="",void(i.innerHTML="");i.innerHTML="",i.append(...tf([null,a])),e.setAttribute("data-value",a.join("|"))}function af(e){Bh=e.target,e.dataTransfer.setData("text/plain","x"),event.dataTransfer.effectAllowed="move",be(Bh).classed("dragging",!0),we(".palette p:not(.dragging) input").style("pointer-events","none")}function rf(e){e.preventDefault();var t=be(".palette").selectAll("[draggable='true']").style("border-color",null),n=be(e.target);if("true"===n.attr("draggable")){var a="bottom";if(n.node()===t.nodes()[0]){var r=e.target.getBoundingClientRect(),i=r.top+r.height/2;e.clientY<i&&(a="top")}be(e.target).style("border-"+a,"1px solid black")}}function of(e){if(Bh){for(var t=e.target;t&&("P"!==t.tagName||!t.nextSibling);)t=t.parentNode;if(t){var n=t.nextSibling;if(t===be(".palette").selectAll("[draggable='true']").style("border-color",null).nodes()[0]){var a=t.getBoundingClientRect(),r=a.top+a.height/2;e.clientY<r&&(n=t)}t.parentNode.insertBefore(Bh,n),Bh=!1,df()}}}function sf(){be(Bh).classed("dragging",!1),we(".palette *").style("border-bottom",null).style("border-top",null),we(".palette p input").style("pointer-events",null)}function lf(e){for(var t=e.target;t&&"BUTTON"!==t.tagName;)t=t.parentNode;t&&(t.classList.contains("fa-plus-square")?function(e){var t=e.target.parentNode,n=uf("#000000");t.insertAdjacentHTML("beforebegin",n),df()}(e):t.classList.contains("fa-times")&&function(e){e.parentNode.childNodes.length>2?e.parentNode.removeChild(e):("INPUT"==e.firstChild.tagName?e.firstChild.value="#000000":e.firstChild.style.backgroundColor="#000000",e.firstChild.nextSibling.value="#000000");df()}(t.parentNode))}function df(){for(var e=qh.getAttribute("data-autocomplete"),t=Jh[e],n=[],a=Ih.querySelectorAll(".palette input[type=text]"),r=0;r<a.length;r++)n.push(a[r].value);var i=t.options();Vh[e]?i[0][1]=n.join("|"):i.unshift(["Custom",n.join("|")]),Vh[e]=n,t.options(i),nf(qh,n),be(qh).dispatch("change")}function uf(e){const t=Me("p").attr("draggable",!0);return t.append("span").classed("swatch-handle",!0).text(".. .. .."),Qh()?t.append("input").attr("type","color").attr("value",e):t.append("span").classed("swatch-color",!0).style("background-color",e),t.append("input").attr("type","text").attr("value",e),t.append("button").attr("type","button").classed("fa fa-times",!0),t.node().outerHTML}function cf(e){var t=e.target,n=t.value,a=t.parentNode;if(!n)return a.parentNode.removeChild(a),void df();var r=_a(n);if(!r)return console.warn("bad color",n),"color"==t.type?t.value=t.nextSibling.value:Qh()?t.value=t.previousSibling.value:t.value=t.previousSibling.style.backgroundColor,void(Ct.point(t).text(n+" is not a valid color").draw()._getElement().style.zIndex=115);"color"==t.type?t.nextSibling.value=n:Qh()?t.previousSibling.value=r.hex():t.previousSibling.style.backgroundColor=n,df()}var mf,pf,_f={initialize:function(e,t){t.choices&&Xh(t.choices),e.type="text",e.classList.add("colors");var n=document.createElement("span");n.setAttribute("class","color-swatches"),e.parentNode.insertBefore(n,e);var a=e.getAttribute("name")+"-dropdown";Jh[a]=X_(e,a,ef(),{custom_renderer:tf}),e.addEventListener("change",(function(t){e.value==Zh?(t.stopImmediatePropagation(),e.value="",function(e){qh=e;var t=(Ih=zh({type:"div",attributes:{class:"palette"}})).querySelector(".palette"),n=function(e,t){t||(t=e.parentNode.querySelector(".color-swatches"));for(var n=[],a=0;a<t.childNodes.length;a++)if(!t.childNodes[a].classList.contains("fa")){var r=t.childNodes[a].style.backgroundColor,i=_a(r);i?n.push(i.hex()):(console.warn("Bad color",r),n.push("#000000"))}return n}(e),a="";n.forEach((function(e){a+=uf(e)})),a+="<p><button class='fa fa-plus-square clickable'></button></p>",t.innerHTML=a,t.addEventListener("change",cf),t.addEventListener("dragstart",af),t.addEventListener("dragover",rf),t.addEventListener("drop",of),t.addEventListener("dragend",sf),t.addEventListener("click",lf)}(e)):nf(e,(e.getAttribute("data-value")||"").split("|"))}))},update:nf,getValue:function(e){var t=e.getAttribute("data-value");return t?t.split("|"):null},replaceThemeColors:Xh},hf={};const ff={style:!0,url:!0,flourish_embed:!0};var yf={h1:{path:"M0.00100708 0.524002V9H1.91201V5.464H4.83701V9H6.76101V0.524002H4.83701V3.787H1.91201V0.524002H0.00100708ZM8.91 7.453V9H14.162V7.453H12.615V0.744995H11.211C10.9163 0.918329 10.613 1.06566 10.301 1.187C9.989 1.30833 9.60767 1.41233 9.157 1.499V2.682H10.704V7.453H8.91Z",width:14,height:9},h2:{path:"M0.00100708 0.524002V9H1.91201V5.464H4.83701V9H6.76101V0.524002H4.83701V3.787H1.91201V0.524002H0.00100708ZM8.24078 7.908V9H14.0518V7.388H12.3878C12.1884 7.388 11.9588 7.401 11.6988 7.427C11.4474 7.44434 11.2178 7.466 11.0098 7.492C11.3478 7.14534 11.6728 6.79434 11.9848 6.439C12.3054 6.07501 12.5871 5.71534 12.8298 5.36C13.0811 4.996 13.2804 4.63634 13.4278 4.281C13.5751 3.917 13.6488 3.56167 13.6488 3.215C13.6488 2.81634 13.5838 2.45667 13.4538 2.136C13.3238 1.81534 13.1374 1.54234 12.8948 1.317C12.6521 1.083 12.3618 0.905338 12.0238 0.784004C11.6944 0.654004 11.3261 0.589005 10.9188 0.589005C10.3294 0.589005 9.82245 0.701671 9.39778 0.927004C8.97311 1.14367 8.55711 1.46867 8.14978 1.902L9.18978 2.929C9.39778 2.70367 9.61878 2.50867 9.85278 2.344C10.0868 2.17067 10.3554 2.084 10.6588 2.084C11.0228 2.084 11.3088 2.19234 11.5168 2.409C11.7248 2.617 11.8288 2.92467 11.8288 3.332C11.8288 3.62667 11.7378 3.93867 11.5558 4.268C11.3824 4.58867 11.1354 4.93967 10.8148 5.321C10.5028 5.69367 10.1258 6.09667 9.68378 6.53C9.25045 6.95467 8.76945 7.414 8.24078 7.908Z",width:15,height:9},bold:{path:"M0.00100708 9V0.524002H2.90001C3.34201 0.524002 3.74934 0.558669 4.12201 0.628002C4.50334 0.688669 4.83267 0.801335 5.11001 0.966002C5.39601 1.13067 5.61701 1.34734 5.77301 1.616C5.93767 1.88467 6.02001 2.22267 6.02001 2.63C6.02001 2.82067 5.99401 3.01134 5.94201 3.202C5.89001 3.39267 5.81634 3.57034 5.72101 3.735C5.62567 3.89967 5.50867 4.047 5.37001 4.177C5.24001 4.307 5.08834 4.40234 4.91501 4.463V4.515C5.13167 4.567 5.33101 4.64934 5.51301 4.762C5.69501 4.866 5.85534 5.00034 5.99401 5.165C6.13267 5.32967 6.24101 5.52467 6.31901 5.75C6.39701 5.96667 6.43601 6.218 6.43601 6.504C6.43601 6.93734 6.34934 7.31 6.17601 7.622C6.01134 7.934 5.77734 8.194 5.47401 8.402C5.17934 8.60134 4.83267 8.753 4.43401 8.857C4.03534 8.95234 3.60634 9 3.14701 9H0.00100708ZM1.91201 3.917H2.80901C3.27701 3.917 3.61501 3.826 3.82301 3.644C4.03967 3.462 4.14801 3.21934 4.14801 2.916C4.14801 2.58667 4.03967 2.35267 3.82301 2.214C3.60634 2.07534 3.27267 2.006 2.82201 2.006H1.91201V3.917ZM1.91201 7.518H2.99101C4.03967 7.518 4.56401 7.13667 4.56401 6.374C4.56401 6.00134 4.43401 5.737 4.17401 5.581C3.91401 5.41634 3.51967 5.334 2.99101 5.334H1.91201V7.518Z",width:7,height:9},italic:{path:"M7 1.44444H5.06656L3.6687 8.05556H5.5V9H0.5V8.05556H2.6547L4.05256 1.44444H2V0.5H7V1.44444Z",width:7,height:9},line_break:{description:"Add line break",path:"M14 0V6H3.83L6.41 3.41L5 2L0 7L5 12L6.41 10.59L3.83 8H16V0H14Z",width:16,height:12},url:{description:"Add URL",path:"M8.03571429,6.69642857 C8.03571429,6.5476183 7.98363147,6.42113147 7.87946429,6.31696429 L6.71875,5.15625 C6.61458281,5.05208281 6.48809598,5 6.33928571,5 C6.18303493,5 6.0491077,5.05952321 5.9375,5.17857143 L6.16350446,5.40178571 L6.16350446,5.40178571 L6.21434766,5.4637896 C6.22447497,5.4770171 6.23542901,5.49169139 6.24720982,5.5078125 C6.28255226,5.55617584 6.30673357,5.6036084 6.31975446,5.65011161 C6.33277536,5.69661482 6.33928571,5.74776758 6.33928571,5.80357143 C6.33928571,5.9523817 6.2872029,6.07886853 6.18303571,6.18303571 C6.07886853,6.2872029 5.9523817,6.33928571 5.80357143,6.33928571 C5.74776758,6.33928571 5.69661482,6.33277536 5.65011161,6.31975446 C5.6036084,6.30673357 5.55617584,6.28255226 5.5078125,6.24720982 L5.42844742,6.18644594 L5.42844742,6.18644594 L5.37357392,6.13653276 L5.37357392,6.13653276 L5.17857143,5.9375 L5.17857143,5.9375 C5.05580296,6.05282796 4.99441964,6.18861529 4.99441964,6.34486607 C4.99441964,6.49367634 5.04650246,6.62016317 5.15066964,6.72433036 L6.30022321,7.87946429 C6.40067015,7.97991122 6.52715698,8.03013393 6.6796875,8.03013393 C6.82849777,8.03013393 6.9549846,7.98177132 7.05915179,7.88504464 L7.87946429,7.0703125 C7.98363147,6.96614531 8.03571429,6.84151858 8.03571429,6.69642857 Z M4.11272321,2.76227679 C4.11272321,2.61346652 4.0606404,2.48697969 3.95647321,2.3828125 L2.80691964,1.22767857 C2.70275246,1.12351138 2.57626562,1.07142857 2.42745536,1.07142857 C2.28236535,1.07142857 2.15587852,1.12165128 2.04799107,1.22209821 L1.22767857,2.03683036 C1.12351138,2.14099754 1.07142857,2.26562427 1.07142857,2.41071429 C1.07142857,2.55952455 1.12351138,2.68601138 1.22767857,2.79017857 L2.38839286,3.95089286 C2.48883979,4.05133979 2.61532662,4.1015625 2.76785714,4.1015625 C2.92410792,4.1015625 3.05803516,4.04389939 3.16964286,3.92857143 L2.94363839,3.70535714 L2.94363839,3.70535714 L2.85993304,3.59933036 L2.85993304,3.59933036 C2.8245906,3.55096702 2.80040929,3.50353446 2.78738839,3.45703125 C2.77436749,3.41052804 2.76785714,3.35937528 2.76785714,3.30357143 C2.76785714,3.15476116 2.81993996,3.02827433 2.92410714,2.92410714 C3.02827433,2.81993996 3.15476116,2.76785714 3.30357143,2.76785714 C3.35937528,2.76785714 3.41052804,2.77436749 3.45703125,2.78738839 C3.50353446,2.80040929 3.55096702,2.8245906 3.59933036,2.85993304 L3.70535714,2.94363839 L3.70535714,2.94363839 L3.92857143,3.16964286 L3.92857143,3.16964286 C4.0513399,3.0543149 4.11272321,2.91852757 4.11272321,2.76227679 Z M8.63839286,5.55803571 C8.95089442,5.87053728 9.10714286,6.24999777 9.10714286,6.69642857 C9.10714286,7.14285938 8.94903432,7.52045977 8.6328125,7.82924107 L7.8125,8.64397321 C7.50371869,8.95275452 7.1261183,9.10714286 6.6796875,9.10714286 C6.22953644,9.10714286 5.85007595,8.94903432 5.54129464,8.6328125 L4.39174107,7.47767857 C4.08295977,7.16889727 3.92857143,6.79129688 3.92857143,6.34486607 C3.92857143,5.8872745 4.09226027,5.4985135 4.41964286,5.17857143 L3.92857143,4.6875 C3.60862935,5.01488259 3.22172846,5.17857143 2.76785714,5.17857143 C2.32142634,5.17857143 1.94196585,5.02232299 1.62946429,4.70982143 L0.46875,3.54910714 C0.156248437,3.23660558 -8.52651283e-14,2.85714509 -8.52651283e-14,2.41071429 C-8.52651283e-14,1.96428348 0.158108538,1.58668309 0.474330357,1.27790179 L1.29464286,0.463169643 C1.60342416,0.154388337 1.98102455,1.42108547e-14 2.42745536,1.42108547e-14 C2.87760642,1.42108547e-14 3.25706691,0.158108538 3.56584821,0.474330357 L4.71540179,1.62946429 C5.02418309,1.93824559 5.17857143,2.31584598 5.17857143,2.76227679 C5.17857143,3.21986836 5.01488259,3.60862935 4.6875,3.92857143 L5.17857143,4.41964286 C5.4985135,4.09226027 5.8854144,3.92857143 6.33928571,3.92857143 C6.78571652,3.92857143 7.16517701,4.08481987 7.47767857,4.39732143 L8.63839286,5.55803571 Z",width:9.5,height:9.5},flourish_embed:{description:"Add Flourish embed",path:"M7.57358 5.28931L10.1281 6.04854L10.0432 6.517L7.37515 6.22624L9.44904 7.9224L9.20119 8.29833L6.86556 7.0207L8.11097 9.37696L7.7504 9.62552L6.06604 7.5604L6.34206 10.2078L5.89578 10.2926L5.11055 7.73772L4.36044 10.2926L3.89331 10.2078L4.16934 7.5604L2.50622 9.62552L2.12402 9.37696L3.38372 7.0207L1.04113 8.29833L0.793673 7.9224L2.88146 6.22624L0.213045 6.517L0.128113 6.04854L2.6479 5.28931L0.128113 4.53667L0.213045 4.06859L2.88146 4.35974L0.793673 2.66319L1.04113 2.28687L3.38372 3.56451L2.12402 1.20824L2.50622 0.960069L4.16934 3.02519L3.89331 0.377778L4.36044 0.292603L5.11055 2.84787L5.89578 0.292603L6.34206 0.377778L6.06604 3.02519L7.7504 0.960069L8.11097 1.20824L6.86556 3.56451L9.20119 2.28687L9.44904 2.66319L7.37515 4.35974L10.0432 4.06859L10.1281 4.53667L7.57358 5.28931Z",width:10,height:10}};function gf(e,t){hf=t||ff;var n=be(pf=zh({type:"div",attributes:{class:"text-editor-container settings-option"}})).select(".text-editor-container").html("");for(var a in n.append("div").attr("class","text-settings"),n.append("textarea").text(e.value).attr("class","text-input").on("blur",(function(){e.value=this.value,be(e).dispatch("change")})),hf)hf[a]&&vf(a);(hf.bindings||hf.bindings_custom)&&(n.append("div").attr("class","text-bindings"),bf()),zt()}function vf(e){if("bindings"!=e&&"bindings_custom"!=e){var t=be(pf).select(".text-settings").append("div").attr("class","editor-section");if("style"==e){["h1","h2","bold","italic","line_break"].forEach((function(e){var n=yf[e].description?yf[e].description:"Add "+e+" text";t.append("div").attr("class","editor-button popup").attr("data-action",e).attr("data-popup-body",n).attr("data-popup-position","top").on("click",Mf).append("svg").attr("height",yf[e].height).attr("width",yf[e].width).attr("viewBox","0 0 "+yf[e].width+" "+yf[e].height).append("path").attr("fill","#333333").attr("d",yf[e].path)}))}else{var n=yf[e].description?yf[e].description:"Add "+e;t.append("div").attr("class","editor-button popup").attr("data-action",e).attr("data-popup-body",n).attr("data-popup-position","top").on("click",Mf).append("svg").attr("height",yf[e].height).attr("width",yf[e].width).attr("viewBox","0 0 "+yf[e].width+" "+yf[e].height).append("path").attr("fill","#333333").attr("d",yf[e].path)}}}function bf(){if(hf.bindings||hf.bindings_custom){var e;if(Array.isArray(hf.bindings))e={},hf.bindings.forEach((function(t){var n=t.split("."),a=n[0],r=n.length>1?n[1]:null;r&&(e[a]||(e[a]=[]),e[a].push(r))}));else if(!0===hf.bindings)e=null;else if(!Array.isArray(hf.bindings_custom))return;var t=mf.visualisation.data_bindings[mf.visualisation.template_id],n={},a=[];mf.visualisation.data_tables.forEach((function(e){n[e.id]=e.cached_data[0]}));var r=null!==e;for(var i in t)if(!r||e[i]){var o=t[i];for(var s in o)if(!r||e[i].includes(s)){var l=o[s];if(null!=l.column){var d=n[l.data_table_id][l.column];d&&!a.includes(d)&&a.push(d)}else l.columns&&l.columns.forEach((function(e){var t=n[l.data_table_id][e];t&&!a.includes(t)&&a.push(t)}))}}hf.bindings_custom&&Array.isArray(hf.bindings_custom)&&hf.bindings_custom.forEach((function(e){e[0]&&e[1]&&a.push({name:e[0],binding:e[1],type:"dynamic"})})),be(".text-bindings").html("").style("display",a.length?null:"none").append("p").text("Click to add values from your data"),be(".text-bindings").selectAll("button.binding").data(a).enter().append("button").attr("data-action","binding").attr("data-binding",(function(e){return"object"==typeof e?e.binding:e})).attr("data-type",(function(e){return"object"==typeof e?e.type:null})).on("click",Mf).text((function(e){return"object"==typeof e?e.name:e}))}}function Mf(){var e,t=be(".text-editor-container .text-input"),n=t.node().value,a=t.node().selectionStart,r=t.node().selectionEnd,i=r-a,o=n.substr(a,i),s=be(this).attr("data-action"),l="flourish_embed"==s?prompt("Specify the ID of published Flourish project (eg. story/123 or visualisation/124)","visualisation/"):"";if("bold"==s)e=wf(o,"<b>","</b>");else if("italic"==s)e=wf(o,"<i>","</i>");else if("h1"==s)e=wf(o,"<h1>","</h1>");else if("h2"==s)e=wf(o,"<h2>","</h2>");else if("line_break"==s)e=wf(o,"<br>","");else if("url"==s)e=wf(o,'<a href ="">',"</a>",10);else if("flourish_embed"==s)e=wf(l,'<iframe src="https://flo.uri.sh/','/embed" frameborder="0" scrolling="no" style="width:100%;height:400px;"></iframe>');else if("binding"==s){var d=be(this).attr("data-binding");e=wf(d,"{{","}}",d.length+4)}t.node().setRangeText(e.text,a,r),t.node().focus(),t.node().selectionStart=a+e.cursor,t.node().selectionEnd=a+e.cursor}function wf(e,t,n,a){return t=t||"",n=n||"",e=e||"",{cursor:a||t.length+e.length,text:t+e+n}}var Lf,kf,Yf,Df={initialize:function(e,t,n){mf=e,be(t.parentElement).append("div").attr("class","text-editor-btn").attr("tabindex","0").on("click",(function(){gf(t,n.editor)})).on("keydown",(function(e){13==e.keyCode&&gf(t,n.editor)})).append("i").attr("class","fa fa-paint-brush")},updateDataBindings:bf},xf=void 0,Tf=/fa-(\S*)/g,Sf=/^data:image\/(svg|svg\+xml|png|jpg);base64,[A-Z-a-z0-9+/=]*$/;function Hf(e){var t=!be(e.parentNode).classed("open");we(".template-settings .settings-block").classed("open",!1).attr("aria-expanded",!1),t&&be(e.parentNode).classed("open",!0).attr("aria-expanded",!0)}function Ef(e){if(e){xf={};for(var t=0,n=null,a=null,r=Lf&&Lf.user?Lf.user.template_settings_overrides:{},i=0;i<e.length;i++){var o=e[i];if("string"!=typeof o){if("object"!=typeof o||n||a||(t++,a=Yf.append("div").attr("class","toplevel-settings-block")),"hidden"!==o.type){var s=n||a;if(o.new_section&&(s.append("div").classed("settings-divider",!0),"string"==typeof o.new_section&&s.append("h3").classed("settings-subhead",!0).text(o.new_section)),void 0!==o.show_if){if(o.show_condition)throw new Error("BUG: show_if present as well as show_condition");o.show_condition=[{type:"show",condition:o.show_if}],delete o.show_if}else if(void 0!==o.hide_if){if(o.show_condition)throw new Error("BUG: hide_if present as well as show_condition");o.show_condition=[{type:"hide",condition:o.hide_if}],delete o.hide_if}xf[o.property]=o.type,jf(s.append("div"),o,r)}}else a=null,(n=Yf.append("div").attr("class","settings-block")).append("h2").attr("class","no-select").attr("tabindex","0").text(o).on("click",(function(){Hf(this)})).on("keyup",(function(e){13===e.keyCode&&Hf(this)})),n.classed("open",t<1),n.attr("aria-expanded",t<1),"State documentation"===o&&n.style("display","none"),t++}we(".upgrade-setting").on("click",(function(){Yn(Lf,"This is a premium feature","Upgrade your plan to change this setting.","upgrade-settings",!0)})),zt()}}function jf(e,t,n){t.upgrade=t.property in n;var a="html"==t.type,r=t.choices&&("buttons"==t.style||"boolean"==t.type);e.attr("class","settings-option option-type-"+t.type+(r?" settings-buttons":"")+(a?" text-editor":"")+(t.upgrade?" upgrade-setting":""));var i=e.append("label").attr("for","setting-"+t.property).classed("hidden",null==t.name).append("h3").text(t.name).classed("no-select",!0);t.upgrade?i.append("i").attr("class","popup fa fa-star setting-tooltip tooltip-upgrade").style("font-family","FontAwesome").style("background-color","#93366e").attr("data-popup-head","This is a premium feature").attr("data-popup-body",t.description?t.description.replace(/\[\[/g,"").replace(/\]\]/g,""):"").attr("data-popup-position","top"):t.description&&i.append("i").attr("class","popup fa fa-question setting-tooltip tooltip-help").style("font-family","FontAwesome").attr("data-popup-body",t.description.replace(/\[\[/g,"").replace(/\]\]/g,"")).attr("data-popup-position","top"),t.width&&e.classed("width-"+t.width.replace(/ /g,"-"),!0);var o="input";if(["text","code","html"].includes(t.type)&&(o="textarea"),"code"==t.type){var s=!1;e.append("i").attr("class","popup fa fa-reply clickable wrap-control").attr("data-popup-body","Wrap/unwrap text").attr("data-popup-position","top").on("click",(function(){s=!s,be(this.parentNode).select("textarea").attr("wrap",s?null:"off"),be(this).classed("selected",s)}))}var l=e.append(o).attr("id","setting-"+t.property).attr("class","setting").attr("name",t.property).attr("disabled",!Lf.visualisation.can_edit||null),d=l.node();if("colors"==t.type)_f.initialize(d,t);else if("font"==t.type)Ah.initialize(d,t,Lf.user&&null!=Lf.user.company_id);else if("number"==t.type)d.setAttribute("type","number"),null!=t.min&&d.setAttribute("min",t.min),null!=t.max&&d.setAttribute("max",t.max),t.step&&d.setAttribute("step",t.step);else if("url"==t.type)d.setAttribute("type","url"),kf.addButton(d,t.upgrade);else if(r){l.remove(),l=e.append("div").attr("id","setting-"+t.property).attr("name",t.property).classed("buttons-container",!0).classed("large","large"==t.size),d=l.node();var u=t.choices.length,c=[3,4,5],m=function(){if(u<=2)return{column_count:u,rows:1};var e=c.map((function(e){return{column_count:e,orphans:u%e/e,rows:u/e}})).filter((function(e){return e.rows>=1})).sort((function(e,t){return e.rows>t.rows?1:e.rows<t.rows?-1:0})),t=e.filter((function(e){return 0===e.orphans}));return 1===t.length||t.length>1?t[0]:0===t.length?e.sort((function(e,t){return e.orphans>t.orphans?-1:e.orphans<t.orphans?1:0}))[0]:void 0}();t.choices.forEach((function(e,n){l.append("input").attr("type","radio").attr("name",t.property).attr("value",e[1]).attr("id",t.property+"_"+n).attr("class","setting").attr("disabled",!Lf.visualisation.can_edit||null).call(Af(t)),Ff(e,l.append("label").attr("for",t.property+"_"+n).style("width",100/m.column_count+"%").style("border-radius",(function(){var e=m.column_count,t=Math.ceil(m.rows),a=e*t-u;return t<=1?0===n?"3px 0 0 3px":n===e-1?"0 3px 3px 0":null:t>1?0===n?"3px 0 0 0":n===e-1?"0 3px 0 0":n===u-(e-a)?"0 0 0 3px":n===u-1&&0===a?"0 0 3px 0":null:null})).node())}))}else"boolean"==t.type?(d.setAttribute("type","checkbox"),e.classed("slider-container",!0),e.append("label").attr("class","slider").attr("for","setting-"+t.property)):d.setAttribute("type","text");if("code"==t.type&&(d.setAttribute("wrap","off"),l.on("keydown.tab",(function(e){var t=e;if(9===t.keyCode&&!(t.altKey||t.metaKey||t.ctrlKey||t.shiftKey)){t.preventDefault();var n=this.selectionStart;this.value=this.value.substring(0,n)+"\t"+this.value.substring(this.selectionEnd),this.selectionEnd=n+1}}))),a&&(e.append("div").attr("class","text-editor-setting").node().appendChild(d),Df.initialize(Lf,d,t)),t.choices&&"string"==t.type&&"buttons"!=t.style&&X_(d,t.property+"-dropdown",t.choices,{allow_other_option:t.choices_other,custom_renderer:Ff}),"color"==t.type){be(d).classed("color",!0).style("display","none");var p=be(d.parentNode).append("div").attr("class","color-picker"),_=p.append("div").attr("class","color-wrapper");t.optional&&p.append("button").attr("class","cancel-setting popup").html("<svg><use xlink:href='#cancel-setting'></use></svg>").attr("data-popup-body","If cleared, the color will be set automatically based on the theme or context").on("click",(function(){d.value="",l.dispatch("change"),be(this.parentNode).classed("is-null",!0)})),_.append("input").attr("type","color").on("change",(function(){d.value=this.value,l.dispatch("change"),be(this.parentNode.parentNode).classed("is-null",!1)})).on("focus",(function(){be(this.parentNode.parentNode).classed("active",!0)})).on("blur",(function(){be(this.parentNode.parentNode).classed("active",!1)}))}t.placeholder&&d.setAttribute("placeholder",t.placeholder),t.size&&d.classList.add("size-"+t.size),l.call(Af(t))}function Af(e){return function(t){var n=!1;t.on("change",(function(){var t=this;Ct.hide(),n=!0,Lf.preview_pane.getState(e.property,(function(a,r){return a?(console.error("Failed to get state property "+e.property,a),void(n=!1)):function(e,t){if("number"!==t.type)return!0;if(""===e.value)return!!t.optional||(Ct.point(e).text("A value is required").draw(),!1);var n=parseFloat(e.value);return t.hasOwnProperty("min")&&n<t.min?(Ct.point(e).text("Value cannot be less than "+t.min).draw(),e.value=t.min):t.hasOwnProperty("max")&&n>t.max&&(Ct.point(e).text("Value cannot be greater than "+t.max).draw(),e.value=t.max),!0}(t,e)?void function(e,t,n){sc(t.property,100,Pf,[e,t,n])}(t,e,(function(a){if(!a)return n=!1,void("SELECT"==t.tagName&&be(t).dispatch("blur"));var i="radio"==t.type?t.nextSibling:t;Ct.point(i).text("Not changed: "+a).draw();var o={};o[e.property]=r,Lf.preview_pane.setState(o,(function(a){if(a)return console.error("Failed to revert setting "+e.property+" to value: "+r),void(n=!1);Lf.preview_pane.update((function(a){if(a)return console.error("Failed to update after reverting setting "+e.property+" to value: "+r),void(n=!1);Of(t,r),n=!1}))}))})):(t.value=r,void(n=!1))}))})).on("keydown",(function(e){Lf.confirm.blank(),13==e.keyCode&&Ct.hide()})).on("blur",(function(){if(!n){var t=this;Ct.hide(),Lf.preview_pane.getState(e.property,(function(n,a){n?console.error("Failed to get state property "+e.property,n):Of(t,a)}))}}))}}function Cf(e,t,n){if(e.classList.contains("colors"))return _f.getValue(e);if(e.classList.contains("font-menu")){var a=Ah.getValue(e);return t&&!a?n?null:"":a}if(e.classList.contains("buttons-container")){for(var r,i=e.querySelectorAll("input[type='radio']"),o=0;o<i.length;o++)if(i[o].checked){r=i[o];break}if(!r)return n?null:"";e=r}switch(e.getAttribute("type")){case"checkbox":return e.checked;case"number":return t&&!e.value.length?n?null:"":+e.value;case"radio":if(e.parentNode.parentNode.classList.contains("option-type-boolean"))return"true"==e.value;default:return t&&e.classList.contains("color")&&!e.value.length?n?null:"":e.hasAttribute("data-value")?e.getAttribute("data-value"):e.value}}function Of(e,t){if(e.classList.contains("colors"))_f.update(e,t);else if(e.classList.contains("font-menu"))Ah.update(e,t);else if("checkbox"==e.getAttribute("type"))e.checked=t;else if(e.classList.contains("color"))e.value=t,be(e.parentNode).select(".color-picker").classed("is-null",null===t),be(e.parentNode).select(".color-wrapper input").node().value=t;else if(e.getAttribute("data-autocomplete")){for(var n=function(e){for(var t=0;t<Lf.settings.length;t++){var n=Lf.settings[t];if(n.property===e)return n}}(e.name),a=0;a<n.choices.length;a++){var r,i,o=n.choices[a];if("string"==typeof o?r=i=o:(r=o[1],i=o[0]),t==r)return e.value=i,void e.setAttribute("data-value",r)}e.value=t,e.setAttribute("data-value",t)}else if(e.className.indexOf("buttons-container")>-1){var s=e.querySelectorAll("input[type='radio']");for(a=0;a<s.length;a++)s[a].value===""+t&&(s[a].checked=!0)}else e.value=t}function Ff(e,t){var n=be(t);if("string"!=typeof e){var a=e[2];a&&(a.match(Tf)?n.append("i").attr("class","fa "+a):a.match(Sf)&&n.append("img").attr("src",a));var r=e[0];r.match(Tf)?n.append("i").attr("class","fa "+r):r.match(Sf)?n.append("img").attr("src",r):n.node().append(r)}else n.text(e)}function Pf(e,t,n){var a={},r=Cf(e,t.optional);if(a[t.property]=r,!("choices"in t)||"colors"===t.type||function(e,t){return!!e.choices_other||-1!==e.choices.map((function(e){return e instanceof Array?e[1]:e})).indexOf(t)}(t,r)){Lf.confirm.saving();var i=!1,o={};o[t.property]=Cf(e,t.optional,!0),Lf.preview_pane.setState(o,(function(e){if(e)return s(e);Lf.preview_pane.update((function(e){if(e)return s(e);Lf.visualisation.updateSettings(a,(function(e){if(e)return s(e);Lf.analytics("send","event","visualisation","change_setting",Lf.visualisation.id),Rf(),Lf.confirm.saved(),n&&n()}))}))}))}else n&&n("You can only choose values from the list");function s(a){i||(Lf.preview_pane.getState(t.property,(function(t,r){if(t)return console.error("Failed to get state",t),void Lf.confirm.error(t);Of(e,r),Rf(),Lf.confirm.blank(),n&&n(a)})),i=!0)}}function Nf(e,t){return/^data\./.test(e)?function(e,t){var n=e.split(".");return Lf.visualisation.__sdk__?function(e,t){if(e.length>=4)return;for(var n=null,a=Lf.template_data_bindings,r=0;r<a.length;r++){var i=a[r];if("string"!=typeof i&&(i.dataset===e[1]&&i.key===e[2])){n=i;break}}if(!n)throw new Error("Bug: data binding not found - these should already have been checked");return"column"===n.type?!!n.column===t:!!n.columns.split("::")[1]===t}(n,t):function(e,t){if(e.length<4){return!!document.getElementById("data-binding-"+e[1]+"-"+e[2]).value===t}if("type"!==e[3])throw new Error("Fourth part of name must be “type”");var n=Lf.visualisation.template_id,a=Lf.visualisation.data_bindings[n][e[1]][e[2]];if(null==a)return!1;for(var r,i=Lf.visualisation.data_tables,o=a.data_table_id,s=a.columns||[a.column],l=0;l<i.length;l++)if(i[l].id===o){r=i[l].column_types;break}var d=!1;for(l=0;l<s.length;l++){var u=r[s[l]].type_id.split("$")[0];if(d=-1!==(Array.isArray(t)?t:[t]).indexOf(u))break}return d}(n,t)}(e,t):function(e,t){var n=document.getElementById("setting-"+e);if(!n)return console.error("Could not find input for setting",e),!1;var a=Cf(n);if(t instanceof Array)return-1!==t.indexOf(a);return a===t}(e,t)}function Rf(){Lf.settings.filter((function(e){return"object"==typeof e&&"show_condition"in e})).forEach((function(e){var t=e.show_condition.every((function(e){var t="show"===e.type,n=e.condition;if("boolean"==typeof n)return t===n;if("string"==typeof n)return t===Nf(n,!0);for(var a in n)if(!Nf(a,n[a]))return!1===t;return t})),n=document.getElementById("setting-"+e.property);if(n){for(var a=n;!a.classList.contains("settings-option");)a=a.parentNode;if(be(a).classed("hidden",!t),e.new_section)for(var r=a.previousSibling;r&&(be(r).classed("settings-divider")||be(r).classed("settings-subhead"));)be(r).classed("hidden",!t),r=r.previousSibling}else console.error("Could not find input",e.property)}));for(var e=document.querySelectorAll(".template-settings .settings-block"),t=0;t<e.length;t++){var n=e[t];n.classList.contains("hidden")?null!==n.querySelector(".settings-option:not(.hidden)")&&n.classList.remove("hidden"):null==n.querySelector(".settings-option:not(.hidden)")&&n.classList.add("hidden")}}function Wf(e,t,n){return Lf=e,kf=bu(),(Yf=be(".side-panel .template-settings")).on("submit",(function(e){e.preventDefault()})),_f.replaceThemeColors(t),Ah.replaceThemeFonts(n),Ef(Lf.settings),function(){function e(t,n){return!t||t.classList.contains("template-settings")?null:t.classList.contains(n)?t:e(t.parentNode,n)}function t(e){return e.replace(/ /g,"").replace(/-/g,"").toLowerCase().trim()}be(".side-panel .template-settings-search").on("input",(function(n){var a=t(n.target.value),r=!a,i=be(".side-panel .template-settings").selectAll(".settings-block:not(.hidden) > h2, .settings-option:not(.hidden) h3, .settings-subhead:not(.hidden)");be(".side-panel .template-settings").selectAll(".settings-block:not(.hidden) > h2, .settings-option:not(.hidden), .settings-subhead:not(.hidden), .settings-divider:not(.hidden)").classed("search-filtered-out",!r),r||i.filter((function(){var e=t(this.innerText);return!!e&&e.indexOf(a)>-1})).each((function(){var t=e(this,"settings-block"),n=be(this);if("H2"==this.tagName)t&&be(t).selectAll("h2, .settings-option, .settings-subhead, .settings-divider").classed("search-filtered-out",!1);else if("H3"==this.tagName)if(t&&be(t).select("h2").classed("search-filtered-out",!1),n.classed("settings-subhead")){n.classed("search-filtered-out",!1),this.previousSibling.classList.remove("search-filtered-out");for(var a=this.nextSibling;a&&a.classList.contains("settings-option");)a.classList.remove("search-filtered-out"),a=a.nextSibling}else{var r=e(this,"settings-option");if(r){r.classList.remove("search-filtered-out");for(var i=null,o=r.previousSibling;o&&null==i;)o.classList.contains("settings-subhead")?i=o:o=o.classList.contains("settings-divider")?null:o.previousSibling;i&&(i.classList.remove("search-filtered-out"),i.previousSibling.classList.remove("search-filtered-out"))}}}))}))}(),be(".side-panel-scrollbox").on("scroll",(function(){Ct.hide()})),{update:function(e){Yf.html(""),be(".current-template").style("opacity","1"),Ef(Lf.settings=e)},populate:function(){Lf.preview_pane.getState((function(e,t){if(e)console.error("Failed to get state",e);else{var n=Zs(t);for(var a in n){var r=document.getElementById("setting-"+a);r&&Of(r,n[a])}Df.updateDataBindings(),Rf()}}))},getSettingsForCurrentTemplate:function(){return xf},setReadOnly:function(){we(".setting").each((function(){be(this).attr("disabled",!0)}))},unsetReadOnly:function(){we(".setting").each((function(){be(this).attr("disabled",null)}))}}}var zf,Uf,If=!1,qf=[];function Bf(){be(".flourish-warn-list").classed("visible",!1),If=!1}function Jf(){return be(".flourish-warn-btn").on("click",(function(){If?Bf():(be(".flourish-warn-list").classed("visible",!0),If=!0)})),{clear:$f,warn:Gf}}function Vf(){be(".flourish-warn-container").classed("visible",qf.length),qf.length>100&&(qf.length=100);var e=be(".flourish-warn-list ul").selectAll("li").data(qf),t=e.enter().append("li");t.append("i").attr("class","fa fa-warning"),t.append("p").attr("class","message"),t.append("p").attr("class","explanation");var n=e.merge(t);n.select(".message").text((function(e){return e.message||""})),n.select(".explanation").text((function(e){return e.explanation||""})),e.exit().remove()}function $f(){qf=[],Vf(),Bf()}function Gf(e){qf.unshift(e),Vf()}function Kf(e){var t=zf.visualisation,n=t.getTemplate(),a=!1,r=!1,i=!1;function o(){var t=zf.template_settings.getSettingsForCurrentTemplate(),n=zf.visualisation.settingsForCurrentTemplate(),a={};for(var r in n)r in t&&(a[r]=n[r]);Uf.loadVisualisation(zf,a,(function(){zf.template_settings.populate(),zf.data_bindings.updateRequiredBindingsOverlay(!1),pu(),e&&e()})),mc()}n.getSettings((function(e,t){e?console.error("Failed to get template settings: "+e):(zf.template_settings.update(t),a=!0,r&&i&&o())})),n.getDataBindings((function(e,t){e?console.error("Failed to get template data bindings: "+e):(zf.data_bindings.update(t),r=!0,a&&i&&o())})),t.refreshDataBindings((function(e){e?console.error("Failed to get template data bindings: "+e):(i=!0,r&&a&&o())}))}function Zf(e){Uf.updateData(zf.visualisation,e)}function Xf(e){Uf.updateDataNotPreview(zf.visualisation,e)}function Qf(e){zf=e;var t=Jf();return{loadTemplate:Kf,updateData:Zf,updateDataNotPreview:Xf,sync:(Uf=Pp("iframe#preview","editor",zf,t,{setSetting({name:e,value:t}){const n=function(e){return document.getElementById("setting-"+e)}(e);n?(Of(n,t),n.dispatchEvent(new Event("change"))):console.log(`Could not find setting ${e}`)}})).sync,setState:Uf.setState,getState:Uf.getState,hasData:Uf.hasData,setData:Uf.setData,getData:Uf.getData,draw:Uf.draw,update:Uf.update,getDefaultState:Uf.getDefaultState,snapshot:Uf.snapshot,setFixedHeight:Uf.setFixedHeight,resize:Uf.resize,getDrawCalled:Uf.getDrawCalled,setDrawCalled:Uf.setDrawCalled}}class ey{constructor(e){if(!e||"object"!=typeof e)throw new TypeError("An options object is required.");if(!e.key||"string"!=typeof e.key)throw new TypeError("The key option is required.");const t="columns"===e.type,n=e.assignment||{};if(this.data_types=Array.isArray(e.data_type)?e.data_type.slice():[e.data_type||"string"],this.key=e.key,this.is_optional=e.optional||!1,this.max_columns=t?n.max_columns||1/0:1,this.min_columns=t&&n.min_columns||1,this.max_columns<this.min_columns)throw new RangeError("max_columns must not be less than min_columns.");this.can_rebind=n.can_rebind||!1,this.contiguous=t&&n.contiguous||!1,this.is_multicolumn=t,this.type_hints_config={};for(const e of this.data_types)this.type_hints_config[e]=(a=n.hints,r=e,!Boolean(a&&Object.prototype.hasOwnProperty.call(a,r))||n.hints[e]);var a,r}}function ty(e){return null===e||""===e||e!=e}function*ny(e){for(const t of e)ty(t)||(yield t)}function ay({binding:e,index:t,column:n,picked:a,scoreColumn:r}){const{type_hints_config:i,can_rebind:o}=e,{type:s,header:l,data:d}=n;if(d.every(ty))return null;if(!o&&a.has(t))return null;const u=i[s];if(!u)return null;if(!0===u)return 1;const c=r({type:s,header:l,data:d,hints_config:u});return!Number.isFinite(c)||c<0||c>1?(console.warn("Invalid value from scoring function type:",typeof c,"score:",c,"binding:",e),null):0===c?null:c}function ry({data:e,toKey:t}){const n=new Set;let a=0,r=0;for(const i of e)a++,ty(i)||(n.add(t?t(i):i),r++);return{distinct:n.size,proportion:n.size/r,density:r/a}}function iy({data:e,toKey:t,config:{minimum_distinct:n=3,maximum_distinct:a=20,density:r=.8,threshold:i=.5}={}}){const{distinct:o,proportion:s,density:l}=ry({data:e,toKey:t});if(o>a||l<r||o<n)return 0;const d=1-s;return d<i?0:d}function oy({data:e,toKey:t,config:{minimum_distinct:n=3,density:a=.8,threshold:r=.5}={}}){const{distinct:i,proportion:o,density:s}=ry({data:e,toKey:t});return i<n||s<a||o<r?0:o}function sy({data:e,toKey:t}){const n=new Set;for(const a of ny(e)){const e=t?t(a):a;if(n.has(e))return 0;n.add(e)}return 1}function ly({data:e,toKey:t,config:{min:n=0,proportional_min:a=0,max:r=1/0,proportional_max:i=1}}){const o=new Set;let s=0;for(const n of ny(e))if(o.add(t?t(n):n),s++,o.size>r)return 0;if(0===s||o.size<n)return 0;const l=o.size/s;return l<a||l>i?0:1}function dy({data:e,toKey:t,config:{threshold:n=0}}){const a=function({data:e,toKey:t}){const n=new Set;let a=0;for(const r of ny(e))n.add(t?t(r):r),a++;return n.size/a}({data:e,toKey:t});return a<n?0:a}function uy(e){let t=0,n=0;for(const a of e)t++,ty(a)&&n++;return n/t}var cy={exports:{}},my=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],py=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function _y(e){if(e<0)return Number("0/0");for(var t=py[0],n=py.length-1;n>0;--n)t+=py[n]/(e+n);var a=e+4.7421875+.5;return.5*Math.log(2*Math.PI)+(e+.5)*Math.log(a)-a+Math.log(t)-Math.log(e)}cy.exports=function e(t){if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*e(1-t));if(t>100)return Math.exp(_y(t));t-=1;for(var n=my[0],a=1;a<9;a++)n+=my[a]/(t+a);var r=t+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*n},cy.exports.log=_y;const hy=[-1.26551223,1.00002368,.37409196,.09678418,-.18628806,.27886807,-1.13520398,1.48851587,-.82215223,.17087277];function fy(e,t,n){return.5*(1+function(e){const t=1/(1+.5*Math.abs(e));let n=0;for(let e=0;e<hy.length;e++)n+=hy[e]*t**e;const a=t*Math.exp(n-e*e);return e>=0?1-a:a-1}((e-t)/(Math.SQRT2*n)))}function yy(e,t){return t<200&&e<200?function(e,t){const n=t/100;let a=0,r=0,i=0**(e-1);for(let t=0;t<100;t++){const t=i;r+=n,i=r**(e-1)*Math.exp(-r),a+=n*(t+i)/2}return a}(t/2,e/2)/cy.exports(t/2):fy(e,t,Math.sqrt(2*t))}function gy({data:e,toKey:t}){const n=new Map;let a=0;for(const r of ny(e)){a++;const e=t?t(r):r;n.set(e,(n.get(e)||0)+1)}const r=n.size,i=a/r;let o=0;for(const e of n.values())o+=(e-i)**2/i;if(!o)return 1;const s=1-yy(o,r-1);return s<0?0:s>1?1:s}function vy({data:e,toKey:t}){const n=new Set;for(const a of ny(e))if(n.add(t?t(a):a),n.size>2)return 0;return 2===n.size?1:0}var by=Object.freeze({__proto__:null,categorical:iy,diverse:oy,unique:sy,distinct:ly,cardinality:dy,sparse:function({data:e,config:{threshold:t=.2}={}}){const n=uy(e);return n>=t?n:0},dense:function({data:e,config:{threshold:t=.8}={}}){const n=1-uy(e);return n>=t?n:0},uniform:gy,boolean:vy});const My=.25;function wy(e,t){return"string"==typeof e&&t.includes(e.toLowerCase().replace(/\.$/,""))}function Ly(e,t){let n=0,a=0;for(const r of ny(e))n++,Math.abs(r)<=t&&a++;return{length:n,valid_values:a}}var ky=Object.freeze({__proto__:null,latitude:function({header:e,data:t}){const n=wy(e,["latitude","lat"])?1:0,{length:a,valid_values:r}=Ly(t,90);return n*My+.75*(a?r/a:0)},longitude:function({header:e,data:t}){const n=wy(e,["longitude","lon","long","lng"])?1:0,{length:a,valid_values:r}=Ly(t,180);return n*My+.75*(a?r/a:0)},integer:function({data:e}){let t=0,n=0;for(const a of ny(e))t++,Number.isInteger(a)&&n++;return n/t},comparison:function({data:e,config:{operator:t,value:n}}){const a=function(e,t){switch(e.trim().toLowerCase().replace(/\s+/g,"")){case">":case"gt":case"greater":case"greaterthan":return e=>e>t;case"≥":case">=":case"ge":case"greaterequal":case"greaterthanorequal":return e=>e>=t;case"=":case"==":case"eq":case"equal":return e=>e===t;case"≠":case"!=":case"/=":case"~=":case"ne":case"unequal":case"notequal":return e=>e!==t;case"≤":case"<=":case"le":case"lessequal":case"lessthanorequal":return e=>e<=t;case"<":case"lt":case"less":case"lessthan":return e=>e<t;default:return console.warn(`Unknown comparison operator: ${e}`),()=>!1}}(t,n);let r=0,i=0;for(const t of ny(e))r++,a(t)&&i++;return i/r},categorical:iy,diverse:oy,uniform:gy,unique:sy,distinct:ly,cardinality:dy});class Yy{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const r=t[a],i=e+r,o=Math.abs(e)<Math.abs(r)?e-(i-r):r-(i-e);o&&(t[n++]=o),e=i}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,a,r=this._n,i=0;if(r>0){for(i=e[--r];r>0&&(t=i,n=e[--r],i=t+n,a=n-(i-t),!a););r>0&&(a<0&&e[r-1]<0||a>0&&e[r-1]>0)&&(n=2*a,t=i+n,n==t-i&&(i=t))}return i}}function Dy(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}var xy=function e(t,n){var a,r=t&&t.type;if("FeatureCollection"===r)for(a=0;a<t.features.length;a++)e(t.features[a],n);else if("GeometryCollection"===r)for(a=0;a<t.geometries.length;a++)e(t.geometries[a],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)Ty(t.coordinates,n);else if("MultiPolygon"===r)for(a=0;a<t.coordinates.length;a++)Ty(t.coordinates[a],n);return t};function Ty(e,t){if(0!==e.length){Sy(e[0],t);for(var n=1;n<e.length;n++)Sy(e[n],!t)}}function Sy(e,t){for(var n=0,a=0,r=e.length,i=r-1;a<r;i=a++)n+=(e[a][0]-e[i][0])*(e[i][1]+e[a][1]);n>=0!=!!t&&e.reverse()}const Hy=["FeatureCollection","Feature","GeometryCollection","Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];function Ey(e){if("string"!=typeof e)throw new TypeError("Argument must be a string");if("{"!==(e=e.trim()).charAt(0)||"}"!==e.charAt(e.length-1))return!1;let t;try{t=JSON.parse(e)}catch(e){return!1}return Hy.includes(t.type)}function jy({data:e}){let t=0,n=0;for(const a of ny(e))t++,Ey(a)&&n++;return n/t}function Ay({data:e}){for(const t of ny(e))try{new URL(t)}catch(e){return 0}return 1}function Cy(e){return e.trim()}function Oy(e){return e.toLowerCase()}function Fy(e={}){const t=[];return e.trim&&t.push(Cy),e.lowercase&&t.push(Oy),t.length?function(e){let n=e;for(const e of t)n=e(n);return n}:null}function Py(e){return({data:t,config:n,header:a})=>e({data:t,toKey:Fy(n),config:n,type:"string",header:a})}const Ny=Py(iy),Ry=Py(oy),Wy=Py(gy),zy=Py(sy),Uy=Py(ly),Iy=Py(dy);var qy=Object.freeze({__proto__:null,categorical:Ny,diverse:Ry,uniform:Wy,unique:zy,distinct:Uy,cardinality:Iy,url:Ay,geojson:jy,text:function({data:e,config:{min_length:t=0,max_length:n=1/0}}){if(1===Ay({data:e}))return 0;if(1===vy({data:e}))return 0;if(jy({data:e})>.5)return 0;for(const a of ny(e)){const e=Array.from(a).length;if(e<t||e>n)return 0}return 1},color:function({data:e,toKey:t}){return Uy({data:e,toKey:t,config:{min:2,max:8}})}});function By(e){return({data:t,config:n,header:a})=>e({data:t,toKey:e=>e instanceof Date?e.getTime():null,config:n,type:"datetime",header:a})}const Jy=By(iy),Vy=By(oy),$y=By(gy),Gy=By(sy),Ky=By(ly),Zy=By(dy);var Xy=Object.freeze({__proto__:null,categorical:Jy,diverse:Vy,uniform:$y,unique:Gy,distinct:Ky,cardinality:Zy}),Qy=Object.freeze({__proto__:null,general:by,number:ky,string:qy,datetime:Xy});function eg(e,t){return Qy[e]&&Qy[e][t]||by[t]}function tg(e){return e&&!0!==e?e:{}}function ng(e){const{type:t,data:n,hints_config:{weight:a=1,...r}}=e;let i=1,o=0;for(const[e,a]of Object.entries(r)){const r=tg(a),s=eg(t,e);s?(i*=s({data:n,type:t,config:r}),o++):console.warn("No scoring function for type:",t,"hint name:",e)}return a*(o?Math.pow(i,1/o):1)}function ag(e,t,n,a,r){const i={score:0,first_column_index:0,length:0};for(let o=Math.min(a,n);o>=r;o--)for(let a=0;a<=n-o;a++){let n=1;for(let r=0;r<o;r++)n*=e[t+a+r];const r=Math.pow(n,1/o);r>i.score&&(i.score=r,i.first_column_index=t+a,i.length=o)}return i}function rg({scores:e,min_columns:t=1,max_columns:n=1/0,contiguous:a=!1}){if(e.length<t)return null;if(!a){const a=e.map(((e,t)=>null===e?null:{score:e,index:t})).filter(Boolean);return a.length<t?null:a.sort(((e,t)=>t.score-e.score)).slice(0,n).map((e=>e.index)).sort(((e,t)=>e-t))}let r=0,i=0,o=0;for(const{index:a,length:s}of function*(e){let t=null,n=-1;for(let a=0;a<e.length;a++)null===e[a]?null!==t&&(yield{index:n,length:a-n}):null===t&&(n=a),t=e[a];null!==t&&(yield{index:n,length:e.length-n})}(e)){if(s<t)continue;const{score:l,first_column_index:d,length:u}=ag(e,a,s,n,t);(l>r||l===r&&o<u)&&(r=l,i=d,o=u)}if(0===o)return null;const s=[];for(let e=0;e<o;e++)s.push(i+e);return s}function ig(e){return Number.isInteger(e)&&e>=0}function og(e){return!!ig(e.column)||!!Array.isArray(e.columns)&&e.columns.some(ig)}function sg(e,t,n={}){if(!Array.isArray(e))throw new TypeError("Template bindings must be an array.");if(!Array.isArray(t))throw new TypeError("Columns must be an array.");const a=[],r=function(e){const t=new Set;for(const{column:n,columns:a,keep:r}of Object.values(e))if(r){ig(n)&&t.add(n);for(const e of a||[])ig(e)&&t.add(e)}return t}(n);for(const i of e){const e=new ey(i),{is_optional:o,is_multicolumn:s,key:l,min_columns:d,max_columns:u,contiguous:c}=e,{keep:m,...p}=n[l]||{};if(m){a.push({key:l,...p});continue}if((o||s)&&!og(p))continue;const _=t.map(((t,n)=>ay({binding:e,index:n,column:t,picked:r,scoreColumn:ng}))),h=rg({scores:_,min_columns:d,max_columns:u,contiguous:c})||[];if(s){a.push({key:l,columns:h});for(const e of h)r.add(e)}else{const e=h.length?h[0]:null;a.push({key:l,column:e}),null!==e&&r.add(e)}}return a}function lg(e,t){const n=navigator.hardwareConcurrency-1||4,a=Math.min(Math.max(n,1),t.length);let r=0;const i=t.length,o=Array(i),s=Array.from({length:a},(()=>new Worker(e)));return Promise.all(s.map((function e(n){const a=r;return r++,async function(e,t){const n=new Promise(((t,n)=>{e.onerror=n,e.onmessage=e=>t(e.data)}));return e.postMessage(t),n}(n,{index:a,data:t[a]}).then((t=>{if(o[a]=t,r<i)return e(n);n.terminate()}))}))).then((()=>o))}var dg=1e-6,ug=1e-12,cg=Math.PI,mg=cg/2,pg=cg/4,_g=2*cg,hg=180/cg,fg=cg/180,yg=Math.abs,gg=Math.atan,vg=Math.atan2,bg=Math.cos,Mg=Math.hypot,wg=Math.sin,Lg=Math.sign||function(e){return e>0?1:e<0?-1:0},kg=Math.sqrt;function Yg(e){return e>1?mg:e<-1?-mg:Math.asin(e)}function Dg(){}function xg(e,t){e&&Sg.hasOwnProperty(e.type)&&Sg[e.type](e,t)}var Tg={Feature:function(e,t){xg(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,a=-1,r=n.length;++a<r;)xg(n[a].geometry,t)}},Sg={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)e=n[a],t.point(e[0],e[1],e[2])},LineString:function(e,t){Hg(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)Hg(n[a],t,0)},Polygon:function(e,t){Eg(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,a=-1,r=n.length;++a<r;)Eg(n[a],t)},GeometryCollection:function(e,t){for(var n=e.geometries,a=-1,r=n.length;++a<r;)xg(n[a],t)}};function Hg(e,t,n){var a,r=-1,i=e.length-n;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function Eg(e,t){var n=-1,a=e.length;for(t.polygonStart();++n<a;)Hg(e[n],t,1);t.polygonEnd()}function jg(e,t){e&&Tg.hasOwnProperty(e.type)?Tg[e.type](e,t):xg(e,t)}var Ag,Cg,Og,Fg,Pg,Ng,Rg,Wg,zg,Ug,Ig,qg,Bg,Jg,Vg,$g,Gg,Kg,Zg,Xg,Qg,ev=new Yy,tv=new Yy,nv={point:Dg,lineStart:Dg,lineEnd:Dg,polygonStart:function(){ev=new Yy,nv.lineStart=av,nv.lineEnd=rv},polygonEnd:function(){var e=+ev;tv.add(e<0?_g+e:e),this.lineStart=this.lineEnd=this.point=Dg},sphere:function(){tv.add(_g)}};function av(){nv.point=iv}function rv(){ov(Ag,Cg)}function iv(e,t){nv.point=ov,Ag=e,Cg=t,Og=e*=fg,Fg=bg(t=(t*=fg)/2+pg),Pg=wg(t)}function ov(e,t){var n=(e*=fg)-Og,a=n>=0?1:-1,r=a*n,i=bg(t=(t*=fg)/2+pg),o=wg(t),s=Pg*o,l=Fg*i+s*bg(r),d=s*a*wg(r);ev.add(vg(d,l)),Og=e,Fg=i,Pg=o}function sv(e){return tv=new Yy,jg(e,nv),2*tv}function lv(e){return[vg(e[1],e[0]),Yg(e[2])]}function dv(e){var t=e[0],n=e[1],a=bg(n);return[a*bg(t),a*wg(t),wg(n)]}function uv(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function cv(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function mv(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function pv(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function _v(e){var t=kg(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var hv={sphere:Dg,point:fv,lineStart:gv,lineEnd:Mv,polygonStart:function(){hv.lineStart=wv,hv.lineEnd=Lv},polygonEnd:function(){hv.lineStart=gv,hv.lineEnd=Mv}};function fv(e,t){e*=fg;var n=bg(t*=fg);yv(n*bg(e),n*wg(e),wg(t))}function yv(e,t,n){++Ng,Wg+=(e-Wg)/Ng,zg+=(t-zg)/Ng,Ug+=(n-Ug)/Ng}function gv(){hv.point=vv}function vv(e,t){e*=fg;var n=bg(t*=fg);Zg=n*bg(e),Xg=n*wg(e),Qg=wg(t),hv.point=bv,yv(Zg,Xg,Qg)}function bv(e,t){e*=fg;var n=bg(t*=fg),a=n*bg(e),r=n*wg(e),i=wg(t),o=vg(kg((o=Xg*i-Qg*r)*o+(o=Qg*a-Zg*i)*o+(o=Zg*r-Xg*a)*o),Zg*a+Xg*r+Qg*i);Rg+=o,Ig+=o*(Zg+(Zg=a)),qg+=o*(Xg+(Xg=r)),Bg+=o*(Qg+(Qg=i)),yv(Zg,Xg,Qg)}function Mv(){hv.point=fv}function wv(){hv.point=kv}function Lv(){Yv(Gg,Kg),hv.point=fv}function kv(e,t){Gg=e,Kg=t,e*=fg,t*=fg,hv.point=Yv;var n=bg(t);Zg=n*bg(e),Xg=n*wg(e),Qg=wg(t),yv(Zg,Xg,Qg)}function Yv(e,t){e*=fg;var n=bg(t*=fg),a=n*bg(e),r=n*wg(e),i=wg(t),o=Xg*i-Qg*r,s=Qg*a-Zg*i,l=Zg*r-Xg*a,d=Mg(o,s,l),u=Yg(d),c=d&&-u/d;Jg.add(c*o),Vg.add(c*s),$g.add(c*l),Rg+=u,Ig+=u*(Zg+(Zg=a)),qg+=u*(Xg+(Xg=r)),Bg+=u*(Qg+(Qg=i)),yv(Zg,Xg,Qg)}function Dv(e,t){function n(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,a){return(n=t.invert(n,a))&&e.invert(n[0],n[1])}),n}function xv(e,t){return[yg(e)>cg?e+Math.round(-e/_g)*_g:e,t]}function Tv(e){return function(t,n){return[(t+=e)>cg?t-_g:t<-cg?t+_g:t,n]}}function Sv(e){var t=Tv(e);return t.invert=Tv(-e),t}function Hv(e,t){var n=bg(e),a=wg(e),r=bg(t),i=wg(t);function o(e,t){var o=bg(t),s=bg(e)*o,l=wg(e)*o,d=wg(t),u=d*n+s*a;return[vg(l*r-u*i,s*n-d*a),Yg(u*r+l*i)]}return o.invert=function(e,t){var o=bg(t),s=bg(e)*o,l=wg(e)*o,d=wg(t),u=d*r-l*i;return[vg(l*r+d*i,s*n+u*a),Yg(u*n-s*a)]},o}function Ev(e,t){(t=dv(t))[0]-=e,_v(t);var n,a=(n=-t[1])>1?0:n<-1?cg:Math.acos(n);return((-t[2]<0?-a:a)+_g-dg)%_g}function jv(){var e,t=[];return{point:function(t,n,a){e.push([t,n,a])},lineStart:function(){t.push(e=[])},lineEnd:Dg,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Av(e,t){return yg(e[0]-t[0])<dg&&yg(e[1]-t[1])<dg}function Cv(e,t,n,a){this.x=e,this.z=t,this.o=n,this.e=a,this.v=!1,this.n=this.p=null}function Ov(e,t,n,a,r){var i,o,s=[],l=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,a=e[0],o=e[t];if(Av(a,o)){if(!a[2]&&!o[2]){for(r.lineStart(),i=0;i<t;++i)r.point((a=e[i])[0],a[1]);return void r.lineEnd()}o[0]+=2e-6}s.push(n=new Cv(a,e,null,!0)),l.push(n.o=new Cv(a,null,n,!1)),s.push(n=new Cv(o,e,null,!1)),l.push(n.o=new Cv(o,null,n,!0))}})),s.length){for(l.sort(t),Fv(s),Fv(l),i=0,o=l.length;i<o;++i)l[i].e=n=!n;for(var d,u,c=s[0];;){for(var m=c,p=!0;m.v;)if((m=m.n)===c)return;d=m.z,r.lineStart();do{if(m.v=m.o.v=!0,m.e){if(p)for(i=0,o=d.length;i<o;++i)r.point((u=d[i])[0],u[1]);else a(m.x,m.n.x,1,r);m=m.n}else{if(p)for(d=m.p.z,i=d.length-1;i>=0;--i)r.point((u=d[i])[0],u[1]);else a(m.x,m.p.x,-1,r);m=m.p}d=(m=m.o).z,p=!p}while(!m.v);r.lineEnd()}}}function Fv(e){if(t=e.length){for(var t,n,a=0,r=e[0];++a<t;)r.n=n=e[a],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Pv(e){return yg(e[0])<=cg?e[0]:Lg(e[0])*((yg(e[0])+cg)%_g-cg)}function Nv(e,t,n,a){return function(r){var i,o,s,l=t(r),d=jv(),u=t(d),c=!1,m={point:p,lineStart:h,lineEnd:f,polygonStart:function(){m.point=y,m.lineStart=g,m.lineEnd=v,o=[],i=[]},polygonEnd:function(){m.point=p,m.lineStart=h,m.lineEnd=f,o=Dy(o);var e=function(e,t){var n=Pv(t),a=t[1],r=wg(a),i=[wg(n),-bg(n),0],o=0,s=0,l=new Yy;1===r?a=mg+dg:-1===r&&(a=-mg-dg);for(var d=0,u=e.length;d<u;++d)if(m=(c=e[d]).length)for(var c,m,p=c[m-1],_=Pv(p),h=p[1]/2+pg,f=wg(h),y=bg(h),g=0;g<m;++g,_=b,f=w,y=L,p=v){var v=c[g],b=Pv(v),M=v[1]/2+pg,w=wg(M),L=bg(M),k=b-_,Y=k>=0?1:-1,D=Y*k,x=D>cg,T=f*w;if(l.add(vg(T*Y*wg(D),y*L+T*bg(D))),o+=x?k+Y*_g:k,x^_>=n^b>=n){var S=cv(dv(p),dv(v));_v(S);var H=cv(i,S);_v(H);var E=(x^k>=0?-1:1)*Yg(H[2]);(a>E||a===E&&(S[0]||S[1]))&&(s+=x^k>=0?1:-1)}}return(o<-1e-6||o<dg&&l<-1e-12)^1&s}(i,a);o.length?(c||(r.polygonStart(),c=!0),Ov(o,Wv,e,n,r)):e&&(c||(r.polygonStart(),c=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),c&&(r.polygonEnd(),c=!1),o=i=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(t,n){e(t,n)&&r.point(t,n)}function _(e,t){l.point(e,t)}function h(){m.point=_,l.lineStart()}function f(){m.point=p,l.lineEnd()}function y(e,t){s.push([e,t]),u.point(e,t)}function g(){u.lineStart(),s=[]}function v(){y(s[0][0],s[0][1]),u.lineEnd();var e,t,n,a,l=u.clean(),m=d.result(),p=m.length;if(s.pop(),i.push(s),s=null,p)if(1&l){if((t=(n=m[0]).length-1)>0){for(c||(r.polygonStart(),c=!0),r.lineStart(),e=0;e<t;++e)r.point((a=n[e])[0],a[1]);r.lineEnd()}}else p>1&&2&l&&m.push(m.pop().concat(m.shift())),o.push(m.filter(Rv))}return m}}function Rv(e){return e.length>1}function Wv(e,t){return((e=e.x)[0]<0?e[1]-mg-dg:mg-e[1])-((t=t.x)[0]<0?t[1]-mg-dg:mg-t[1])}xv.invert=xv;var zv=Nv((function(){return!0}),(function(e){var t,n=NaN,a=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(i,o){var s=i>0?cg:-cg,l=yg(i-n);yg(l-cg)<dg?(e.point(n,a=(a+o)/2>0?mg:-mg),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(s,a),e.point(i,a),t=0):r!==s&&l>=cg&&(yg(n-r)<dg&&(n-=r*dg),yg(i-s)<dg&&(i-=s*dg),a=function(e,t,n,a){var r,i,o=wg(e-n);return yg(o)>dg?gg((wg(t)*(i=bg(a))*wg(n)-wg(a)*(r=bg(t))*wg(e))/(r*i*o)):(t+a)/2}(n,a,i,o),e.point(r,a),e.lineEnd(),e.lineStart(),e.point(s,a),t=0),e.point(n=i,a=o),r=s},lineEnd:function(){e.lineEnd(),n=a=NaN},clean:function(){return 2-t}}}),(function(e,t,n,a){var r;if(null==e)r=n*mg,a.point(-cg,r),a.point(0,r),a.point(cg,r),a.point(cg,0),a.point(cg,-r),a.point(0,-r),a.point(-cg,-r),a.point(-cg,0),a.point(-cg,r);else if(yg(e[0]-t[0])>dg){var i=e[0]<t[0]?cg:-cg;r=n*i/2,a.point(-i,r),a.point(0,r),a.point(i,r)}else a.point(t[0],t[1])}),[-cg,-mg]);function Uv(e){var t=bg(e),n=6*fg,a=t>0,r=yg(t)>dg;function i(e,n){return bg(e)*bg(n)>t}function o(e,n,a){var r=[1,0,0],i=cv(dv(e),dv(n)),o=uv(i,i),s=i[0],l=o-s*s;if(!l)return!a&&e;var d=t*o/l,u=-t*s/l,c=cv(r,i),m=pv(r,d);mv(m,pv(i,u));var p=c,_=uv(m,p),h=uv(p,p),f=_*_-h*(uv(m,m)-1);if(!(f<0)){var y=kg(f),g=pv(p,(-_-y)/h);if(mv(g,m),g=lv(g),!a)return g;var v,b=e[0],M=n[0],w=e[1],L=n[1];M<b&&(v=b,b=M,M=v);var k=M-b,Y=yg(k-cg)<dg;if(!Y&&L<w&&(v=w,w=L,L=v),Y||k<dg?Y?w+L>0^g[1]<(yg(g[0]-b)<dg?w:L):w<=g[1]&&g[1]<=L:k>cg^(b<=g[0]&&g[0]<=M)){var D=pv(p,(-_+y)/h);return mv(D,m),[g,lv(D)]}}}function s(t,n){var r=a?e:cg-e,i=0;return t<-r?i|=1:t>r&&(i|=2),n<-r?i|=4:n>r&&(i|=8),i}return Nv(i,(function(e){var t,n,l,d,u;return{lineStart:function(){d=l=!1,u=1},point:function(c,m){var p,_=[c,m],h=i(c,m),f=a?h?0:s(c,m):h?s(c+(c<0?cg:-cg),m):0;if(!t&&(d=l=h)&&e.lineStart(),h!==l&&(!(p=o(t,_))||Av(t,p)||Av(_,p))&&(_[2]=1),h!==l)u=0,h?(e.lineStart(),p=o(_,t),e.point(p[0],p[1])):(p=o(t,_),e.point(p[0],p[1],2),e.lineEnd()),t=p;else if(r&&t&&a^h){var y;f&n||!(y=o(_,t,!0))||(u=0,a?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}!h||t&&Av(t,_)||e.point(_[0],_[1]),t=_,l=h,n=f},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(d&&l)<<1}}}),(function(t,a,r,i){!function(e,t,n,a,r,i){if(n){var o=bg(t),s=wg(t),l=a*n;null==r?(r=t+a*_g,i=t-l/2):(r=Ev(o,r),i=Ev(o,i),(a>0?r<i:r>i)&&(r+=a*_g));for(var d,u=r;a>0?u>i:u<i;u-=l)d=lv([o,-s*bg(u),-s*wg(u)]),e.point(d[0],d[1])}}(i,e,n,r,t,a)}),a?[0,-e]:[-cg,e-cg])}var Iv,qv,Bv,Jv,Vv=1e9,$v=-Vv;function Gv(e,t,n,a){function r(r,i){return e<=r&&r<=n&&t<=i&&i<=a}function i(r,i,s,d){var u=0,c=0;if(null==r||(u=o(r,s))!==(c=o(i,s))||l(r,i)<0^s>0)do{d.point(0===u||3===u?e:n,u>1?a:t)}while((u=(u+s+4)%4)!==c);else d.point(i[0],i[1])}function o(a,r){return yg(a[0]-e)<dg?r>0?0:3:yg(a[0]-n)<dg?r>0?2:1:yg(a[1]-t)<dg?r>0?1:0:r>0?3:2}function s(e,t){return l(e.x,t.x)}function l(e,t){var n=o(e,1),a=o(t,1);return n!==a?n-a:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var l,d,u,c,m,p,_,h,f,y,g,v=o,b=jv(),M={point:w,lineStart:function(){M.point=L,d&&d.push(u=[]);y=!0,f=!1,_=h=NaN},lineEnd:function(){l&&(L(c,m),p&&f&&b.rejoin(),l.push(b.result()));M.point=w,f&&v.lineEnd()},polygonStart:function(){v=b,l=[],d=[],g=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,r=d.length;n<r;++n)for(var i,o,s=d[n],l=1,u=s.length,c=s[0],m=c[0],p=c[1];l<u;++l)i=m,o=p,m=(c=s[l])[0],p=c[1],o<=a?p>a&&(m-i)*(a-o)>(p-o)*(e-i)&&++t:p<=a&&(m-i)*(a-o)<(p-o)*(e-i)&&--t;return t}(),n=g&&t,r=(l=Dy(l)).length;(n||r)&&(o.polygonStart(),n&&(o.lineStart(),i(null,null,1,o),o.lineEnd()),r&&Ov(l,s,t,i,o),o.polygonEnd());v=o,l=d=u=null}};function w(e,t){r(e,t)&&v.point(e,t)}function L(i,o){var s=r(i,o);if(d&&u.push([i,o]),y)c=i,m=o,p=s,y=!1,s&&(v.lineStart(),v.point(i,o));else if(s&&f)v.point(i,o);else{var l=[_=Math.max($v,Math.min(Vv,_)),h=Math.max($v,Math.min(Vv,h))],b=[i=Math.max($v,Math.min(Vv,i)),o=Math.max($v,Math.min(Vv,o))];!function(e,t,n,a,r,i){var o,s=e[0],l=e[1],d=0,u=1,c=t[0]-s,m=t[1]-l;if(o=n-s,c||!(o>0)){if(o/=c,c<0){if(o<d)return;o<u&&(u=o)}else if(c>0){if(o>u)return;o>d&&(d=o)}if(o=r-s,c||!(o<0)){if(o/=c,c<0){if(o>u)return;o>d&&(d=o)}else if(c>0){if(o<d)return;o<u&&(u=o)}if(o=a-l,m||!(o>0)){if(o/=m,m<0){if(o<d)return;o<u&&(u=o)}else if(m>0){if(o>u)return;o>d&&(d=o)}if(o=i-l,m||!(o<0)){if(o/=m,m<0){if(o>u)return;o>d&&(d=o)}else if(m>0){if(o<d)return;o<u&&(u=o)}return d>0&&(e[0]=s+d*c,e[1]=l+d*m),u<1&&(t[0]=s+u*c,t[1]=l+u*m),!0}}}}}(l,b,e,t,n,a)?s&&(v.lineStart(),v.point(i,o),g=!1):(f||(v.lineStart(),v.point(l[0],l[1])),v.point(b[0],b[1]),s||v.lineEnd(),g=!1)}_=i,h=o,f=s}return M}}var Kv={sphere:Dg,point:Dg,lineStart:function(){Kv.point=Xv,Kv.lineEnd=Zv},lineEnd:Dg,polygonStart:Dg,polygonEnd:Dg};function Zv(){Kv.point=Kv.lineEnd=Dg}function Xv(e,t){qv=e*=fg,Bv=wg(t*=fg),Jv=bg(t),Kv.point=Qv}function Qv(e,t){e*=fg;var n=wg(t*=fg),a=bg(t),r=yg(e-qv),i=bg(r),o=a*wg(r),s=Jv*n-Bv*a*i,l=Bv*n+Jv*a*i;Iv.add(vg(kg(o*o+s*s),l)),qv=e,Bv=n,Jv=a}function eb(e){return Iv=new Yy,jg(e,Kv),+Iv}var tb,nb,ab,rb,ib=e=>e,ob=new Yy,sb=new Yy,lb={point:Dg,lineStart:Dg,lineEnd:Dg,polygonStart:function(){lb.lineStart=db,lb.lineEnd=mb},polygonEnd:function(){lb.lineStart=lb.lineEnd=lb.point=Dg,ob.add(yg(sb)),sb=new Yy},result:function(){var e=ob/2;return ob=new Yy,e}};function db(){lb.point=ub}function ub(e,t){lb.point=cb,tb=ab=e,nb=rb=t}function cb(e,t){sb.add(rb*e-ab*t),ab=e,rb=t}function mb(){cb(tb,nb)}var pb=lb,_b=1/0,hb=_b,fb=-_b,yb=fb;var gb,vb,bb,Mb,wb={point:function(e,t){e<_b&&(_b=e);e>fb&&(fb=e);t<hb&&(hb=t);t>yb&&(yb=t)},lineStart:Dg,lineEnd:Dg,polygonStart:Dg,polygonEnd:Dg,result:function(){var e=[[_b,hb],[fb,yb]];return fb=yb=-(hb=_b=1/0),e}},Lb=0,kb=0,Yb=0,Db=0,xb=0,Tb=0,Sb=0,Hb=0,Eb=0,jb={point:Ab,lineStart:Cb,lineEnd:Pb,polygonStart:function(){jb.lineStart=Nb,jb.lineEnd=Rb},polygonEnd:function(){jb.point=Ab,jb.lineStart=Cb,jb.lineEnd=Pb},result:function(){var e=Eb?[Sb/Eb,Hb/Eb]:Tb?[Db/Tb,xb/Tb]:Yb?[Lb/Yb,kb/Yb]:[NaN,NaN];return Lb=kb=Yb=Db=xb=Tb=Sb=Hb=Eb=0,e}};function Ab(e,t){Lb+=e,kb+=t,++Yb}function Cb(){jb.point=Ob}function Ob(e,t){jb.point=Fb,Ab(bb=e,Mb=t)}function Fb(e,t){var n=e-bb,a=t-Mb,r=kg(n*n+a*a);Db+=r*(bb+e)/2,xb+=r*(Mb+t)/2,Tb+=r,Ab(bb=e,Mb=t)}function Pb(){jb.point=Ab}function Nb(){jb.point=Wb}function Rb(){zb(gb,vb)}function Wb(e,t){jb.point=zb,Ab(gb=bb=e,vb=Mb=t)}function zb(e,t){var n=e-bb,a=t-Mb,r=kg(n*n+a*a);Db+=r*(bb+e)/2,xb+=r*(Mb+t)/2,Tb+=r,Sb+=(r=Mb*e-bb*t)*(bb+e),Hb+=r*(Mb+t),Eb+=3*r,Ab(bb=e,Mb=t)}var Ub=jb;function Ib(e){this._context=e}Ib.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,_g)}},result:Dg};var qb,Bb,Jb,Vb,$b,Gb=new Yy,Kb={point:Dg,lineStart:function(){Kb.point=Zb},lineEnd:function(){qb&&Xb(Bb,Jb),Kb.point=Dg},polygonStart:function(){qb=!0},polygonEnd:function(){qb=null},result:function(){var e=+Gb;return Gb=new Yy,e}};function Zb(e,t){Kb.point=Xb,Bb=Vb=e,Jb=$b=t}function Xb(e,t){Vb-=e,$b-=t,Gb.add(kg(Vb*Vb+$b*$b)),Vb=e,$b=t}var Qb=Kb;function eM(){this._string=[]}function tM(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function nM(e){return function(t){var n=new aM;for(var a in e)n[a]=e[a];return n.stream=t,n}}function aM(){}function rM(e,t,n){var a=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=a&&e.clipExtent(null),jg(n,e.stream(wb)),t(wb.result()),null!=a&&e.clipExtent(a),e}function iM(e,t,n){return rM(e,(function(n){var a=t[1][0]-t[0][0],r=t[1][1]-t[0][1],i=Math.min(a/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),o=+t[0][0]+(a-i*(n[1][0]+n[0][0]))/2,s=+t[0][1]+(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,s])}),n)}eM.prototype={_radius:4.5,_circle:tM(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=tM(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},aM.prototype={constructor:aM,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var oM=bg(30*fg);function sM(e,t){return+t?function(e,t){function n(a,r,i,o,s,l,d,u,c,m,p,_,h,f){var y=d-a,g=u-r,v=y*y+g*g;if(v>4*t&&h--){var b=o+m,M=s+p,w=l+_,L=kg(b*b+M*M+w*w),k=Yg(w/=L),Y=yg(yg(w)-1)<dg||yg(i-c)<dg?(i+c)/2:vg(M,b),D=e(Y,k),x=D[0],T=D[1],S=x-a,H=T-r,E=g*S-y*H;(E*E/v>t||yg((y*S+g*H)/v-.5)>.3||o*m+s*p+l*_<oM)&&(n(a,r,i,o,s,l,x,T,Y,b/=L,M/=L,w,h,f),f.point(x,T),n(x,T,Y,b,M,w,d,u,c,m,p,_,h,f))}}return function(t){var a,r,i,o,s,l,d,u,c,m,p,_,h={point:f,lineStart:y,lineEnd:v,polygonStart:function(){t.polygonStart(),h.lineStart=b},polygonEnd:function(){t.polygonEnd(),h.lineStart=y}};function f(n,a){n=e(n,a),t.point(n[0],n[1])}function y(){u=NaN,h.point=g,t.lineStart()}function g(a,r){var i=dv([a,r]),o=e(a,r);n(u,c,d,m,p,_,u=o[0],c=o[1],d=a,m=i[0],p=i[1],_=i[2],16,t),t.point(u,c)}function v(){h.point=f,t.lineEnd()}function b(){y(),h.point=M,h.lineEnd=w}function M(e,t){g(a=e,t),r=u,i=c,o=m,s=p,l=_,h.point=g}function w(){n(u,c,d,m,p,_,r,i,a,o,s,l,16,t),h.lineEnd=v,v()}return h}}(e,t):function(e){return nM({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var lM=nM({point:function(e,t){this.stream.point(e*fg,t*fg)}});function dM(e,t,n,a,r,i){if(!i)return function(e,t,n,a,r){function i(i,o){return[t+e*(i*=a),n-e*(o*=r)]}return i.invert=function(i,o){return[(i-t)/e*a,(n-o)/e*r]},i}(e,t,n,a,r);var o=bg(i),s=wg(i),l=o*e,d=s*e,u=o/e,c=s/e,m=(s*n-o*t)/e,p=(s*t+o*n)/e;function _(e,i){return[l*(e*=a)-d*(i*=r)+t,n-d*e-l*i]}return _.invert=function(e,t){return[a*(u*e-c*t+m),r*(p-c*e-u*t)]},_}function uM(e){return function(e){var t,n,a,r,i,o,s,l,d,u,c=150,m=480,p=250,_=0,h=0,f=0,y=0,g=0,v=0,b=1,M=1,w=null,L=zv,k=null,Y=ib,D=.5;function x(e){return l(e[0]*fg,e[1]*fg)}function T(e){return(e=l.invert(e[0],e[1]))&&[e[0]*hg,e[1]*hg]}function S(){var e=dM(c,0,0,b,M,v).apply(null,t(_,h)),a=dM(c,m-e[0],p-e[1],b,M,v);return n=function(e,t,n){return(e%=_g)?t||n?Dv(Sv(e),Hv(t,n)):Sv(e):t||n?Hv(t,n):xv}(f,y,g),s=Dv(t,a),l=Dv(n,s),o=sM(s,D),H()}function H(){return d=u=null,x}return x.stream=function(e){return d&&u===e?d:d=lM(function(e){return nM({point:function(t,n){var a=e(t,n);return this.stream.point(a[0],a[1])}})}(n)(L(o(Y(u=e)))))},x.preclip=function(e){return arguments.length?(L=e,w=void 0,H()):L},x.postclip=function(e){return arguments.length?(Y=e,k=a=r=i=null,H()):Y},x.clipAngle=function(e){return arguments.length?(L=+e?Uv(w=e*fg):(w=null,zv),H()):w*hg},x.clipExtent=function(e){return arguments.length?(Y=null==e?(k=a=r=i=null,ib):Gv(k=+e[0][0],a=+e[0][1],r=+e[1][0],i=+e[1][1]),H()):null==k?null:[[k,a],[r,i]]},x.scale=function(e){return arguments.length?(c=+e,S()):c},x.translate=function(e){return arguments.length?(m=+e[0],p=+e[1],S()):[m,p]},x.center=function(e){return arguments.length?(_=e[0]%360*fg,h=e[1]%360*fg,S()):[_*hg,h*hg]},x.rotate=function(e){return arguments.length?(f=e[0]%360*fg,y=e[1]%360*fg,g=e.length>2?e[2]%360*fg:0,S()):[f*hg,y*hg,g*hg]},x.angle=function(e){return arguments.length?(v=e%360*fg,S()):v*hg},x.reflectX=function(e){return arguments.length?(b=e?-1:1,S()):b<0},x.reflectY=function(e){return arguments.length?(M=e?-1:1,S()):M<0},x.precision=function(e){return arguments.length?(o=sM(s,D=e*e),H()):kg(D)},x.fitExtent=function(e,t){return iM(x,e,t)},x.fitSize=function(e,t){return function(e,t,n){return iM(e,[[0,0],t],n)}(x,e,t)},x.fitWidth=function(e,t){return function(e,t,n){return rM(e,(function(n){var a=+t,r=a/(n[1][0]-n[0][0]),i=(a-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];e.scale(150*r).translate([i,o])}),n)}(x,e,t)},x.fitHeight=function(e,t){return function(e,t,n){return rM(e,(function(n){var a=+t,r=a/(n[1][1]-n[0][1]),i=-r*n[0][0],o=(a-r*(n[1][1]+n[0][1]))/2;e.scale(150*r).translate([i,o])}),n)}(x,e,t)},function(){return t=e.apply(this,arguments),x.invert=t.invert&&T,S()}}((function(){return e}))()}var cM=Math.abs,mM=Math.cos,pM=Math.sin,_M=Math.PI,hM=_M/2;function fM(e){return e>1?hM:e<-1?-hM:Math.asin(e)}function yM(e){return e>0?Math.sqrt(e):0}function gM(e,t){var n=(2+hM)*pM(t);t/=2;for(var a=0,r=1/0;a<10&&cM(r)>1e-6;a++){var i=mM(t);t-=r=(t+pM(t)*(i+2)-n)/(2*i*(1+i))}return[2/yM(_M*(4+_M))*e*(1+mM(t)),2*yM(_M/(4+_M))*pM(t)]}function vM(){return uM(gM).scale(180.739)}gM.invert=function(e,t){var n=t*yM((4+_M)/_M)/2,a=fM(n),r=mM(a);return[e/(2/yM(_M*(4+_M))*(1+r)),fM((a+n*(r+2))/(2+hM))]};let bM=document.createElement("canvas");const MM=["Polygon","MultiPolygon","LineString","MultiLineString"];function wM(e){return["MultiPolygon","MultiLineString"].includes(e)}function LM(e){if(!e||!e.type||!e.coordinates)return;const t=e.type;if(!MM.includes(t))return;if(!Array.isArray(e.coordinates[0]))return;let n;if(wM(t)){if(!Array.isArray(e.coordinates[0][0]))return;n=e.coordinates[0][0].slice(0,5)}else n=e.coordinates[0].slice(0,5);for(let e=0;e<n.length;e++){const t=n[e];if(t[0]<-180||t[0]>180)return;if(t[1]<-90||t[1]>90)return}return!0}function kM(e,t,n,a){const r=e?document.createElement("canvas"):bM,i=window.devicePixelRatio;if(r.width=t*i,r.height=n*i,r.style.width=t+"px",r.style.height=n+"px",r.style.display="block",r.style.margin="auto auto",!e)return r;const o=r.getContext("2d");o.scale(i,i);try{e=xy(e,!0);const r=a?e:function(e){if(!wM(e.type))return e;const t=e.coordinates,n=e.type,a="MultiPolygon"===n?"Polygon":"LineString",r="MultiPolygon"===n?sv:eb,i=[];let o=0;for(let e=0;e<t.length;e++){const n=r({type:a,coordinates:t[e]});i.push(n),o=Math.max(o,n)}const s=[];let l=o/10;for(let e=0;e<t.length;e++)i[e]>=l&&s.push(t[e]);return{type:n,coordinates:s}}(e),i=function(e){Ng=Rg=Wg=zg=Ug=Ig=qg=Bg=0,Jg=new Yy,Vg=new Yy,$g=new Yy,jg(e,hv);var t=+Jg,n=+Vg,a=+$g,r=Mg(t,n,a);return r<ug&&(t=Ig,n=qg,a=Bg,Rg<dg&&(t=Wg,n=zg,a=Ug),(r=Mg(t,n,a))<ug)?[NaN,NaN]:[vg(n,t)*hg,Yg(a/r)*hg]}(r);!function(e,t){var n,a,r=4.5;function i(e){return e&&("function"==typeof r&&a.pointRadius(+r.apply(this,arguments)),jg(e,n(a))),a.result()}return i.area=function(e){return jg(e,n(pb)),pb.result()},i.measure=function(e){return jg(e,n(Qb)),Qb.result()},i.bounds=function(e){return jg(e,n(wb)),wb.result()},i.centroid=function(e){return jg(e,n(Ub)),Ub.result()},i.projection=function(t){return arguments.length?(n=null==t?(e=null,ib):(e=t).stream,i):e},i.context=function(e){return arguments.length?(a=null==e?(t=null,new eM):new Ib(t=e),"function"!=typeof r&&a.pointRadius(r),i):t},i.pointRadius=function(e){return arguments.length?(r="function"==typeof e?e:(a.pointRadius(+e),+e),i):r},i.projection(e).context(t)}(vM().rotate([-i[0],-i[1],0]).fitExtent([[1,1],[t-2,n-2]],r),o)(e),["Polygon","MultiPolygon"].includes(e.type)?o.fill():o.stroke()}catch(e){return}return r}const YM=new Set(["af","ax","al","dz","as","ad","ao","ai","aq","ag","ar","am","aw","au","at","az","bs","bh","bd","bb","by","be","bz","bj","bm","bt","bo","ba","bw","bv","br","vg","io","bn","bg","bf","bi","kh","cm","ca","cv","ky","cf","td","cl","cn","hk","mo","cx","cc","co","km","cg","cd","ck","cr","ci","hr","cu","cy","cz","dk","dj","dm","do","ec","eg","sv","gq","er","ee","et","fk","fo","fj","fi","fr","gf","pf","tf","ga","gm","ge","de","gh","gi","gr","gl","gd","gp","gu","gt","gg","gn","gw","gy","ht","hm","va","hn","hu","is","in","id","ir","iq","ie","im","il","it","jm","jp","je","jo","kz","ke","ki","kp","kr","kw","kg","la","lv","lb","ls","lr","ly","li","lt","lu","mk","mg","mw","my","mv","ml","mt","mh","mq","mr","mu","yt","mx","fm","md","mc","mn","me","ms","ma","mz","mm","na","nr","np","nl","an","nc","nz","ni","ne","ng","nu","nf","mp","no","om","pk","pw","ps","pa","pg","py","pe","ph","pn","pl","pt","pr","qa","re","ro","ru","rw","bl","sh","kn","lc","mf","pm","vc","ws","sm","st","sa","sn","rs","sc","sl","sg","sk","si","sb","so","za","gs","ss","es","lk","sd","sr","sj","sz","se","ch","sy","tw","tj","tz","th","tl","tg","tk","to","tt","tn","tr","tm","tc","tv","ug","ua","ae","gb","us","um","uy","uz","vu","ve","vn","vi","wf","eh","ye","zm","zw"]);var DM,xM,TM,SM,HM=0,EM=0,jM=void 0,AM=[],CM=!1,OM=!1,FM={},PM=[],NM=[],RM=!1,WM=!1,zM={items:{row_above:{},row_below:{},sep1:"---------",col_left:{},col_right:{},sep2:"---------",remove_row:{},remove_col:{},sep3:"---------","sort-asc":{name:"Sort by column (A→Z)",disabled:Kw},"sort-desc":{name:"Sort by column (Z→A)",disabled:Kw},"combine-columns":{name:"Combine columns (“unpivot”)",disabled:function(){var e=IM();return!e||e[1]===e[3]}},sep4:"---------",upload:{name:"Upload file",disabled:function(){var e=IM();return!e||e[0]!==e[2]||e[1]!==e[3]}}},callback:function(e){if("upload"===e)n=IM(),SM.startUpload({accept:"image/*,video/*,audio/*",success:function(e){DM.setDataAtCell(n[0],n[1],e)}});else if("sort-asc"===e)qw(IM()[1],!0);else if("sort-desc"===e)qw(IM()[1],!1);else if("combine-columns"===e){var t=IM();!function(e,t){var n,a=tL();if(!a.length)return;var r=[];if(e<t)for(var i=e;i<=t;i++)r.push(i);else for(i=e;i>=t;i--)r.push(i);var o,s=!1,l=r.reduce((function(e,t){var n=a[0][t];return void 0!==e[n]?s=!0:e[n]=t,e}),{}),d=function(){const n=[o[0].length-2,o[0].length-1],a=Array.from({length:(t-e)/1+1},((t,n)=>e+n));function r(e,t){t.forEach(((t,n)=>{const a=JSON.parse(JSON.stringify(PM[t.index])),r=JSON.parse(JSON.stringify(PM[e[0]+n]));PM[t.index]=r,PM[t.index].index=a.index,PM[e[0]+n]=a,PM[e[0]+n].index=r.index}));const n=e.length-2;for(let e=0;e<n;e++)PM.pop()}r(a,PM.slice(Math.max(...a)+1)),NM=PM;bw(o,{action:"combine_columns",changed_columns:n,run_multithreaded:!0},(function(e){PM=e.map(((e,t)=>(e.starting_index=t,e))),GM(o),XM(),xw(),UM("combined columns of data")}))},u=Gt("Combine columns","<p>Combine multiple columns in your data into two columns - useful to convert 'wide' data into 'long' format. <a href='https://flourish.studio/2019/10/15/unpivot-flourish-data/' target=_blank>Learn more</a>.</p><div class='option-selection'></div><div class='mini-spreadsheet'></div><p><br>⚠️ Please check data thoroughly. This action cannot be undone once confirmed!<p>",{is_html:!0,buttons:[{text:"Confirm",keyCode:13,class:"primary",callback:d},{text:"Cancel",keyCode:27,class:"secondary"}]}),c=u.select(".option-selection"),m=function(){var e=o.shift(),t=e.length-2;(o=o.map((function(e,n){return{header_index:l[e[t]],row_index:n,d:e}})).sort((function(e,t){return e.header_index-t.header_index||e.row_index-t.row_index})).map((function(e){return e.d}))).unshift(e)},p=function(){o=function(e,t,n){var a=void 0!==(n=n||{}).variable_name?n.variable_name:"Variable",r=void 0!==n.value_name?n.value_name:"Value",i=n.keep_empty_strings?r_:a_,o=e[0].slice(),s=o.map((function(e,n){return-1===t.indexOf(n)})),l=e.reduce((function(e,n,a){if(!a)return e;var r=n.filter((function(e,t){return s[t]}));return t.forEach((function(t){var a=n[t];if(!i(a)){var s=r.slice();s.push(o[t]),s.push(a),e.push(s)}})),e}),[o.filter((function(e,t){return s[t]})).concat([a,r])]);return l}(a,r,{keep_empty_strings:$w,variable_name:"Label"}),!s&&Gw&&m(),n.loadData(o)};c.append("input").attr("type","checkbox").attr("name","keep-empty").attr("id","keep-empty").attr("checked",$w?"":null).style("cursor","pointer").on("change",(function(){$w=this.checked,p()})),c.append("label").attr("for","keep-empty").style("cursor","pointer").text("Include rows for empty cells"),c.append("br"),c.append("input").attr("type","checkbox").attr("name","use-header-order").attr("id","use-header-order").attr("disabled",s?"":null).attr("checked",!s&&Gw?"":null).style("cursor","pointer").on("change",(function(){Gw=this.checked,p()}));var _=c.append("label").attr("for","use-header-order").style("cursor","pointer").style("color",s?"#888888":"null").text("Sort rows to follow order of original headers");s&&_.append("span").text("⚠️").attr("title","This option is disabled because you have duplicate headers in the input data");n=m_(u.select(".mini-spreadsheet").node()),u.select(".dialog-inner").style("width","1000px"),u.selectAll(".handsontable thead").style("pointer-events","none"),u.selectAll(".handsontable tbody").style("pointer-events","none"),u.selectAll(".handsontable").style("max-height","33vh"),p()}(t[1],t[3])}var n}};function UM(e,t){Ln.logHistory({category:"visualisation",action:e,visualisation_id:xM.visualisation.id,detail:t})}function IM(){const e=DM.getSelected();return e?e[0]:null}function qM(e){for(var t=0;t<xM.visualisation.data_tables.length;t++)if(xM.visualisation.data_tables[t].id==e)return t}function BM(e){DM.updateSettings({readOnly:e,colHeaders:rL(e),contextMenu:!e&&zM,disableVisualSelection:e,manualColumnResize:!e,manualRowResize:!e,comments:!e})}function JM(){var e=!!jM.live_csv_url||WM;be(".live-csv-overlay").classed("active",e),BM(!xM.visualisation.can_edit||e);var t,n=jM.live_csv_url||"";be("#live-csv-url-link").attr("href",n).text(n),be(".add-data-container").style("display",e?"none":"block"),[".live-csv-overlay-current-url",".live-csv-overlay-buttons",".live-csv-overlay-explanation",".live-csv-overlay-last-updated"].forEach((function(e){be(e).style("display",WM?"none":"block")})),be(".live-csv-loading").style("display",WM?"block":"none"),t=jM.last_remote_data_error_message?"Last update failed: "+jM.last_remote_data_error_message:"Last updated at "+(jM.t_updated||jM.t_created),be(".live-csv-overlay-last-updated").text(t)}function VM(e){WM=e,JM()}function $M(e){const t=be(`#sheet-tab-${e}`);if(t.classed("selected"))return;FM.done_actions=0,FM.undone_actions=0;const n=be("#undo-data"),a=be("#redo-data");n.attr("disabled",!0),a.attr("disabled",!0),mu(be("#spreadsheet-container").node()),we(".sheet-tab").classed("selected",(function(){return this.getAttribute("data-target")==e})),KM(),jM=t.datum(),Ct.hide(),DM.deselectCell(),jM.getColumnTypes((function(t,n){if(t)return console.error("Failed to get column types!",t);NM=n,jM.csv((function(t,n){if(t)return console.error("Failed to load data!",t);0==n.length&&(n=[[""]]),function(e,t){bw(e,{action:"replace_columns",changed_columns:[],run_multithreaded:!0},(function(e){PM=e,t()}))}(n,(()=>{var t;GM(n),DM.rootElement.setAttribute("data-sheet",e),(t=be(".search-menu input").node()).value&&Uw.call(t),JM(),pu(be("#spreadsheet-container").node())}))}))})),xM.data_bindings.update()}function GM(e){CM=!0,DM.loadData(e),CM=!1}function KM(){we(".sheet-options").classed("showing",!1)}function ZM(e,t){var n=xM.visualisation.dataBindingsForCurrentTemplate();for(var a in n){var r=n[a];for(var i in r){if(null==r[i])return!1;if(r[i].data_table_id==e)if("column"in r[i]){if(r[i].column==t)return!0}else if(1==r[i].columns.length&&r[i].columns[0]==t)return!0}}return!1}function XM(){if(xM.confirm_data&&vw()){var e=PM.map((function(e,t){return{index:t,type_id:e.type_id,output_format_id:e.output_format_id}}));xM.confirm_data.saving(),jM.save({column_types:e},(function(e){if(e)return xM.confirm_data.error(e),void xM.analytics("send","exception",{exDescription:e.message||e,exFatal:!1});UM("updated column types on sheet"),xM.analytics("send","event","visualisation","save_column_types",xM.visualisation.id),xM.visualisation.dataTablesHaveChanged(),xM.confirm_data.saved()})),NM=e}}function QM(e){xM.analytics("send","event","visualisation","clear_tab",xM.visualisation.id),e.saveData([],(function(t){if(t)return console.error("Failed to save data",t);UM("cleared sheet"),be(".sheet-tab[data-target='"+e.id+"']").classed("selected")&&(_w(),xw())}))}function ew(){jM.csv((function(e,t){if(e)return console.error("Failed to load data!",e);0==t.length&&(t=[[""]]);var n=t[0].map((function(e,n){return t.map((function(e){return e[n]}))}));jM.saveData(n,(function(){const e={action:"replace_columns",changed_columns:nL(),run_multithreaded:!0};bw(n,e,(function(e){PM=e,GM(n),XM(),vw()&&Lw(),UM("transposed data")}))}))})),xM.analytics("send","event","visualisation","transpose",xM.visualisation.id)}function tw(e){e.stopPropagation();var t=dw(),n=null!==t;be(this.parentNode).select(".quick-download").on("click",function(e){return function(t,n){const a=null!==e?"GeoJSON":"CSV";UM(`selected “Download as ${a}”`);const r=qM(n.id),i=xM.visualisation.data_tables[r].name;"GeoJSON"===a?lw(i,r,e):rw(i,r)}}(t)).select("span.option-name").text("Download as "+(n?"GeoJSON":"CSV"));var a=this;we(".sheet-options").classed("showing",(function(){return this.parentNode==a.parentNode}))}function nw(e,t){var n=window.URL||window.webkitURL;xM.analytics("send","event","visualisation","download_data",xM.visualisation.id);const a=e.substr(e.lastIndexOf(".")+1);if("undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(t,e);else{var r=n.createObjectURL(t),i=document.createElement("a");if("download"in i){if(i.setAttribute("type","hidden"),document.body.appendChild(i),i.download=e,i.href=r,i.setAttribute("data-cy","data-download-link"),window.Cypress)return;i.click(),setTimeout((function(){n.revokeObjectURL(i.href),document.body.removeChild(i)}),5e3)}else window.location.href=r}UM(`downloaded data in ${{csv:"CSV",xlsx:"XLSX",json:"JSON",geojson:"GeoJSON"}[a]} format`)}function aw(e){for(var t=e.slice(),n=0;n<t.length;n++)for(var a=0;a<t[n].length;a++)t[n][a]&&!isNaN(t[n][a])&&(t[n][a]=parseFloat(t[n][a]));return t}function rw(e,t){xM.visualisation.data_tables[t].csv((function(t,n){if(t)return console.error("Failed to load data!",t);const a=aw(n),r=i.utils.sheet_to_csv(i.utils.aoa_to_sheet(a)),o=new Blob(["\ufeff"+r]);nw(e+"."+(new Date).getTime()+".csv",o)}))}async function iw(e,t){const n=i.utils.book_new(),a=[],r=xM.visualisation.data_tables,o=void 0!==t?[r[t]]:r;let s;try{s=await Promise.all(o.map((async e=>({table:e,raw_data:await e.csvPromise()}))))}catch(e){return console.error("Failed to load data!",e)}s.forEach((function({table:e,raw_data:t}){const r=aw(t);let o=e.name.substr(0,31),s=1;for(;-1!==a.indexOf(o);)o=o.substr(0,o.length-2)+s++;a.push(o),i.utils.book_append_sheet(n,i.utils.aoa_to_sheet(r),o)}));const l=function(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0;t!=e.length;++t)n[t]=255&e.charCodeAt(t);return new Blob([t],{type:"application/octet-stream"})}(i.write(n,{bookType:"xlsx",type:"binary"}));nw(e+"."+(new Date).getTime()+".xlsx",l)}async function ow(e,t){const n=xM.visualisation.data_tables,a=void 0!==t?[n[t]]:n;let r;try{r=await Promise.all(a.map((async e=>({table:e,raw_data:await e.csvPromise()}))))}catch(e){return console.error("Failed to load data!",e)}const i={};r.forEach((function({table:e,raw_data:t}){const n=aw(t),a=e.name;i[a]=n}));const o=void 0!==t?Object.values(i)[0]:i,s=new Blob([JSON.stringify(o)]);nw(e+"."+(new Date).getTime()+".json",s)}async function sw(e,t){const n=xM.visualisation.data_tables,a=void 0!==t?[n[t]]:n;let r;try{r=await Promise.all(a.map((async e=>({table:e,raw_data:await e.csvPromise()}))))}catch(e){return console.error("Failed to load data!",e)}const i={};r.forEach((function({table:e,raw_data:t}){const n=aw(t),a=e.name,r=t.shift();r.length-new Set(r).size&&console.warn("Some data will be missing in download due to repeated headers"),i[a]=n.map((function(e){const t={};return e.forEach((function(e,n){void 0===t[r[n]]&&(t[r[n]]=e)})),t}))}));const o=void 0!==t?Object.values(i)[0]:i,s=new Blob([JSON.stringify(o)]);nw(e+"."+(new Date).getTime()+".json",s)}function lw(e,t,n){xM.visualisation.data_tables[t].csv((function(t,a){if(t)return console.error("Failed to load data!",t);aw(a);const r={type:"FeatureCollection",features:[]},i=r.features,o=a.shift();o.length-new Set(o).size&&console.warn("Some properties may be missing in download due to repeated headers");a.forEach((function(e,t){const a={},r=e[n];let s,l=null;if(r)try{if(!Ey(r))throw new Error("Invalid geometry string");l=JSON.parse(r)}catch(e){const a=b_(n)+(t+1);console.warn(`Couldn't parse geometry in cell ${a}, treating as null`)}for(let t=0;t<e.length;t++){if(t===n)continue;const r=o[t],i=e[t];"id"===r&&void 0===s?s=i:void 0===a[r]&&(a[r]=i)}i.push({type:"Feature",geometry:l,id:s,properties:a})}));const s=new Blob([JSON.stringify(r)]);nw(e+"."+(new Date).getTime()+".geojson",s)}))}function dw(e=5,t=20){const n=DM.getData(),a=Math.min(e,n.length-1),r=Math.min(t,n.length?n[0].length:0);for(let e=1;e<=a;e++){const t=n[e];for(let e=0;e<r;e++)if(t[e]&&Ey(t[e]))return e}return null}function uw(e){let t=dw();const n=Me("div");n.append("div").attr("id","choose-download-format").selectAll("p").data([{label:"CSV",value:"csv"},{label:"Excel (xlsx)",value:"xlsx"},{label:"JSON",value:"json"}]).enter().append("p").each((function(e,n){be(this).append("input").attr("type","radio").attr("name","download-format").attr("id",`download-format-${e.value}`).attr("value",e.value).attr("checked",(function(){return null!==t?"json"===e.value:!n||null})),be(this).append("label").attr("for",`download-format-${e.value}`).text(e.label)}));n.append("div").attr("id","choose-json-format").style("padding-left","2rem").style("display","none").selectAll("p").data([{label:"Array of arrays",value:"arrays"},{label:"Array of objects",value:"objects"},{label:"GeoJSON",value:"geo"}]).enter().append("p").each((function(e,n){be(this).append("input").attr("type","radio").attr("name","json-format").attr("id",`json-format-${e.value}`).attr("value",e.value).attr("checked",(function(){return null!==t?"geo"===e.value:!n||null})),be(this).append("label").attr("for",`json-format-${e.value}`).text(e.label)}));const a=()=>document.querySelector('input[name="download-format"]:checked').value,r=Gt("Pick a format",n.node().innerHTML,{is_html:!0,buttons:[{text:"Download",keyCode:13,class:"primary",callback:function(){const n=xM.visualisation.data_tables[e].name,r=a();if("xlsx"===r)UM("selected to download a single sheet in XLSX format"),iw(n,e);else if("csv"===r)UM("selected to download a single sheet in CSV format"),rw(n,e);else{const a=document.querySelector('input[name="json-format"]:checked').value;"geo"===a?(UM("selected to download a single sheet in GeoJSON format"),null===t&&(t=dw(1/0,1/0)),lw(n,e,t)):(UM("selected to download a single sheet in JSON format"),"arrays"===a?ow(n,e):sw(n,e))}}},{text:"Cancel",keyCode:27,class:"secondary"}]}),i=function(){r.select("#choose-json-format").style("display","json"===a()?null:"none")};i(),r.selectAll("#choose-download-format input").on("change",i)}function cw(e){Gt("Download spreadsheet data","<p><input type='radio' name='download-data' id='download-data-current' value='current' checked> <label for='download-data-current'>Current sheet only</label></p><p><input type='radio' name='download-data' id='download-data-all' value='all'> <label for='download-data-all'> All sheets</label></p>",{is_html:!0,buttons:[{text:"Continue",keyCode:13,class:"primary",callback:function(){be("input[name='download-data'][value='all']").property("checked")?function(){const e=Me("div");e.append("div").attr("id","choose-download-format").selectAll("p").data([{label:"Excel (xlsx)",value:"xlsx"},{label:"JSON",value:"json"}]).enter().append("p").each((function(e,t){be(this).append("input").attr("type","radio").attr("name","download-format").attr("id",`download-format-${e.value}`).attr("value",e.value).attr("checked",!t||null),be(this).append("label").attr("for",`download-format-${e.value}`).text(e.label)})),e.append("div").attr("id","choose-json-format").style("padding-left","2rem").style("display","none").selectAll("p").data([{label:"Arrays of arrays",value:"arrays"},{label:"Arrays of objects",value:"objects"}]).enter().append("p").each((function(e,t){be(this).append("input").attr("type","radio").attr("name","json-format").attr("id",`json-format-${e.value}`).attr("value",e.value).attr("checked",!t||null),be(this).append("label").attr("for",`json-format-${e.value}`).text(e.label)}));const t=()=>document.querySelector('input[name="download-format"]:checked').value,n=Gt("Pick a format",e.node().innerHTML,{is_html:!0,buttons:[{text:"Download",keyCode:13,class:"primary",callback:function(){const e=xM.visualisation.name||"Datasheets";"xlsx"===t()?(UM("selected to download all sheets in XLSX format"),iw(e)):(UM("selected to download all sheets in JSON format"),"arrays"===document.querySelector('input[name="json-format"]:checked').value?ow(e):sw(e))}},{text:"Cancel",keyCode:27,class:"secondary"}]}),a=function(){n.select("#choose-json-format").style("display","json"===t()?null:"none")};a(),n.selectAll("#choose-download-format input").on("change",a)}():uw(e)}},{text:"Cancel",keyCode:27,class:"secondary"}]})}function mw(){var e=xM.visualisation.data_tables,t=be(".sheet-tabs").selectAll(".sheet-tab").data(e,(function(e){return e.id})),n=t.enter().append("div").attr("class","sheet-tab tab btn").attr("id",(function(e){return"sheet-tab-"+e.id})).attr("data-target",(function(e){return e.id})).on("click",(function(){$M(this.getAttribute("data-target"))}));if(n.append("span").attr("class","sheet-name"),xM.visualisation.can_edit){n.append("i").attr("class","fa fa-chevron-down show-sheet-options clickable").on("click",tw);var a=n.append("div").attr("class","sheet-options"),r=a.append("div").attr("class","sheet-option clickable quick-download");r.append("i").attr("class","fa fa-download"),r.append("span").attr("class","option-name").text("Download as CSV");var i=a.append("div").attr("class","sheet-option clickable").on("click",(function(e,t){!function(e){UM("selected “Download as...”");const t=qM(e);1==xM.visualisation.data_tables.length?uw(t):cw(t)}(t.id)}));i.append("i").attr("class","fa fa-download"),i.append("span").attr("class","option-name").text("Download as...");var o=a.append("div").attr("class","sheet-option clickable").on("click",(function(e,t){QM(t)}));o.append("i").attr("class","fa fa-eraser"),o.append("span").attr("class","option-name").text("Clear sheet")}we(".sheet-name").text((function(e){return e.name})),we(".sheet-name").attr("title",(function(e){return e.name})).classed("has-binding-errors",(function(e){var t=be(".data-block[data-sheet='"+e.name+"']");return!!t.size()&&t.selectAll(".empty-required-binding").size()})),t.exit().remove(),KM()}var pw=!1;function _w(){pw=!0,Ct.hide(),DM.clear(),DM.deselectCell()}function hw(){pw||CM||yw()}function fw(e,t){jM.saveData(e,(function(e){if(e)return xM.confirm_data.error(e),console.error(e);xM.confirm_data.saved(),UM("changed data"),xM.template_settings.populate(),xM.visualisation&&xM.preview_pane.updateData((function(e){var n;e&&(t&&t.length?(DM.selectCellByProp(t[0][0],t[0][1]),n=DM.getCell(t[0][0],t[0][1])):(n=document.getElementById("spreadsheet"),console.error(e),e="Unexpected data. You may need to adjust your column selections."),Ct.point(n).text(e).draw())}))}))}function yw(e){var t=tL();xM.confirm_data.saving(),Ct.hide(),xM.visualisation.is_listed?fw(t,e):xM.visualisation.save({is_listed:!0},(function(n){if(n)return xM.confirm_data.error(n.message),xM.analytics("send","exception",{exDescription:n.message||n,exFatal:!1}),console.error(n);fw(t,e)}))}function gw(e){var t=jM.id,n=xM.visualisation.dataBindingsForCurrentTemplate(),a=DM.countCols(),r={},i=!1;for(var o in n){var s=n[o];for(var l in s)if(null!=s[l]&&s[l].data_table_id===t)if("column"in s[l]){var d=s[l].column,u=d>=a?a-1:e(d);u!==d&&(o in r||(r[o]={}),r[o][l]={data_table_id:t,column:u},i=!0)}else if("columns"in s[l]){var c=[],m=!1;s[l].columns.forEach((function(t){if(t<a){var n=e(t);-1!==n&&c.push(n),n!==t&&(m=!0)}})),m&&(o in r||(r[o]={}),r[o][l]={data_table_id:t,columns:c},i=!0)}}i&&xM.data_bindings.modify(r)}function vw(){return xM.template_data_bindings.some((e=>e.hasOwnProperty("data_type")))}function bw(e,t,n){const{action:a="replace_columns",changed_columns:r=[],run_multithreaded:i=!1}=t;if(!vw())return n?n([]):void 0;if(!["replace_columns","add_columns","remove_columns","paste_columns","combine_columns","merge_data"].includes(a))throw new Error(`Unrecognised action: ${a}`);PM.length&&(r.length?FM.undo_column_types_stack.push(PM):FM.undo_column_types_stack.push({}));const o=Js(null!=e?e:tL());let s=[...Array(o.length).keys()];if("replace_columns"===a&&r.length)s=[];else if("merge_data"===a)s=s.filter((e=>!r.includes(e)));else if("add_columns"===a){const e={index:r[0],type_id:"string$arbitrary_string",output_format_id:"auto"};for(let t=r.length-1;t>=0;t--)NM.splice(r[t],0,e)}else if("remove_columns"===a){const e=Math.max(...r),t=PM[e].starting_index;for(let e=r.length-1;e>=0;e--)NM.splice(r[e],1),PM.splice(r[e],1);for(const t of NM)t.index>e&&(t.index-=r.length);PM.forEach((e=>{if(e.starting_index>t){const t=e.starting_index-r.length;e.starting_index=t}}))}else if("paste_columns"===a||"combine_columns"===a)for(let e=r.length-1;e>=0;e--)s.splice(r[e],1);!function(e,t=[],n,a){if(n){lg("/interpreter_worker.js",e.map(((e,n)=>({column:e,i:n,saved_column_type:t.includes(n)?Mw(n,t):null})))).then((e=>{a&&a(e)}))}else{const n=e.map((function(e,n){const a=zs(Ws([e]))[0];let r;if(t.includes(n)){r=nh(a,n,Mw(n,t))}else r=nh(a,n);const i=Ps.getInterpretation(r.type_id),o=a.slice(1).map((e=>{const t="number"==i.type?Bs(e):e;return i.parse(t)}));return{index:n,type:r.type_id.split("$")[0],type_id:r.type_id,output_format_id:r.output_format_id,header:a[0],values:o,starting_index:r.starting_index,column:a}}));PM=n}}(o,s,i,n)}function Mw(e,t){const n={index:e,type_id:"string$arbitrary_string",output_format_id:"auto",starting_index:e},a=NM[e]?NM[e]:n;if(PM.length){const n=PM.findIndex((t=>t.starting_index===e));a.starting_index=t.includes(e)&&-1!==n?n:e}return a}function ww(){return xM.template_data_bindings.filter((e=>!!(e&&"object"==typeof e&&e.dataset&&e.key)&&(!!uh[e.dataset]&&uh[e.dataset][e.key]===jM.id)))}function Lw(e=!1,t){const n=xM.visualisation.dataBindingsForCurrentTemplate(),a=JSON.parse(JSON.stringify(n)),r=ww(),i=r[0].dataset,o=n[i],s=PM.map((({header:e,type_id:t,values:n},a)=>({index:a,header:e,type:t.split("$")[0],data:n})));if(e){const e=new Set;for(const{index:t,type:n}of PM){const a=rh(t,n,o);for(const{key:t}of a)e.add(t)}if(!e.size)return void(t&&t());for(const[t,n]of Object.entries(o))n.keep=!e.has(t)}const l=sg(r,s,o),d={},u=jM.id;for(const e of l){const{key:t,column:n,columns:r}=e;d[t]=null!==n||r&&r.length?{...e,data_table_id:u}:null,void 0===a[i][t]&&(a[i][t]=null)}FM.undo_data_bindings_stack.push(a),xM.data_bindings.modify({[i]:d},!0),t&&t()}function kw(){var e=JSON.parse(JSON.stringify(xM.visualisation.dataBindingsForCurrentTemplate())),t=DM.colOffset(),n=[];for(var a in e)for(var r in e[a]){if(!dh[a])break;var i=dh[a][r],o=e[a][r];o&&(o.color=lh[i].light,o.border_color=lh[i].full,o.columns?o.columns=o.columns.map((function(e){return e-t})):o.columns=[o.column-t],n.push(o))}var s="";be("#highlightStyle").empty()?be("body").append("style").attr("id","highlightStyle"):be("#highlightStyle").html(""),n.forEach((function(e){var t=null;e.columns.forEach((function(a,r){if(a>=0){if(s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore thead th:nth-child("+(a+2)+") { background-color:"+e.color+"; border-color: "+e.border_color+" ;}\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore thead th:nth-child("+(a+2)+") .type-symbol { background-color: "+e.border_color+";}\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore tbody tr td:nth-child("+(a+2)+") { background-color:"+e.color+"; border-color: "+e.border_color+" ;}\n\n",r===e.columns.length-1||e.columns[r+1]-a>1)0===n.filter((function(t){if(t.data_table_id===e.data_table_id)return t.columns.filter((function(e){return e==a+1})).length>0})).length&&(s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore thead th:nth-child("+(a+2)+") { border-right-color: "+e.border_color+"; }\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore tbody tr td:nth-child("+(a+2)+") { border-right-color: "+e.border_color+"; }\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_master .htCore tbody tr td:nth-child("+(a+2)+") { border-right-color: "+e.border_color+"; }\n\n");(0===r||a-t>1)&&(s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore thead th:nth-child("+(a+1)+") { border-right-color: "+e.border_color+" !important; }\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore tbody tr td:nth-child("+(a+1)+") { border-right-color: "+e.border_color+" !important; }\n\n",s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_master .htCore tbody tr td:nth-child("+(a+1)+") { border-right-color: "+e.border_color+"; }\n\n",0===a&&(s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_master .htCore tbody tr td:nth-child("+(a+2)+") { border-left-color: "+e.border_color+"; }\n\n")),s+="#spreadsheet[data-sheet='"+e.data_table_id+"'] .ht_clone_top .htCore thead th:nth-child("+(a+2)+") { border-top:1px solid "+e.border_color+";}\n\n",t=a}}))})),be("#highlightStyle").html(s)}function Yw(){we("#spreadsheet .ht_master .htCore thead, #spreadsheet .ht_clone_top .htCore thead").on("click",(function(e){var t=be(e.target);if(t.classed("type-symbol")&&t.classed("clickable")){var n=+e.target.id.substr("type-symbol-".length);ah(PM[n],DM.getDataAtCol(n),xM.visualisation.dataBindingsForCurrentTemplate()[ww()[0].dataset],(function(){XM(),Dw(),xM.preview_pane.updateData((e=>{if(e)return console.error("Failed to update preview pane: "+e)})),xM.template_settings.populate()}))}})),xM.visualisation.can_edit&&xM.user.can_use_live_csv&&function(){var e=be("#spreadsheet").insert("div").classed("live-csv-overlay",!0).append("div").classed("live-csv-overlay-centered",!0);e.append("div").classed("live-csv-overlay-current-url",!0).text("Data imported from ").append("a").attr("id","live-csv-url-link").attr("target","_blank"),e.append("div").classed("live-csv-overlay-explanation",!0).text("(Publish this project to set an auto-update interval.)"),e.append("div").classed("live-csv-overlay-last-updated",!0).text("Last updated:");var t=e.append("div").classed("live-csv-overlay-buttons",!0);t.append("a").classed("btn",!0).attr("title","Fetch the latest version of the data from the CSV URL").text("Update now").on("click",(function(){var e,t,n,a;VM(!0),t=function(e){VM(!1)},n=G_(e=xM),(a=n.live_csv_url)&&n.updateFromUrl(a,K_(e,a,t))})),t.append("a").classed("btn",!0).text("Unlink and keep current data").on("click",(function(){var e;G_(e=xM).updateFromUrl(null,(function(t){t?Gt("Unlinking from live CSV URL failed","Couldn't remove the live CSV URL link: "+t):e.spreadsheet.updateLiveCSVOverlay()})),Sd()})),e.append("div").classed("live-csv-loading",!0).text("Loading...")}()}function Dw(){var e=rL(DM.getSettings().readOnly);DM.updateSettings({colHeaders:function(t){var n;if(-1!==(n=vw()?PM.findIndex((e=>e.starting_index===t)):t))return e(n)}})}function xw(e,t){if("populateFromArray"!==t){if(OM||["loadData","UndoRedo.undo","UndoRedo.redo"].includes(t)||(FM.undo_column_types_stack.push({}),FM.undo_data_bindings_stack.push({}),FM.redo_column_types_stack=[],FM.redo_data_bindings_stack=[],HM+=1,EM=0),"customPaste"===t&&OM){const e=DM.undoRedo.doneActions.length-HM-1;DM.undoRedo.doneActions.splice(HM,e),HM+=1}if(Dw(),!pw)return"loadData"==t?(FM.undo_column_types_stack=[],void(FM.redo_column_types_stack=[])):void(jM&&(e&&e.every((function(e){return e[2]===e[3]}))||(e&&"UndoRedo.undo"!==t&&function(e){e.forEach((function(e){if(e[3].match(/^:[a-zA-Z][a-zA-Z]:$/)){var t=e[3].replace(/:/g,"").toLowerCase();if(YM.has(t)){const n="https://public.flourish.studio/country-flags/svg/"+t+".svg";e[3]=n,DM.setDataAtCell(e[0],e[1],n)}}}))}(e),yw(e))));pw=!1}}function Tw(e,t){gw((function(n){return n>=e?n+t:n}));bw(null,{action:"add_columns",changed_columns:[e]}),XM(),yw()}function Sw(e,t){for(var n=jM.id,a=!1,r=e;r<e+t;r++)ZM(n,r)&&(a=!0);return a?(Gt("Column in use","This column is being used by the visualisation"),!1):(gw((function(n){return n<e?n:n<e+t?-1:n-t})),!0)}function Hw(e,t,n){bw(null,{action:"remove_columns",changed_columns:n.map((e=>PM.findIndex((t=>t.starting_index===e))))}),XM(),Dw(),yw(e)}function Ew(e){CM=!0,function(e){for(const t of e)for(let e=0;e<t.length;e++)t[e]=t[e].replace(/(\r\n|\n|\r) {2}/g," ")}(Ws(zs(e)));const t=DM.getSelected()[0],n=Math.min(t[0],t[2]),a=Math.min(t[1],t[3]),r=Ws(DM.getDataAtCol(a)).length,i=r<=1||n<=1&&e.length+1>=r-n,o=e.length,s=e.length?e[0].length:0,l=`${o} row${1===o?"":"s"} and ${s} column${1===s?"":"s"}`;if(0===s)return!1;const d=[];if(e.forEach(((e,t)=>{e.forEach(((e,r)=>{d.push([n+t,a+r,"",e])}))})),!i||!vw())return DM.populateFromArray(n,a,e),xw(d,"customPaste"),CM=!1,UM("pasted data",l),!1;function u(t,r,{cancel_import_dialog:i,retain_existing_types:o=!1,retain_existing_bindings:s=!0}={}){DM.populateFromArray(n,a,e);const d={action:"paste_columns",changed_columns:o?[]:t,run_multithreaded:!0};bw(tL(),d,(e=>{RM?RM=!1:(i&&(i.select(".btns").remove(),i.select(".dialog-inner .text.loading h1").text("Updating spreadsheet...")),o||(PM=e,XM(),Dw()),Lw(s,(()=>{xw(r,"customPaste"),OM=!1,i&&i.remove()})),CM=!1,UM("pasted data",l))}))}OM=!0;const c=Array.from({length:s},((e,t)=>t+a));return 1===s?(u(c,d,{retain_existing_types:!1,retain_existing_bindings:!0}),!1):(DM.deselectCell(),V_("replace",{import_method:"paste",rows:o,columns:s},(e=>u(c,d,e))),!1)}function jw(e,t){1===e.length&&"edit"===t&&UM("edited data in a single cell")}function Aw(e,t){const n=Math.abs(t.row-e.row)+1,a=Math.abs(t.col-e.col)+1,r=n*a;UM(`autofilled ${r} cell${1===r?"":"s"}`,1===a?"in one column":`across ${a} columns`)}function Cw(){if(!FM.undo_column_types_stack.length)return!0;const e=FM.undo_column_types_stack.pop();Object.keys(e).length?(FM.redo_column_types_stack.push(PM),PM=e,XM()):FM.redo_column_types_stack.push({})}function Ow(){HM-=1,EM+=1;const e=FM.undo_data_bindings_stack.pop(),t=JSON.parse(JSON.stringify(xM.visualisation.dataBindingsForCurrentTemplate()));for(var n in e)for(var a in e[n])null==t[n][a]&&(t[n][a]=null);e&&Object.keys(e).length?(FM.redo_data_bindings_stack.push(t),xM.data_bindings.modify(e,!0)):FM.redo_data_bindings_stack.push({})}function Fw(){if(!FM.redo_column_types_stack.length)return!0;const e=FM.redo_column_types_stack.pop();Object.keys(e).length?(FM.undo_column_types_stack.push(PM),PM=e,XM()):FM.undo_column_types_stack.push({})}function Pw(){HM+=1,EM-=1;const e=FM.redo_data_bindings_stack.pop(),t=JSON.parse(JSON.stringify(xM.visualisation.dataBindingsForCurrentTemplate()));for(var n in e)for(var a in e[n])null==t[n][a]&&(t[n][a]=null);e&&Object.keys(e).length?(FM.undo_data_bindings_stack.push(t),xM.data_bindings.modify(e,!0)):FM.undo_data_bindings_stack.push({})}function Nw(e,t){var n=e[0],a=e.length,r=t-n;t>n&&(r-=a),gw((function(e){return e>=n&&e<n+a?e+r:n>t&&e<n&&e>=t?e+a:n<t&&e>n&&e<t?e-a:e})),function(e,t){var n=e[0],a=("right"==(t-n>0?"right":"left")?t-1:t)-n,r=e.length;if(Math.abs(a)<r)return;var i=function(e,t,n,a=1){const r=Array.from(Array(Math.max(e,t+1)).keys()),i=Math.max(t+n,0),o=r.splice(t,a);return r.splice(i,0,...o),r}(PM.length,n,a,r);vw()&&(PM=i.map((function(e,t){var n=PM[e];return n.index=t,n})));XM()}(e,t),XM(),Dw(),yw()}function Rw(e){be(".dialog").node()?(e.preventDefault(),DM.deselectCell(),$t(e)):"f"==e.key&&e.metaKey&&(e.preventDefault(),DM.deselectCell(),be(".search-menu input").node().focus())}function Ww(){--TM<0&&(TM=AM.length-1),DM.selectCell(AM[TM].row,AM[TM].col)}function zw(){++TM>=AM.length&&(TM=0),DM.selectCell(AM[TM].row,AM[TM].col)}function Uw(){var e,t,n=-1;(AM=DM.getPlugin("search").query(this.value)).length&&(t=AM[0].row,n=AM[0].col),this.value?(e=AM.length+" match",1!==AM.length&&(e+="es")):e="",DM.render(),-1!==n&&(DM.scrollViewportTo(t,n),TM=-1),we(".search-menu .fa-chevron-left,.search-menu .fa-chevron-right").classed("inactive",0===AM.length),be(".search-count").text(e)}function Iw(){var e=be(".row-adder input[name=count]").property("value");e||(e=1),DM.alter("insert_row",null,e)}function qw(e,t){var n=tL();if(n.length){var a=t?1:-1,r=n.shift();n.sort((function(t,n){var r=t[e],i=n[e];return r&&!isNaN(r)?r=parseFloat(r):"string"==typeof r&&(r=r.toUpperCase()),i&&!isNaN(i)?i=parseFloat(i):"string"==typeof i&&(i=i.toUpperCase()),"string"==typeof r&&"string"==typeof i?a*r.localeCompare(i):r===i?0:a*(""===r?1:""===i||r<i?-1:1)})),n.unshift(r),GM(n),xw(),UM("sorted data")}}var Bw,Jw,Vw,$w=!0,Gw=!1;function Kw(){var e=IM();return!e||e[1]!==e[3]}function Zw(e,t={},n){const{retain_existing_types:a,cancel_import_dialog:r,new_column_indexes:i}=t;let o,s;null!=i?(s="merge_data",o=i):(s="replace_columns",o=a?[]:nL());bw(e,{action:s,changed_columns:o,run_multithreaded:!0},(function(t){if(RM)return void(RM=!1);let a=[];vw()?(PM=t,a=Js(t.map((e=>e.column)))):a=zs(Ws(e)),r&&(r.select(".btns").remove(),r.select(".dialog-inner .text.loading h1").text("Updating spreadsheet...")),XM(),setTimeout((()=>{GM(a),xw(),JM(),n&&n()}),0)}))}function Xw(){return DM.countRows()===DM.countEmptyRows()}function Qw(e){return{name:jM.name,sample_data:DM.getData().slice(0,e)}}function eL(e,t,n,a){var r=0,i=function(e){if(!e.length)return e;for(var t=e[0].length-1;t>=0;t--){for(var n=!0,a=0;a<e.length;a++)if(e[a][t]){n=!1;break}if(!n)break;e.forEach((function(e){e.splice(t,1)}))}return e}(tL()),o=i.length,s=e.shift();s.splice(n,1),i[0]=i[0].concat(s);for(var l=1;l<o;l++){var d=i[l],u=d[t];if(u){u=u.toLowerCase();for(var c=0;c<e.length;c++){var m=e[c];if(m[n].toLowerCase()==u){var p=m.filter((function(e,t){return t!==n}));i[l]=d.concat(p),r++;break}}}}if(r){r++;bw(i,{action:"replace_columns",changed_columns:nL()}),XM(),GM(i),xw()}a&&a({merge:r,discard:o-r})}function tL(){for(var e=DM.getData(),t=0;t<e.length;t++)e[t]=e[t].map((function(e){return null==e?"":e}));return Ws(e)}function nL(){const e=tL();return e.length?e[0].map(((e,t)=>t)):[]}function aL(e,t,n,a,r,i,s){if(i&&"string"==typeof i&&"{"==i.charAt(0))try{var l=JSON.parse(i);if(l&&l.type){if(o.default.dom.empty(t),LM(l)){var d=10,u=Math.max(Math.min(e.view.wt.wtTable.getStretchedColumnWidth(a)-d,40),1),c=e.getRowHeight()-2,m=kM(t.parentNode?l:null,u,c);t.appendChild(m)}else t.appendChild(document.createTextNode(l.type));return s.editor=!!xM.visualisation.can_edit&&"json",t}}catch(e){console.warn(e)}return s.editor="text",o.default.renderers.TextRenderer.apply(this,arguments)}function rL(e){return function(t){var n=b_(t),a="";if(vw()&&PM.length){n+=" ";var r=PM[t].type;a=be(document.createElement("span")).attr("id","type-symbol-"+t).attr("class","type-symbol"+(e?"":" clickable")).attr("title",Q_[r].text+" column."+(e?"":" Click to change.")).style("background-image","url("+Q_[r].symbol+")").node().outerHTML}return a+n+(xM.visualisation.can_edit&&!e?"<span class='fa fa-caret-down clickable'></span>":"")}}function iL(){var e,t;e=be(".ht_master .wtHolder").node().getBoundingClientRect().width,t=be(".ht_master .wtHider .htCore").node().getBoundingClientRect().width,be("#spreadsheet-main").classed("overflowing",t>e)}function oL(e){return"SPAN"===e.tagName&&e.classList.contains("fa")}function sL(e,t){if(t.row>=0||!oL(e.target))return;const n=IM();if(!n)return;const a=Math.min(n[1],n[3]),r=Math.max(n[1],n[3]);t.col>=a&&t.col<=r&&(DM.getPlugin("ContextMenu").close(),DM.getPlugin("ContextMenu").open(e),e.stopImmediatePropagation())}function lL(e,t){t.row>=0||!oL(e.target)||(DM.getPlugin("ContextMenu").close(),DM.getPlugin("ContextMenu").open(e),e.stopImmediatePropagation())}function dL(e){xM=e;var t,n,a=document.getElementById("spreadsheet");if(!a)return{update:function(){}};function r(){var e=xM.visualisation;xM.visualisation.dataTables((function(t,n){if(t)return xM.analytics("send","exception",{exDescription:t.message||t,exFatal:!1}),console.error("Failed to get data tables: "+t);var a;n&&0!=n.length?(!function(e){var t=xM.template_data_bindings;if(t&&t.length&&e&&e.length){var n=[];t.forEach((function(e){if("string"!=typeof e){var t=e.column||e.columns;if(t){var a=t.match(/^(?:[^:]|:[^:])*/);a&&-1==n.indexOf(a[0])&&n.push(a[0])}}})),e.sort((function(e,t){var a=n.indexOf(e.name),r=n.indexOf(t.name);return(-1==a?1/0:a)<(-1==r?1/0:r)?-1:1}))}}(n),mw(),a=0,$M(xM.visualisation.data_tables[a].id)):_w(),function(e){be("#visualisation-tabs button[value=data]").property("disabled",!e.data_tables||0==e.data_tables.length)}(e)}))}return a.addEventListener("mousedown",(function(){"activeElement"in document&&document.activeElement.blur()})),o.default.renderers.registerRenderer("flourish.text",aL),xM.visualisation.can_edit&&((n=o.default.editors.BaseEditor.prototype.extend()).prototype.getValue=function(){return t},n.prototype.setValue=function(e){t=e},n.prototype.open=function(){if(xM.visualisation.can_edit){var e=this.instance.getActiveEditor(),n=be(document.createElement("div"));n.append("textarea").attr("class","code"),n.append("div").attr("id","canvas-container");var a=Gt("Data value",n.node().innerHTML,{is_html:!0,buttons:[{text:"Save changes",class:"primary",callback:function(){var n=a.select("textarea").node().value;try{JSON.parse(n),n!==t&&DM.setDataAtCell(e.row,e.col,n,"json editor")}catch(e){console.error("Discarded badly formed JSON value")}}},{text:"Cancel",keyCode:27,class:"secondary"}]}),r=a.select("textarea").style("resize","vertical"),i=a.select("#canvas-container");r.node().value=t,r.on("blur",(function(){i.text("");var e=r.node().getBoundingClientRect().width,t=e*(2/3);try{var n=JSON.parse(r.node().value);if(LM(n)){var o=kM(n,e,t,!0);a.select("#canvas-container").node().appendChild(o)}}catch(e){console.warn(e)}})),r.dispatch("blur")}},n.prototype.close=function(){},n.prototype.focus=function(){},o.default.editors.registerEditor("json",n)),DM=new o.default(a,{renderer:"flourish.text",rowHeaders:!0,manualRowResize:!0,manualColumnResize:!0,manualColumnMove:!1,rowHeights:33,stretchH:"all",fixedRowsTop:1,minRows:10,search:!0,selectionMode:"range",undo:xM.visualisation.can_edit,copyPaste:{columnsLimit:1/0,rowsLimit:1/0},afterInit:Yw,contextMenu:zM}),xM.visualisation.can_edit?(DM.addHook("afterChange",xw),DM.addHook("afterCreateCol",Tw),DM.addHook("beforeRemoveCol",Sw),DM.addHook("afterRemoveCol",Hw),DM.addHook("afterCreateRow",hw),DM.addHook("afterRemoveRow",hw),DM.addHook("afterRender",(function(e){e||kw()})),DM.addHook("beforePaste",Ew),DM.addHook("afterSetDataAtCell",jw),DM.addHook("beforeAutofill",Aw),DM.addHook("beforeUndo",Cw),DM.addHook("afterUndo",Ow),DM.addHook("beforeRedo",Fw),DM.addHook("afterRedo",Pw),DM.addHook("afterColumnMove",Nw),DM.addHook("beforeOnCellMouseDown",sL),DM.addHook("afterOnCellMouseDown",lL),DM.addHook("afterRender",iL),DM.addHook("beforeKeyDown",Rw),be(".search-menu input").on("input",function(e,t){var n=void 0;return function(){var a=this,r=arguments;return clearTimeout(n),n=setTimeout((function(){return e.apply(a,r)}),t)}}(Uw,300)),be(".search-menu i.fa-chevron-left").on("click",Ww),be(".search-menu i.fa-chevron-right").on("click",zw),be(".row-adder .btn.add-rows").on("click",Iw),be(".row-adder input").on("keydown",(function(e){13==e.keyCode&&Iw()})),be(".transpose").on("click",ew),FM={isUndoAvailable:()=>HM>0,isRedoAvailable:()=>EM>0,undo:DM.undoRedo.instance.undo,redo:DM.undoRedo.instance.redo,undo_column_types_stack:[],undo_data_bindings_stack:[],redo_column_types_stack:[],redo_data_bindings_stack:[]},document.body.addEventListener("click",KM),SM=bu()):BM(!0),r(),{update:r,updateColumnHeaders:Dw,updateHighlights:kw,updateTabs:mw,replaceCurrentTable:Zw,inferDataBindings:Lw,updateLiveCSVOverlay:JM,setLiveCSVUpdating:VM,currentTableIsEmpty:Xw,currentSheetSummary:Qw,mergeData:eL,undoManager:FM,setNewColumnTypes:function(e){NM=e;bw(null,{action:"replace_columns",changed_columns:[]})},getTypeAnnotatedColumns:function(){return PM},cancelImport:function(){RM=!0}}}function uL(e){Gt("Failed to fetch settings: please reload the page","Error: "+e,{buttons:[{text:"Reload",keyCode:13,callback:function(){window.location.reload()}}]})}function cL(e){e?Bw.confirm.error(e):(Bw.confirm.saved(),Bw.visualisation.refreshSettings((function(e){if(e)uL(e);else{var t=Bw.preview_pane.getDefaultState();Qs(t,Xs(Bw.visualisation.settingsForCurrentTemplate())),Bw.preview_pane.sync({state:t,update:!0,overwrite_state:!0},(function(e){e?uL(e):Bw.visualisation.getThemeFontsAndColors((function(e,t,n){e?uL(e):(Ah.replaceThemeFonts(t),_f.replaceThemeColors(n),Bw.template_settings.populate())}))}))}})))}function mL(e){if(!(Bw=e).themes.length)return{enableOrDisable:function(){}};var t=["No theme",""],n=t,a=[t],r=!1;Bw.themes.forEach((function(e){var t=[e.name+(e.company?" ("+e.company+")":""),e.id.toString()];a.push(t),e.selected&&(n=t,r=!0)}));var i=be("#template-theme");function o(){var e=!Bw.visualisation.can_edit||Bw.data_bindings.requiredBindingsAreUnset();i.attr("disabled",!!e||null),be("#reset-to-theme").attr("disabled",!!e||null)}return i.attr("value",n[0]).attr("data-value",n[1]),X_(i.node(),"theme-dropdown",a,{match_anywhere:!0}),i.on("change",(function(){var e;e=this.getAttribute("data-value")||null,be("#reset-to-theme").property("disabled",!e),Bw.confirm.saving(),Bw.visualisation.save({theme_id:e},cL)})),be("#reset-to-theme").on("click",(function(){Bw.confirm.saving(),Bw.visualisation.resetToTheme(cL)})),r||be("#reset-to-theme").property("disabled",!0),o(),{enableOrDisable:o}}function pL(){if(window.innerWidth<620)_L();else{var e,t=Vw.offsetWidth-2,n=Vw.offsetHeight-2,a=n/Jw.offsetHeight,r=t/Jw.offsetWidth,i=1,o=1;Jw.offsetWidth*a>t?(e=r,o=(n-Jw.offsetHeight*e)/2):(e=a,i=(t-Jw.offsetWidth*e)/2);var s=Jw.parentNode.getBoundingClientRect(),l=Vw.getBoundingClientRect(),d=l.left-s.left+i,u=l.top-s.top+o;Jw.style.transform="translateX("+d+"px) translateY("+u+"px) scale("+e+")"}}function _L(){document.getElementById("preview").style.transform="",document.getElementById("preview").style.maxHeight=""}var hL={show:function(){Jw=document.getElementById("preview"),Vw=document.querySelector(".side-panel-preview"),pL(),window.addEventListener("resize",pL)},hide:function(){window.removeEventListener("resize",pL),_L()}};const fL=[{delay:500,text:"The preview area shows how the visualisation will appear with the current settings and data.",anchor:".preview-holder",position:"top",direction:"bottom"},{text:"You can adjust the settings in this side panel to control how your visualisation looks and behaves.",anchor:"#visualisation .side-panel",position:"left",direction:"right"}],yL=[{text:"Let's take a look at the data section. Click on the “Data” tab here.",anchor:"button[name='show-pane'][value=data]",trigger:'click button[name="show-pane"][value=data]'},{text:"You can directly edit the data in the spreadsheet below.",anchor:"#spreadsheet-container",position:"top",direction:"bottom"},{text:"Or click here to upload your own data. You can upload Excel, comma delimited files, or JSON.",anchor:".add-data-container",position:"bottom"},{text:"Once you’ve uploaded data, you may need to adjust the column selection here to ensure the visualisation displays the correct data.",anchor:".data-bindings",position:"left",direction:"right"}],gL=[{text:"This icon indicates the type of data in a column. Click on it to change it to any of the supported types: Text, Number, or Date/Time.",anchor:"#type-symbol-1",position:"bottom",direction:"bottom"}],vL=[{text:"Now let’s edit the visualisation name. Click here and type.",anchor:"#visualisation-name input",button_text:"Last step"},{text:"Finally, click here to view options for publishing your visualisation so that others can see it.",anchor:".export-container",button_text:"Done"}];function bL(e,t,n,a,r,i,o,s,l,d,u,c,m,p,_,h,f,y){var g;this.visualisation=e,this.settings=t,this.template_data_bindings=n,this.public_bucket_url_prefix=a,this.embed_url=r,this.sdk_version=i,this.user=o,this.approval_policy=_&&_.approval_policy,this.company=_,this.joinable_data=s,this.themes=m,this.tags=p,this.is_read_only=f,this.minimal_view=y,this.data_bindings=(ih=this,oh=be(".data-bindings"),{update:function(e){e&&(ih.template_data_bindings=e),mh(ih.visualisation,ih.template_data_bindings)},modify:function(e,t=!1){_h(e,(function(){mh(ih.visualisation,ih.template_data_bindings),t&&ih.preview_pane.updateData((e=>{if(e)return console.error("Failed to update preview pane: "+e)}))}))},requiredBindingsAreUnset:yh,updateRequiredBindingsOverlay:gh}),this.template_settings=Wf(this,l,d),this.theme_chooser=mL(this),Ju(this,"visualisation",e),this.preview_pane=Qf(this),this.responsive_menu=cc(this),e.template_id&&this.preview_pane.loadTemplate(),g=function(e){"data"==e?hL.show():hL.hide()},be(".visualisation-editor").classed("tab-preview",!0),we("#visualisation-tabs button").on("click",(function(){var e=this.value;Ct.hide(),this.classList.contains("active")||(we("button[value=preview],.tab-preview").classed("active","preview"==e),we("button[value=data],.tab-data").classed("active","data"==e),be("iframe#preview").classed("mini-preview","data"==e),be(".visualisation-editor").classed("tab-data","data"==e),be(".visualisation-editor").classed("tab-preview","preview"==e),g&&g(e))})),Hd(this),this.spreadsheet=dL(this),e.can_edit&&(function(e){D_=e;var t=be(".row.data");t.on("dragenter",(function(e){T_(e),be(this).classed("active",!0)})).on("dragexit",(function(e){T_(e),t.classed("active",!1)})).on("dragend",(function(e){T_(e),t.classed("active",!1)})).on("drop",(function(e){T_(e),t.classed("active",!1),Ln.logHistory({category:"visualisation",action:"dragged in a file",visualisation_id:D_.visualisation.id}),O_(e.dataTransfer.files)})),window.addEventListener("dragover",(function(e){e.preventDefault()}),!1),window.addEventListener("drop",(function(e){e.preventDefault()}),!1)}(this),function(e,t){var n=we(e);n.select(".btn.arrow").on("click",(function(){var e=be(this),t=be(this.parentNode).select(".options"),n="none"===t.style("display");function a(n){e.node().contains(n.target)||(t.style("display","none"),r())}function r(){document.removeEventListener("click",a)}t.style("display",n?"block":"none"),n?document.addEventListener("click",a):r()})),n.selectAll(".options .option").on("click",(function(){var e=be(this),t=be(this.parentNode.parentNode),n=e.select(".option-title"),a=t.select(".action"),r=n.attr("data-action"),i=n.html();a.html(i),a.attr("data-action",r),t.selectAll(".option").classed("selected",!1),e.classed("selected",!0)})),n.select(".action").on("click",(function(){t(this.parentNode,be(this).attr("data-action"))}))}(".import-data",function(e){return function(t,n){if("add-data"===n)$_("replace",e);else if("add-live-csv"===n)e.spreadsheet.setLiveCSVUpdating(!0),function(e,t){var n=G_(e),a=Gt("Enter the URL to import",'<p>This should be the URL to a CSV file</p><p><input type="url" '+(n.live_csv_url?'value="'+n.live_csv_url+'" ':"")+'name="live-csv-url"></p>',{is_html:!0,buttons:[{text:"Import",keyCode:13,class:"available",callback:function(){var r=a.select("input").node().value;n.updateFromUrl(r,K_(e,r,t))}},{text:"Cancel",keyCode:27,class:"secondary",callback:function(){t(new Error("Import from URL cancelled"))}}]})}(e,(function(t){e.spreadsheet.setLiveCSVUpdating(!1),Sd()}));else{if("add-and-merge-data"!==n)throw new Error("Unknown action from the import dropdown button: “"+n+"”");$_("join",e)}}}(this))),this.confirm_published=Cd(this),this.publishing=Mc(this,"visualisation",e,_&&_.reviewers,h),this.confirm=Fd(document.querySelector(".editor-bar .confirm-saved")).on("change",ML(this)),this.confirm_data=Fd(document.querySelector(".row.data .confirm-saved"),this.spreadsheet.undoManager).on("change",ML(this)),Nd(this,"visualisation",e),e.__sdk__?this.analytics=function(){}:e.can_edit?(this.analytics=ke("/visualisation/edit",o),this.analytics("send","event","visualisation","edit",e.id)):(this.analytics=ke("/visualisation/view",o),this.analytics("send","event","visualisation","view",e.id)),kn({user:o,analytics:this.analytics}),Flourish.tour||ml(function(e){const t=e;let n=[];t.visualisation.data_tables.length?(n.push(...fL,...yL),t.template_data_bindings.some((e=>e.hasOwnProperty("data_type")))&&n.push(...gL)):n.push(...fL);t.minimal_view||n.push(...vL);return n}(this)),o&&o.tour_intro_status<3&&Ln.update({tour_intro_status:3},(function(){Flourish.tour.start()}))}function ML(e){var t=e;return function(e,n){if("disable_publishing"!==t.approval_policy)if(t.data_bindings.requiredBindingsAreUnset())t.confirm_published.impossible();else{var a=!t.data_bindings.requiredBindingsAreUnset();n&&"mark_for_republishing"in n&&(a=n.mark_for_republishing),"saved"==e&&t.visualisation.embed_url&&a&&t.confirm_published.edited()}}}var wL,LL,kL,YL,DL,xL={featured:["Featured templates will appear here",""],premium:["Premium templates are coming soon!","When released, premium templates will appear here."],favourite:["Templates you’ve favourited will appear here","Find new templates to favourite at the <a href='https://app.flourish.studio/@flourish'>Flourish team page</a>"],mine:["Templates you’ve created will appear here","Developer? Learn <a target='_blank' href='https://flourish.studio/developers/'>how to build</a> your own templates. Not a developer? <a href='mailto:hello@flourish.studio'>Get in touch</a> to commission bespoke templates"],company:["Templates private to your company will appear here","Learn more about <a target='_blank' href='https://flourish.studio/business/'>Flourish for companies</a>"]},TL=[{text:"Click the globe to get started",anchor:".template[data-external-id='connections-globe'] .blueprints form:first-child"}];function SL(e){we(".filter").classed("selected",(function(){return this.getAttribute("data-filter")==e})),LL=e,we(".template").classed("visible",(function(){return this.classList.contains("template-tag-"+LL)})),function(){var e="all"!=LL&&0==we(".template-tag-"+LL).size(),t=be(".no-template-message");t.style("display",e?"block":"none").transition().duration(500).style("opacity",e?1:0),e&&xL[LL]?(t.select("h1").html(xL[LL][0]),t.select("h2").html(xL[LL][1]),be(".template-chooser").classed("empty",!0)):be(".template-chooser").classed("empty",!1),EL()}()}function HL(e){if(YL&&!YL.can_make_new_projects)Yn({analytics:wL},"Upgrade to create projects","You've reached the maximum number of projects allowed with your account.","upgrade-projects",!0);else{var t=e.classList.contains("is-template")?"template":"visualisation",n=e.getAttribute("data-id");if(e.classList.contains("premium-template-upgrade-required"))return;wL("send","event","visualisation","select_template",t+"/"+n),YL&&YL.tour_intro_status<2?Ln.update({tour_intro_status:2},(function(){e.submit()})):e.submit()}}function EL(){kL.order();var e,t=we(".template").filter((function(){return this.className.indexOf("visible")>0})),n=!0;t.each((function(a,r){var i=be(this).selectAll(".blueprint").size(),o=i>3&&i<=6,s=this;if(o&&e){if(!n)return void(n=!0);var l=[];t.each((function(e,t){var n=be(this).selectAll(".blueprint").size();t>r&&n<4&&l.length<2&&l.push(this)})),l.forEach((function(e){s.parentNode.insertBefore(e,s)})),n=!1}e=o})),t.each((function(){var e=be(this).selectAll(".blueprint").size();e>6?be(this).classed("template-column-3",!0):e>3?be(this).classed("template-column-2",!0):be(this).classed("template-column-1",!0)}))}var jL="<p><label><span>Role </span><select size=1 name=role><option value data-desc='If you have an approval policy in place, these members will need to request approval for publication'>Default<option value='approver' data-desc='If you have an approval policy in place, Approvers can confirm publication requests'>Approver<option value='admin' data-desc='Admins can add further members to your team, manage account settings, and approve publication'>Admin</select></label></p><div></div>";function AL(e,t){for(var n=e.select("select").node(),a=0;a<n.options.length;a++)n.options[a].value==t&&(n.parentNode.parentNode.nextSibling.innerHTML=n.options[a].getAttribute("data-desc"),n.selectedIndex=a)}function CL(){var e=this.options[this.selectedIndex];this.parentNode.parentNode.nextSibling.innerHTML=e.getAttribute("data-desc")}function OL(){we(".settings-message").html(""),we(".error.message").html("")}function FL(e,t){const n=e.querySelector(".saml-provider-id code"),a=e.querySelector(".saml-provider-id-remove-button");t?(n.textContent=t,n.classList.remove("unset"),a.classList.remove("hidden")):(n.textContent="[not set]",n.classList.add("unset"),a.classList.add("hidden")),e.querySelector('input[name="saml_provider_id"]').value=t}function PL(e,t){if(!["active","suspended"].includes(t))return;const n=be(`#${t}-members-list`),a=n.selectChildren().nodes().map((e=>e.getAttribute("data-name"))),r=e.getAttribute("data-name");a.push(r),a.sort(((e,t)=>e.toLowerCase()<t.toLowerCase()?-1:1));const i=be(`#${t}-members-list [data-name='${a[a.indexOf(r)+1]}']`).node(),o=be(e.parentNode.parentNode.cloneNode(!0)).node();n.node().insertBefore(o,i);const s=be(`#${t}-members-list [data-id='${o.getAttribute("data-id")}'] .edit-buttons`).node();s.innerHTML="suspended"===t?"\n<i class='btn unsuspend popup' data-popup-head='Click to unsuspend this user's account'>Unsuspend</i>\n":function(e){return("true"===e.getAttribute("data-has-mfa")?"<i class='btn control-btn popup fa fa-refresh reset-mfa' data-popup-head='Reset MFA'></i>":"")+"<i class='btn control-btn popup fa fa-pencil edit' data-popup-head='Change user role'></i><i class='btn control-btn popup fa fa-trash remove' data-popup-head='Suspend this user's account'></i>"}(s),e.parentNode.parentNode.parentNode.removeChild(e.parentNode.parentNode),qt(we(`#${t}-members-list [data-name='${a[a.indexOf(r)]}'] .edit-buttons .btn.popup`));const l=be(".company-seats-count");if(!l.empty()){let e=parseInt(l.attr("data-current-active-count"));const n=parseInt(l.attr("data-max-active-count"));"active"===t?e++:"suspended"===t&&e--,l.text(`${e} out of ${n} seats used`),l.attr("data-current-active-count",e),be(".btn.invite").classed("hidden",e>=n),be("#max-team-size-warning").classed("hidden",!(e>=n))}NL(),Gt(`${r} has been ${"suspended"===t?t:"unsuspended"}`,"",{buttons:[{text:"Continue",keyCode:13}]})}function NL(){we(".option .saml-provider-id-edit-button").on("click",(function(){we(".option").classed("being-edited",!1),be(this.parentNode.parentNode).classed("being-edited",!0)}))}var RL;return e.Slide=qr,e.Story=Jr,e.User=Ln,e.Visualisation=al,e.initAcceptInvite=function(){zt()},e.initAccountSettings=function(e){var t=e.user,n=e.select_form_field;if(window.Flourish=window.Flourish||{},window.Flourish.csrf_token=e.csrf_token,xe(t),zt(),n){var a=document.getElementById(n);a&&(a.focus(),a.select())}function r(){var e=this.parentNode.getAttribute("data-id");Gt("Are you sure you want to delete this API key?","This cannot be undone and will break any live projects using this key",{buttons:[{text:"Cancel",keyCode:27},{text:"Delete",keyCode:13,class:"danger",callback:function(){Flourish.User.deleteApiKey(e,i)}}]})}function i(){Flourish.User.getApiKeys((function(e,t){we(".api-key").remove(),be(".no-keys").style("display",t.length>0?"none":"block"),be("#api-key-table").style("display",t.length>0?"block":"none");var n=be("#api-keys").selectAll(".api-key").data(t).enter().append("tr").attr("class","api-key").attr("data-id",(function(e){return e.id}));n.append("td").text((function(e){return e.token_id+"…"})).attr("class","key"),n.append("td").text((function(e){return e.t_created})).attr("class","timestamp"),n.append("td").text((function(e){return e.t_last_used})).attr("class","timestamp"),n.append("td").attr("class","delete clickable").on("click",r).append("i").attr("class","fa fa-trash")}))}we(".option > * > .change-link").on("click",(function(){we(".option").classed("being-edited",!1),be(this.parentNode.parentNode).classed("being-edited",!0)})),we(".option > form").on("reset",(function(){be(this.parentNode).classed("being-edited",!1)})),we(".option .close-form-icon").on("click",(function(){be(this.parentNode.parentNode).classed("being-edited",!1)})),we(".upgrade").on("click",(function(e){e.preventDefault();function t(){window.location.href="/choose-subscription"}setTimeout(t,1e3),Kt("send","event",{eventCategory:"upgrade-click",eventAction:"settings",hitCallback:t})})),be(".api-new").on("click",(function(){Flourish.User.addApiKey((function(e,t){Gt("Make a note of this new API key!","You will not be able to see it again once you close this box <input onclick='this.select()' value='"+t.token+"'></input>",{is_html:!0,buttons:[{text:"Close",keyCode:13,callback:i}]})}))})),we("#api-keys .delete").on("click",r),Ye(Kt=ke("/settings",t),"change-email"),Ye(Kt,"change-password"),Ye(Kt,"change-address"),Ye(Kt,"edit-profile"),Ye(Kt,"renew-subscription"),Ye(Kt,"cancel-subscription")},e.initAnalytics=ke,e.initCanvaLoginPromptPage=function(){new BroadcastChannel("canva_login").addEventListener("message",(e=>{e.data.login&&window.location.reload()}))},e.initCanvaLoginSuccessPage=function(){new BroadcastChannel("canva_login").postMessage({login:!0}),setTimeout((()=>{window.close()}),2e3)},e.initCompanySettings=function(e){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=e.csrf_token;var t=e.user,n=e.company_id,a=e.approval_policy;xe(t),zt(),we(".option > * > .change-link").on("click",(function(){we(".option").classed("being-edited",!1),be(this.parentNode.parentNode).classed("being-edited",!0)})),NL(),we(".option > form").on("reset",(function(){be(this.parentNode).classed("being-edited",!1)})),we(".option .close-form-icon").on("click",(function(){be(this.parentNode.parentNode).classed("being-edited",!1)})),we(".option .close-edit-saml-provider-id-form-button").on("reset",(function(){be(this.parentNode.parentNode).classed("being-edited",!1)})),Ye(DL,"change-company"),be(".invite").on("click",(function(e){e.preventDefault(),OL();var t=Gt("Add more members to your team","<form method=post action='/company/"+n+"'><input type='hidden' name='csrf_token' value='"+window.Flourish.csrf_token+"'><textarea name=emails placeholder='Enter email addresses, one per line or separated by commas'></textarea>"+jL+"</form>",{is_html:!0,buttons:[{text:"Send invites",class:"available",callback:function(){var e=t.select("textarea").node().value.replace(/\s/g,"");e&&(DL("send","event","company","invite",e),t.select("form").node().submit())}},{text:"Cancel",keyCode:27,class:"secondary"}]});t.select("select").on("change",CL),AL(t,"")})),we("input[name=approval]").on("change",(function(){var e=we("input[name=approval]:checked").attr("value");OL(),Gt("Change approval policy","Please confirm that you want to change your company’s approval policy. This will not affect any projects that are already published.",{buttons:[{text:"Confirm",keyCode:13,class:"danger",callback:function(){vn({url:"/api/company/"+n+"/policy",payload:function(){return{value:e}},callback:function(t){t&&(console.error(t),be(".settings-message.error").html("There was a problem: "+t)),DL("send","event","company","change_policy",e)}})}},{text:"Cancel",keyCode:27,class:"secondary",callback:function(){be("input[name=approval][value="+a+"]").property("checked",!0)}}]})})),we("input[name=remove_analytics]").on("change",(function(){var e=this.checked;OL(),vn({url:"/api/company/"+n+"/remove_analytics",payload:function(){return{value:e}},callback:function(t){t&&(console.error(t),be(".settings-message.error").html("There was a problem: "+t)),DL("send","event","company","remove_analytics",e)}})})),we("input[name=require_mfa]").on("change",(function(){var e=this.checked;OL(),vn({url:"/api/company/"+n+"/require_mfa",payload:function(){return{value:e}},callback:function(t){t&&(console.error(t),be(".settings-message.error").html("There was a problem: "+t)),DL("send","event","company","require_mfa",e)}})})),we("input.password-requirements").on("change",(function(){var e={};we("input.password-requirements").each((function(){e[this.name]=this.checked})),OL(),vn({url:"/api/company/"+n+"/password_requirements",payload:function(){return{value:e}},callback:function(t){t&&(console.error(t),be(".settings-message.error").html("There was a problem: "+t)),DL("send","event","company","password_requirements",e)}})})),we("input[name=republishing_requires_approval]").on("change",(function(){var e=this.checked;OL(),vn({url:"/api/company/"+n+"/republishing_requires_approval",payload:function(){return{value:e}},callback:function(t){t&&(console.error(t),be(".settings-message.error").html("There was a problem: "+t)),DL("send","event","company","republishing_requires_approval",e)}})})),we(".btn.resend").on("click",(function(){OL();var e=this.parentNode.getAttribute("data-invitation-id"),t=this.parentNode.getAttribute("data-name"),n=this.parentNode.getAttribute("data-email");const a=Me("input").attr("type","input").attr("name","email").attr("placeholder","Confirm email address").attr("value",n),r=Me("textarea").attr("placeholder","Optional message");var i=Gt("Resend invite to "+t,a.node().outerHTML+r.node().outerHTML,{is_html:!0,buttons:[{text:"Resend invite",class:"available",callback:function(){var t=i.select("textarea").node().value;vn({url:"/api/invitation/"+e+"/reinvite",payload:function(){return{message:t}},callback:function(t){if(t)return console.error(t),void be(".settings-message.error").html("There was a problem: "+t);be(".settings-message").html("Invite email resent"),DL("send","event","company","resend_invite",e)}})}},{text:"Cancel invite",class:"danger",callback:function(){!function(e){vn({url:"/api/invitation/"+e,method:"DELETE",callback:function(t){if(t)return console.error(t),void be(".settings-message").html("There was a problem: "+t).classed("error",!0);be(".settings-message").html("The invitation was cancelled").classed("error",!1);var n=be(".edit-buttons[data-invitation-id='"+e+"']").node();n&&n.parentNode.parentNode.removeChild(n.parentNode),DL("send","event","company","cancel_invite",e)}})}(e)}},{text:"Cancel",keyCode:27,class:"secondary"}]})})),be("#active-members-list").on("click",(e=>{if(e.target.classList.contains("edit")){OL();const t=e.target.parentNode,n=t.getAttribute("data-id"),a=t.getAttribute("data-name"),r=t.getAttribute("data-role"),i=Gt(`Change role for ${a}`,jL,{is_html:!0,buttons:[{text:"Apply",class:"available",callback:()=>{const e=i.select("select").node(),a=e.options[e.selectedIndex].value||null;a!=r&&vn({url:`/api/user/${n}`,payload:()=>({role:a}),callback:e=>{if(e)return console.error(e),void be(".settings-message.error").html(`There was a problem: ${e}`);t.setAttribute("data-role",a);const r=t.parentNode.querySelector(".pills");let i=r.querySelector(".role-pill");a?(i||(i=document.createElement("em"),r.insertBefore(i,r.firstChild)),i.innerHTML=a):i&&r.removeChild(i),DL("send","event","company","change_role",n)}})}},{text:"Cancel",keyCode:27,class:"secondary"}]});i.select("select").on("change",CL),AL(i,r)}else if(e.target.classList.contains("remove")){OL();let t=e.target.parentNode.getAttribute("data-id"),n=e.target.parentNode.getAttribute("data-name");Gt(`Suspend ${n}`,`Confirm that you want to suspend ${n}. They will no longer be able to log in, but their projects will not be deleted.`,{buttons:[{text:"Suspend",class:"danger",callback:function(){be(".company-saml-user-options.being-edited").classed("being-edited",!1),function(e,t){vn({url:"/api/user/"+e+"/suspend",callback:n=>{if(n)return console.error(n),be(".settings-message.error").html("There was a problem: "+n),void Gt(`Could not suspend ${t}`,n,{buttons:[{text:"Continue",keyCode:13}]});const a=be(".edit-buttons[data-id='"+e+"']").node();a&&(be("#suspended-members-header").classed("hidden",!1),PL(a,"suspended")),DL("send","event","company","suspend",e)}})}(t,n)}},{text:"Cancel",keyCode:27,class:"secondary"}]})}else if(e.target.classList.contains("reset-mfa")){OL();let t=e.target.parentNode.getAttribute("data-id"),n=e.target.parentNode.getAttribute("data-name");Gt(`Reset MFA for ${n}`,`<p>Confirm that you want to reset MFA for ${n}. They will be asked to reset their MFA next time they log in.</p>\n\t\t\t\t<p>You should only do this if you are certain of the identity of the user who requested a MFA reset.</p>`,{is_html:!0,buttons:[{text:"Reset MFA",class:"danger",callback:function(){!function(e,t){vn({url:"/api/user/"+e+"/reset_mfa",callback:function(n){if(n)return console.error(n),be(".settings-message.error").html("There was a problem: "+n),void Gt(`Could not reset MFA for ${t}`,n,{buttons:[{text:"Continue",keyCode:13}]});const a=be(`.edit-buttons[data-id="${e}"]`).node();if(a){const e=a.parentNode.querySelector(".pills"),t=e.querySelector(".mfa-pill");t&&e.removeChild(t);const n=a.querySelector(".reset-mfa");n&&a.removeChild(n),a.setAttribute("data-has-mfa","false")}DL("send","event","company","reset_mfa",e)}})}(t,n)}},{text:"Cancel",keyCode:27,class:"secondary"}]})}else if(e.target.classList.contains("submit-change-saml-provider-id-form")){OL();const t=e.target.parentNode,n=t.parentNode,a=n.parentNode.getAttribute("data-id"),r=t.querySelector('[name="saml_provider_id"]').value;Ln.setSamlProviderId(a,r,(function(e){e?t.querySelector(".error.message").textContent=e:(OL(),FL(n,r),n.classList.remove("being-edited"))})),e.preventDefault()}else if(e.target.classList.contains("remove-saml-provider-id")){OL();const t=e.target.parentNode.parentNode.parentNode,n=t.parentNode.getAttribute("data-id");Ln.setSamlProviderId(n,"",(function(e){e?Gt("Failed to clear the SAML federation ID","Error: "+e,{buttons:[{text:"OK",keyCode:13}]}):(OL(),FL(t,""))})),e.preventDefault()}})),be("#suspended-members-list").on("click",(e=>{if(e.target.classList.contains("unsuspend")){OL();let t=e.target.parentNode.getAttribute("data-id"),n=e.target.parentNode.getAttribute("data-name");Gt(`Unsuspend ${n}`,`Confirm you want to unsuspend ${n}.`,{buttons:[{text:"Unsuspend",class:"available",callback:()=>function(e,t){vn({url:"/api/user/"+e+"/unsuspend",callback:function(n){if(n)return console.error(n),be(".settings-message.error").html("There was a problem: "+n),void Gt(`Could not unsuspend ${t}`,n,{buttons:[{text:"Continue",keyCode:13}]});var a=be(".edit-buttons[data-id='"+e+"']").node();a&&(PL(a,"active"),be("#suspended-members-list").selectChildren().size()||be("#suspended-members-header").classed("hidden",!0)),DL("send","event","company","unsuspend",e)}})}(t,n)},{text:"Cancel",keyCode:27,class:"secondary"}]})}})),DL=ke("/company",t)},e.initGenericPage=function(){},e.initLatest=function(e,t){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=t,xe(e),zt(),ke("/latest",e),Xl(),we(".filters.btn-group .btn").on("click",(function(){Zl=this.getAttribute("data-filter"),Ql()})),Ql(0),window.onresize=Ql},e.initLoginPage=function(){ke("/login")("send","event","login")},e.initPaymentForm=function(e){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=e.csrf_token;var t=document.getElementById("form-payment"),n=t.elements,a=ke("/subscribe",e.user),r=e.user,i=e.plans,o=e.coupon,s=e.countries,l=e.stripe_public_key,d=e.form_config,u=function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(null!=a)for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t}({},Ld,e.prefill,hd()),c=null,m=be("#countries"),p=be("#vat-registered-country"),_=be("#vat-registered-checkbox"),h=be("#vat-number"),f=be("#coupon"),y=be("#coupon-wrapper"),g=be("#coupon-error");if(xe(r),!d.force_country){var v=function(e,t){return e.sort((function(e,n){var a=t(e),r=t(n);return a<r?-1:a>r?1:0}))}(md(s),(function(e){return e.name}));m.selectAll("option").data(v,(function(e){return e.code})).enter().append("option").attr("value",(function(e){return e.code})).text((function(e){return e.name}))}function b(){return n.address_country_code.value}function M(){return n.vat_registered.checked}function w(e,t){var n,a,r=s[b()],l=r.plans[t],d=i[l],u=d.currency_symbol,c=d.amount/100;if(o){var m=c,p=m*parseFloat(r.vat_percentage)/100,_=u+(M()?m:m+p).toFixed(2);c*=1-.01*o.percent_off;var h="month"===d.interval?o.duration_in_months:Math.ceil(o.duration_in_months/12),f=o.percent_off+"% off",y="for the first "+(n=d.interval,1===(a=h)?n:a+" "+n+"s");e.select(".original-price").html(_),e.select(".discount-percentage").html(f),e.select(".discount-period").html(y),e.classed("discounted",!0),be(".discount-message").style("display","block")}else e.select(".original-price").style("display","none"),e.select(".discount-percentage").style("display","none"),e.select(".discount-period").style("display","none"),e.classed("discounted",!1),be(".discount-message").style("display","none");var g=c*parseFloat(r.vat_percentage)/100,v=u+(M()?c:c+g).toFixed(2),w="per "+d.interval,L=M()||0===g?"no taxes charged":"includes "+u+g.toFixed(2)+" VAT";e.select(".price").html(v),e.select(".interval").html(w),e.select(".vat-text").html(L)}function L(){n.have_coupon&&n.have_coupon.checked?y.style("display",null):y.style("display","none"),c?g.style("display",null).text(c):g.style("display","none").text("")}function k(){c="",L();var e=f.property("value");pn("/subscribe/coupon-check").header("Content-Type","application/json").mimeType("application/json").post(JSON.stringify({coupon_code:e,csrf_token:window.Flourish.csrf_token}),(function(e,t){if(e){c="Couldn't check the validity of the coupon code - please try again",o=null;var n=e.target.responseText;if(n)try{var a=JSON.parse(n);"error"in a&&(c=a.error)}catch(e){}}else{var r=JSON.parse(t.responseText);o=r.coupon}Y()}))}function Y(){s[b()].vat_moss?(p.html(s[b()].name),_.style("display",null)):(n.vat_registered.checked=!1,_.style("display","none")),M()?h.style("display",null):h.style("display","none"),L(),d.show_plans&&(w(be("#monthly-container"),"monthly"),w(be("#yearly-container"),"yearly"))}cd(md(s).map((function(e){return e.code})),u.address_country_code)||(u.address_country_code=Ld.address_country_code),cd(ud,u.interval)||(u.interval=Ld.interval),_d(t,u),n.address_country_code.addEventListener("change",Y),n.vat_registered.addEventListener("change",Y),n.have_coupon&&n.have_coupon.addEventListener("change",Y),be("#check-coupon").on("click",(function(){k()})),be("#coupon").on("keydown",(function(e){"Enter"===e.key&&(k(),e.preventDefault())})),Y();var D=Stripe(l),x=D.elements({fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Source+Sans+Pro"}]}).create("card",{style:{base:{color:"#32325d",lineHeight:"30px",fontFamily:"Source Sans Pro",fontSmoothing:"antialiased",fontWeight:"400",fontSize:"18px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},value:{postalCode:u.address_postcode}}),T=document.getElementById("card-errors");x.mount("#card-element"),x.addEventListener("change",(function(e){e.error?(T.textContent=e.error.message,T.className="error"):(T.textContent="",T.className="")}));var S=!1;t.addEventListener("submit",(function(e){if(e.preventDefault(),!S){S=!0;var r={name:n.address_name.value,address_line1:n.address_line1.value,address_line2:n.address_line2.value,address_city:n.address_city.value,address_country:n.address_country_code.value};D.createToken(x,r).then((function(e){if(e.error)S=!1,T.textContent=e.error.message,a("send","exception",{exDescription:e.error.message,exFatal:!0});else{var n=e.token,r=n.card,i=!1;_d(t,{address_postcode:r.address_zip,stripe_token_id:n.id});var o=function(){i||(t.submit(),i=!0)};setTimeout(o,1e3),a("send","event",{eventCategory:"payment",eventAction:"submit",hitCallback:o})}})).catch((function(e){S=!1,console.error(e),a("send","exception",{exDescription:e.type,exFatal:!0}),T.textContent="We couldn't connect to our payments provider."}))}}))},e.initPaymentFurtherAuthentication=function(e){var t=Stripe(e.stripe_public_key);function n(){t.handleCardPayment(e.payment_intent_client_secret).then((function(t){if(t.error){var n="<p>Further authentication with your card provider failed: "+t.error.message+"</p><p>Your card has not been charged. ";e.try_auth_immediately?n+='You can <a href="/subscribe">try again by returning to the payment form</a>.':n+='You will need to <a href="/update_card?from_further_auth=1">re-enter your card details</a>.',kd(n)}else kd("Authentication succeeded and payment was successful! Redirecting back to your projects page"),document.getElementById("completed").submit()}))}e.try_auth_immediately?n():be("#authorize-confirmation").on("click",(function(){be(".authorize-confirmation-introduction").style("display","none"),be("#further-authentication-messages").style("display","block"),n()}))},e.initPostRegistrationPage=function(){Kl=ke("/registered");var e=document.getElementById("form-register").elements,t=document.getElementById("skip");function n(){t.style.display="none"}e.organisation&&e.organisation.addEventListener("change",sd),e.organisation_type&&e.organisation_type.addEventListener("change",od),e.organisation_role&&e.organisation_role.addEventListener("change",od);for(var a=0;a<e.length;a++)"submit"!=e[a].type&&e[a].addEventListener("change",n);var r=document.querySelector("select[name=planned_use]");r.addEventListener("change",(function(){r.selectedIndex==r.options.length-1?(r.nextSibling.setAttribute("class","other_planned_use"),setTimeout((function(){r.nextSibling.focus()}),0)):(r.nextSibling.setAttribute("class","hidden"),r.nextSibling.value="")}))},e.initProjects=function(e,t,n){xl=t,window.Flourish=window.Flourish||{},window.Flourish.csrf_token=n,xe(e),bl=e.can_make_new_projects,(Ml=be(".project-list")).classed("view-list",xl.view),Nl(),we(".project-list .project").each((function(){Pl(0,be(this).classed("visualisation")?"visualisation":"story",be(this))})),we(".project.visualisation, .project.story").attr("draggable","true"),zt(),gl=ke("/projects",e),kn(vl=Flourish.app={user:e,analytics:gl}),we(".create-visualisation").on("click",(function(e){bl||(e.preventDefault(),Yn(vl,"Upgrade to create more visualisations","You've reached the maximum number of visualisations allowed with your account.","upgrade-projects",!0))})),"true"===xl.is_recent&&(Sl=!0,be("#recent").classed("current",!0)),Tl=xl.active_tag,Vl(),ml(be(".project-list .project.visualisation").size()>0?Hl:El),vl.user&&vl.user.tour_intro_status<1&&(be(".projects").classed("introducing",!1),we("#new-user-tour").remove(),Flourish.tour.start(),vl.analytics("send","event","tour","start",""),vl.analytics("set","page","/tour/start"),vl.analytics("send","pageview"),vl.user&&Ln.update({tour_intro_status:1},(function(e){e&&console.error("Error updating tour_intro_status",e),Ln.logHistory({category:"tour",action:"started"})}))),xl.banners.forEach((function(e){var t=new Date(e.downtime_datetime_string),n=document.getElementById("downtime_"+e.key),a="#downtime_"+e.key+" .dismiss";document.querySelector(a).addEventListener("click",(function(){document.cookie=e.cookie_key+"=1; expires="+e.cookie_expires+"; path=/",n.parentNode.removeChild(n)}));var r=document.getElementById("start-downtime-"+e.key),i=t.toLocaleTimeString(),o=t.toLocaleDateString(void 0,e.date_format_options),s=Intl.DateTimeFormat().resolvedOptions().timeZone;r.innerHTML=i+" "+o+" ("+s+")"})),Jl(),Rl(),be("#project-list-inner").on("dragstart",(function(e){var t=be(e.target).classed("project-dragging",!0),n=JSON.stringify({type:t.classed("visualisation")?"Visualisation":"Story",data_id:t.attr("data-id")});e.dataTransfer.setData("text/plain",n),e.dataTransfer.dropEffect="move",e.dataTransfer.effectAllowed="move",e.dataTransfer.setDragImage(t.node(),0,0)})).on("dragend",(function(e){be(e.target).classed("project-dragging",!1)})),we("#my-projects, #tag-title a").on("dragover",Il).on("dragleave",ql).on("drop",Bl),we(".project.tag").on("dragover",Wl).on("dragleave",zl).on("drop",Bl),we("input[type=text], input[type=search], textarea").on("dragenter, dragover, drop",(function(e){return e.preventDefault(),!1})),window.addEventListener("scroll",Rl),window.addEventListener("resize",Nl),Tl&&we(".create-buttons form").append("input").attr("type","hidden").attr("name","tag_name").attr("value",Tl)},e.initProviderRegistrationPage=function(){Kl=ke("/register/provider");var e=document.getElementById("form-register"),t=e.elements;""!=t.username.value&&rd.call(t.username);var n=document.getElementById("username-preview");t.username.addEventListener("input",(function(e){rd.call(e.target);var t=e.target.value;n&&(n.innerText=t)})),t.display_name.addEventListener("change",sd),e.addEventListener("submit",(function(e){ad();var n=!1;""==t.username.value?(td("username","Username may not be blank"),n=!0):$l?Gl||(td("username","Username is already taken"),n=!0):(td("username","Username may contain only letters (A–Z, a–z), numbers (0–9), dots (.) and underscores (_)"),n=!0),""==t.display_name.value&&(td("display_name","Name may not be blank"),n=!0),t.accept_terms.checked||(td("accept_terms","You must agree to the terms and conditions"),n=!0),t.accept_privacy.checked||(td("accept_privacy","You must have read the privacy policy"),n=!0),n&&e.preventDefault()}))},e.initRegistrationPage=function(e){Kl=ke("/register");var t=document.getElementById("form-register"),n=t.elements;""!=n.uname.value&&rd.call(n.uname),n.uname.addEventListener("change",rd),n.uname.addEventListener("keypress",id),n.uname.addEventListener("keyup",rd),n.display_name.addEventListener("change",sd),n.email.addEventListener("change",sd),n.organisation&&n.organisation.addEventListener("change",sd),n.organisation_type&&n.organisation_type.addEventListener("change",od),n.organisation_role&&n.organisation_role.addEventListener("change",od),n.password.addEventListener("change",od),t.addEventListener("submit",(function(t){ad();var a=!1;ld("In submit event listener:",JSON.stringify({uname_value:n.uname.value,username_is_valid:$l,password_value:n.password.value,display_name_value:n.display_name.value,email_value:n.email.value,accept_terms_checked:n.accept_terms.checked,accept_privacy_checked:n.accept_privacy.checked},null,4)),""==n.uname.value?(td("uname","Username may not be blank"),a=!0):$l?Gl||(td("uname","Username is already taken"),a=!0):(td("uname","Username may contain only letters (A–Z, a–z), numbers (0–9), dots (.) and underscores (_)"),a=!0),""==n.password.value?(td("password","Password may not be blank"),a=!0):n.password.value==n.email.value?(td("password","Password may not be your email address."),a=!0):n.password.value.length<e&&(td("password","Password must be at least "+e+" characters"),a=!0),""==n.display_name.value&&(td("display_name","Name may not be blank"),a=!0),""==n.email.value?(td("email","Email address may not be blank"),a=!0):n.email.value.match(/@.*\./)||(td("email","That doesn’t look like an email address"),a=!0),n.accept_terms.checked||(td("accept_terms","You must agree to the terms and conditions"),a=!0),n.accept_privacy.checked||(td("accept_privacy","You must have read the privacy policy"),a=!0),ld("at end of submit listener, error was:",a),a&&t.preventDefault()}))},e.initResetPassword=function(){zt()},e.initShowcaseStory=function(e,t,n,a,r){a||(a=e+"story/"+t+"/embed"),zt(),Ir(e,a,null,{embed_version:n}),en(),Er(ke("/story"),"story",t,".create-new"),Hr(r)},e.initShowcaseTemplate=function(e,t,n){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=n,xe(e),zt(),function(e){we(".toggle-favourite").on("click",(function(){Ct.hide();var t=be(this);t.classed("is-favourite")?Sr.unfavourite(e,(function(n){if(n)return console.error("Failed to unfavourite template",n),Gt("Failed to unfavourite template",n),void Dr("send","exception",{exDescription:n.message||n,exFatal:!1});Dr("send","event","template","unfavourite",void 0,e),t.classed("is-favourite",!1),t.select("span").text("Favourite"),t.attr("data-popup-head","Add this template to your template chooser")})):Sr.favourite(e,(function(n){if(n)return console.error("Failed to favourite template",n),Gt("Failed to favourite template",n),void Dr("send","exception",{exDescription:n.message||n,exFatal:!1});Dr("send","event","template","favourite",void 0,e),t.classed("is-favourite",!0),t.select("span").text("Unfavourite"),t.attr("data-popup-head","Remove this template from your template chooser")}))}))}(t),window.location.hash&&be(".readme-container").classed("expanded",!0),be(".description-link").on("click",(function(){this.parentElement.classList.add("expanded")})),we(".readme-container h2, .api-docs-container h2").append("i").attr("class","fa fa-link anchor").attr("title","Get direct link").on("click",(function(){window.location.hash=this.parentElement.id})),en(),jr(),Er(Dr=ke("/template",e),"template",t,".create-new",e),Dr("send","event","template","showcase",void 0,t),kn({user:e,analytics:Dr})},e.initShowcaseUser=function(e,t){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=t,xe(e),zt(),en(),kn({user:e,analytics:ke("/user",e)}),Yr(),window.addEventListener("resize",Yr)},e.initShowcaseVisualisation=function(e,t,n,a,r,i){r||(r=e+"visualisation/"+t+"/embed"),zt(),Ir(e,r,{category:n&&n.length&&n[0]},{sdk_version:a}),en(),Er(ke("/visualisation"),"visualisation",t,".create-new"),Hr(i)},e.initStoryEditor=function(e,t,n,a,r,i,o,s,l,d){xe(e),zt();let u=null;if(l){const{id:e,...t}=l;u=new Br(e,t)}window.Flourish=window.Flourish||{},window.Flourish.csrf_token=d,window.Flourish.app=new Kp(t,n,a,e,r,i,o,s,u)},e.initStoryPlayer=function(e,t,n,a,r,i,o){xe(e),Bp=Pp("#story iframe","story_player",void 0,void 0,{customerAnalytics:function(e){"mouse_enter"!==e.action&&"mouse_leave"!==e.action&&Jp.sendCustomerAnalyticsMessage(e)}}),Jp=np(),o&&Jp.initCustomerAnalytics(),window.Flourish=window.Flourish||{};var s=window.Flourish.app=new Xp(t,n,a,r,e,i,o);if(window.addEventListener("hashchange",(function(){s.loadSlideFromHash()})),"scrolly"==t.presentation_mode){var l=t.slides.map((function(e){var t=e.caption_text?e.caption_text.replace(/<p>/g,'<p style="margin: 0">'):"";return kt.sanitize(t)}));Jp.initScrolly({slides:l})}},e.initTemplateChooser=function(e,t,n){window.Flourish=window.Flourish||{},window.Flourish.csrf_token=n,t&&!window.location.href.includes("?folder=")&&window.history.replaceState("url with folder","",window.location.href+"?folder="+encodeURIComponent(t)),wL=ke("/visualisation/edit",YL=e),zt(),we("form.blueprint").on("click",(function(){HL(this)})).on("keydown",(function(e){"Enter"==e.key&&HL(this)})),we(".premium-template-upgrade-required").on("click",(function(e){e.preventDefault(),e.stopPropagation(),Yn({analytics:wL},"Upgrade to access this premium template","You'll need to upgrade in order to get access to this premium template.","upgrade-projects-premium-template",!0)})),we(".expand-toggle").on("click",(function(){var e=be(this.parentNode).classed("expanded");be(this.parentNode).classed("expanded",!e)})),kL=we(".template"),EL(),be(".need-help").on("click",(function(){window.Beacon("open"),window.Beacon("navigate","/ask")})),we(".filter").on("click",(function(){SL(this.getAttribute("data-filter"))})),ml(TL),YL&&YL.tour_intro_status<2&&Flourish.tour.start()},e.initThemeEditor=function(e,t){var n=["Not private to a company",""],a=n,r=[n];t.forEach((function(t){var n=[t.name,t.id.toString()];r.push([t.name,t.id]),e.company_id==t.id&&(a=n)})),(RL=be("#theme-company")).attr("value",a[0]).attr("data-value",a[1]),RL.on("change",(function(){var e=this.getAttribute("data-value");be("input[name='company_id']").property("value",e)})),X_(RL.node(),"company-dropdown",r),document.addEventListener("keydown",(function(e){"s"===e.key&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),document.querySelector(".content form").submit())}))},e.initThemesList=function(){const e=be("#theme-search-input"),t=we(".themes-list-item");e.on("input change",(e=>{const n=e.target.value.toLowerCase();t.classed("hidden",(function(){const e=be(this).selectChild(".themes-list-item-name").text().toLowerCase(),t=be(this).selectChild(".themes-list-item-company").text().toLowerCase();return!(e.includes(n)||t.includes(n))}))}))},e.initTour=ml,e.initVisualisationEditor=function(e,t,n,a,r,i,o,s,l,d,u,c,m,p,_,h,f,y,g){xe(e),zt(),window.Flourish=window.Flourish||{},window.Flourish.csrf_token=y,window.Flourish.app=new bL(t,n,a,r,i,o,e,s,l,d,u,c,m,p,_,h,f,g)},e.initWebhooks=function(e){we(".webhook-delete").on("click",(function(t){var n=be(t.target),a=n.attr("data-webhook-id");Gt("Delete webhook",`Do you really want to delete the webhook ${n.attr("data-webhook-url")}?`,{buttons:[{text:"Delete",class:"danger",callback:function(){pn("/company/webhook/"+a).header("Content-Type","application/json").send("DELETE",JSON.stringify({csrf_token:e}),(function(e,t){if(e){var n,r=e.target.responseText;try{n=`Failed to delete the webhook: ${JSON.parse(r).error}`}catch(e){console.error("Couldn't parse responseText:",r),n="Failed to delete the webhook; please try again."}be(".message.confirm").text(n)}else be("#webhook-row-"+a).remove(),be(".message.confirm").text("Webhook was deleted")}))}},{text:"Cancel",keyCode:27,class:"secondary"}]})}))},Object.defineProperty(e,"__esModule",{value:!0}),e}({},XLSX,Handsontable);
//# sourceMappingURL=script.js.map
